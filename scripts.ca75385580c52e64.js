!function(tt,oe){"object"==typeof exports&&"object"==typeof module?module.exports=oe(require("xmldom"),require("JSZip")):"function"==typeof define&&define.amd?define(["xmldom","JSZip"],oe):"object"==typeof exports?exports.ePub=oe(require("xmldom"),require("JSZip")):tt.ePub=oe(tt.xmldom,tt.JSZip)}(window,function(tt,oe){return function(P){var q={};function r(x){if(q[x])return q[x].exports;var C=q[x]={i:x,l:!1,exports:{}};return P[x].call(C.exports,C,C.exports,r),C.l=!0,C.exports}return r.m=P,r.c=q,r.d=function(x,C,m){r.o(x,C)||Object.defineProperty(x,C,{enumerable:!0,get:m})},r.r=function(x){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})},r.t=function(x,C){if(1&C&&(x=r(x)),8&C||4&C&&"object"==typeof x&&x&&x.__esModule)return x;var m=Object.create(null);if(r.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:x}),2&C&&"string"!=typeof x)for(var d in x)r.d(m,d,function(i){return x[i]}.bind(null,d));return m},r.n=function(x){var C=x&&x.__esModule?function(){return x.default}:function(){return x};return r.d(C,"a",C),C},r.o=function(x,C){return Object.prototype.hasOwnProperty.call(x,C)},r.p="/Users/mmagos/RiderProjects/plew/plew/Clientapp/libs/epub.js/dist/",r(r.s=94)}([function(P,q,r){"use strict";r.r(q),r.d(q,"requestAnimationFrame",function(){return C}),r.d(q,"uuid",function(){return d}),r.d(q,"documentHeight",function(){return i}),r.d(q,"isElement",function(){return o}),r.d(q,"isNumber",function(){return l}),r.d(q,"isFloat",function(){return p}),r.d(q,"prefixed",function(){return E}),r.d(q,"defaults",function(){return g}),r.d(q,"extend",function(){return v}),r.d(q,"insert",function(){return S}),r.d(q,"locationOf",function(){return f}),r.d(q,"indexOfSorted",function(){return a}),r.d(q,"bounds",function(){return _}),r.d(q,"borders",function(){return j}),r.d(q,"nodeBounds",function(){return A}),r.d(q,"windowBounds",function(){return e}),r.d(q,"indexOfNode",function(){return T}),r.d(q,"indexOfTextNode",function(){return R}),r.d(q,"indexOfElementNode",function(){return W}),r.d(q,"isXml",function(){return K}),r.d(q,"createBlob",function(){return at}),r.d(q,"createBlobUrl",function(){return rt}),r.d(q,"revokeBlobUrl",function(){return dt}),r.d(q,"createBase64Url",function(){return St}),r.d(q,"type",function(){return _t}),r.d(q,"parse",function(){return qt}),r.d(q,"qs",function(){return jt}),r.d(q,"qsa",function(){return c}),r.d(q,"qsp",function(){return u}),r.d(q,"sprint",function(){return D}),r.d(q,"treeWalker",function(){return M}),r.d(q,"walk",function(){return H}),r.d(q,"blob2base64",function(){return nt}),r.d(q,"defer",function(){return kt}),r.d(q,"querySelectorByType",function(){return Tt}),r.d(q,"findChildren",function(){return Lt}),r.d(q,"parents",function(){return Vt}),r.d(q,"filterChildren",function(){return Ht}),r.d(q,"getParentByTagName",function(){return Ot}),r.d(q,"RangeObject",function(){return At}),r(29),r(18),r(25);var x=r(49);const C=typeof window<"u"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),m=typeof URL<"u"?URL:typeof window<"u"?window.URL||window.webkitURL||window.mozURL:void 0;function d(){var b=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var w=(b+16*Math.random())%16|0;return b=Math.floor(b/16),("x"==s?w:7&w|8).toString(16)})}function i(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}function o(b){return!(!b||1!=b.nodeType)}function l(b){return!isNaN(parseFloat(b))&&isFinite(b)}function p(b){let s=parseFloat(b);return!1!==l(b)&&("string"==typeof b&&b.indexOf(".")>-1||Math.floor(s)!==s)}function E(b){var s=["-webkit-","-webkit-","-moz-","-o-","-ms-"],w=b.toLowerCase();if(typeof document>"u"||void 0!==document.body.style[w])return b;for(var z=0;z<5;z++)if(void 0!==document.body.style[s[z]+w])return s[z]+w;return b}function g(b){for(var s=1,w=arguments.length;s<w;s++){var N=arguments[s];for(var z in N)void 0===b[z]&&(b[z]=N[z])}return b}function v(b){return[].slice.call(arguments,1).forEach(function(w){w&&Object.getOwnPropertyNames(w).forEach(function(N){Object.defineProperty(b,N,Object.getOwnPropertyDescriptor(w,N))})}),b}function S(b,s,w){var N=f(b,s,w);return s.splice(N,0,b),N}function f(b,s,w,N,z){var $,it=N||0,vt=z||s.length,Et=parseInt(it+(vt-it)/2);return w||(w=function(Mt,$t){return Mt>$t?1:Mt<$t?-1:Mt==$t?0:void 0}),vt-it<=0?Et:($=w(s[Et],b),vt-it==1?$>=0?Et:Et+1:0===$?Et:-1===$?f(b,s,w,Et,vt):f(b,s,w,it,Et))}function a(b,s,w,N,z){var $,it=N||0,vt=z||s.length,Et=parseInt(it+(vt-it)/2);return w||(w=function(Mt,$t){return Mt>$t?1:Mt<$t?-1:Mt==$t?0:void 0}),vt-it<=0?-1:($=w(s[Et],b),vt-it==1?0===$?Et:-1:0===$?Et:-1===$?a(b,s,w,Et,vt):a(b,s,w,it,Et))}function _(b){var s=window.getComputedStyle(b),w=0,N=0;return["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"].forEach(function(z){w+=parseFloat(s[z])||0}),["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"].forEach(function(z){N+=parseFloat(s[z])||0}),{height:N,width:w}}function j(b){var s=window.getComputedStyle(b),w=0,N=0;return["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"].forEach(function(z){w+=parseFloat(s[z])||0}),["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"].forEach(function(z){N+=parseFloat(s[z])||0}),{height:N,width:w}}function A(b){let s;if(b.nodeType==Node.TEXT_NODE){let N=b.ownerDocument.createRange();N.selectNodeContents(b),s=N.getBoundingClientRect()}else s=b.getBoundingClientRect();return s}function e(){var b=window.innerWidth,s=window.innerHeight;return{top:0,left:0,right:b,bottom:s,width:b,height:s}}function T(b,s){for(var w,N=b.parentNode.childNodes,z=-1,$=0;$<N.length&&((w=N[$]).nodeType===s&&z++,w!=b);$++);return z}function R(b){return T(b,3)}function W(b){return T(b,1)}function K(b){return["xml","opf","ncx"].indexOf(b)>-1}function at(b,s){return new Blob([b],{type:s})}function rt(b,s){var w=at(b,s);return m.createObjectURL(w)}function dt(b){return m.revokeObjectURL(b)}function St(b,s){if("string"==typeof b)return"data:"+s+";base64,"+btoa(encodeURIComponent(b))}function _t(b){return Object.prototype.toString.call(b).slice(8,-1)}function qt(b,s,w){var N;return N=typeof DOMParser>"u"||w?x.DOMParser:DOMParser,65279===b.charCodeAt(0)&&(b=b.slice(1)),(new N).parseFromString(b,s)}function jt(b,s){var w;if(!b)throw new Error("No Element Provided");return void 0!==b.querySelector?b.querySelector(s):(w=b.getElementsByTagName(s)).length?w[0]:void 0}function c(b,s){return void 0!==b.querySelector?b.querySelectorAll(s):b.getElementsByTagName(s)}function u(b,s,w){var N,z;if(void 0!==b.querySelector){for(var $ in s+="[",w)s+=$+"~='"+w[$]+"'";return b.querySelector(s+="]")}if(N=b.getElementsByTagName(s),z=Array.prototype.slice.call(N,0).filter(function(it){for(var vt in w)if(it.getAttribute(vt)===w[vt])return!0;return!1}))return z[0]}function D(b,s){void 0!==(b.ownerDocument||b).createTreeWalker?M(b,s,NodeFilter.SHOW_TEXT):H(b,function(w){w&&3===w.nodeType&&s(w)})}function M(b,s,w){var N=document.createTreeWalker(b,w,null,!1);let z;for(;z=N.nextNode();)s(z)}function H(b,s){if(s(b))return!0;if(b=b.firstChild)do{if(H(b,s))return!0;b=b.nextSibling}while(b)}function nt(b){return new Promise(function(s,w){var N=new FileReader;N.readAsDataURL(b),N.onloadend=function(){s(N.result)}})}function kt(){this.resolve=null,this.reject=null,this.id=d(),this.promise=new Promise((b,s)=>{this.resolve=b,this.reject=s}),Object.freeze(this)}function Tt(b,s,w){var N;if(void 0!==b.querySelector&&(N=b.querySelector(`${s}[*|type="${w}"]`)),N&&0!==N.length)return N;N=c(b,s);for(var z=0;z<N.length;z++)if(N[z].getAttributeNS("http://www.idpf.org/2007/ops","type")===w||N[z].getAttribute("epub:type")===w)return N[z]}function Lt(b){for(var s=[],w=b.childNodes,N=0;N<w.length;N++){let z=w[N];1===z.nodeType&&s.push(z)}return s}function Vt(b){for(var s=[b];b;b=b.parentNode)s.unshift(b);return s}function Ht(b,s,w){for(var N=[],z=b.childNodes,$=0;$<z.length;$++){let it=z[$];if(1===it.nodeType&&it.nodeName.toLowerCase()===s){if(w)return it;N.push(it)}}if(!w)return N}function Ot(b,s){let w;if(null!==b&&""!==s)for(w=b.parentNode;1===w.nodeType;){if(w.tagName.toLowerCase()===s)return w;w=w.parentNode}}class At{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(s,w){this.startContainer=s,this.startOffset=w,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(s,w){this.endContainer=s,this.endOffset=w,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(s){this.collapsed=!0,s?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(s){let w=s.parentNode,N=Array.prototype.indexOf.call(w.childNodes,s);this.setStart(w,N),this.setEnd(w,N+1)}selectNodeContents(s){let w=3===s.nodeType?s.textContent.length:parent.childNodes.length;this.setStart(s,0),this.setEnd(s,w)}_commonAncestorContainer(s,w){var N=Vt(s||this.startContainer),z=Vt(w||this.endContainer);if(N[0]==z[0])for(var $=0;$<N.length;$++)if(N[$]!=z[$])return N[$-1]}_checkCollapsed(){this.collapsed=this.startContainer===this.endContainer&&this.startOffset===this.endOffset}toString(){}}},function(P,q,r){"use strict";r.d(q,"b",function(){return x}),r.d(q,"a",function(){return C}),r.d(q,"c",function(){return m});const x="0.3",C=["keydown","keyup","keypressed","mouseup","mousedown","click","touchend","touchstart","touchmove"],m={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}}},function(P,q,r){"use strict";var x=r(0);class C{constructor(d,i,o){var l;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof C))return new C(d,i,o);if("string"==typeof i?this.base=this.parseComponent(i):"object"==typeof i&&i.steps&&(this.base=i),"string"===(l=this.checkType(d)))return this.str=d,Object(x.extend)(this,this.parse(d));if("range"===l)return Object(x.extend)(this,this.fromRange(d,this.base,o));if("node"===l)return Object(x.extend)(this,this.fromNode(d,this.base,o));if("EpubCFI"===l&&d.path)return d;if(d)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(d){return this.isCfiString(d)?"string":!d||"object"!=typeof d||"Range"!==Object(x.type)(d)&&void 0===d.startContainer?d&&"object"==typeof d&&void 0!==d.nodeType?"node":!!(d&&"object"==typeof d&&d instanceof C)&&"EpubCFI":"range"}parse(d){var i,o,l,p={spinePos:-1,range:!1,base:{},path:{},start:null,end:null};return"string"!=typeof d?{spinePos:-1}:(0===d.indexOf("epubcfi(")&&")"===d[d.length-1]&&(d=d.slice(8,d.length-1)),(i=this.getChapterComponent(d))?(p.base=this.parseComponent(i),o=this.getPathComponent(d),p.path=this.parseComponent(o),(l=this.getRange(d))&&(p.range=!0,p.start=this.parseComponent(l[0]),p.end=this.parseComponent(l[1])),p.spinePos=p.base.steps[1].index,p):{spinePos:-1})}parseComponent(d){var o={steps:[],terminal:{offset:null,assertion:null}},l=d.split(":"),p=l[0].split("/");return l.length>1&&(o.terminal=this.parseTerminal(l[1])),""===p[0]&&p.shift(),o.steps=p.map(function(E){return this.parseStep(E)}.bind(this)),o}parseStep(d){var i,o,l,p,E;if((p=d.match(/\[(.*)\]/))&&p[1]&&(E=p[1]),o=parseInt(d),!isNaN(o))return o%2==0?(i="element",l=o/2-1):(i="text",l=(o-1)/2),{type:i,index:l,id:E||null}}parseTerminal(d){var i,o,l=d.match(/\[(.*)\]/);return l&&l[1]?(i=parseInt(d.split("[")[0]),o=l[1]):i=parseInt(d),Object(x.isNumber)(i)||(i=null),{offset:i,assertion:o}}getChapterComponent(d){return d.split("!")[0]}getPathComponent(d){var i=d.split("!");if(i[1])return i[1].split(",")[0]}getRange(d){var i=d.split(",");return 3===i.length&&[i[1],i[2]]}getCharecterOffsetComponent(d){return d.split(":")[1]||""}joinSteps(d){return d?d.map(function(i){var o="";return"element"===i.type&&(o+=2*(i.index+1)),"text"===i.type&&(o+=1+2*i.index),i.id&&(o+="["+i.id+"]"),o}).join("/"):""}segmentString(d){var i="/";return i+=this.joinSteps(d.steps),d.terminal&&null!=d.terminal.offset&&(i+=":"+d.terminal.offset),d.terminal&&null!=d.terminal.assertion&&(i+="["+d.terminal.assertion+"]"),i}toString(){var d="epubcfi(";return d+=this.segmentString(this.base),d+="!",d+=this.segmentString(this.path),this.range&&this.start&&(d+=",",d+=this.segmentString(this.start)),this.range&&this.end&&(d+=",",d+=this.segmentString(this.end)),d+")"}compare(d,i){var o,l,p,E;if("string"==typeof d&&(d=new C(d)),"string"==typeof i&&(i=new C(i)),d.spinePos>i.spinePos)return 1;if(d.spinePos<i.spinePos)return-1;d.range?(o=d.path.steps.concat(d.start.steps),p=d.start.terminal):(o=d.path.steps,p=d.path.terminal),i.range?(l=i.path.steps.concat(i.start.steps),E=i.start.terminal):(l=i.path.steps,E=i.path.terminal);for(var g=0;g<o.length;g++){if(!o[g])return-1;if(!l[g]||o[g].index>l[g].index)return 1;if(o[g].index<l[g].index)return-1}return o.length<l.length?-1:p.offset>E.offset?1:p.offset<E.offset?-1:0}step(d){return{id:d.id,tagName:d.tagName,type:3===d.nodeType?"text":"element",index:this.position(d)}}filteredStep(d,i){var l=this.filter(d,i);if(l)return{id:l.id,tagName:l.tagName,type:3===l.nodeType?"text":"element",index:this.filteredPosition(l,i)}}pathTo(d,i,o){for(var l,p={steps:[],terminal:{offset:null,assertion:null}},E=d;E&&E.parentNode&&9!=E.parentNode.nodeType;)(l=o?this.filteredStep(E,o):this.step(E))&&p.steps.unshift(l),E=E.parentNode;return null!=i&&i>=0&&(p.terminal.offset=i,"text"!=p.steps[p.steps.length-1].type&&p.steps.push({type:"text",index:0})),p}equalStep(d,i){return!(!d||!i)&&d.index===i.index&&d.id===i.id&&d.type===i.type}fromRange(d,i,o){var l={range:!1,base:{},path:{},start:null,end:null},p=d.startContainer,E=d.endContainer,g=d.startOffset,v=d.endOffset,S=!1;if(o&&(S=null!=p.ownerDocument.querySelector("."+o)),"string"==typeof i?(l.base=this.parseComponent(i),l.spinePos=l.base.steps[1].index):"object"==typeof i&&(l.base=i),d.collapsed)S&&(g=this.patchOffset(p,g,o)),l.path=this.pathTo(p,g,o);else{l.range=!0,S&&(g=this.patchOffset(p,g,o)),l.start=this.pathTo(p,g,o),S&&(v=this.patchOffset(E,v,o)),l.end=this.pathTo(E,v,o),l.path={steps:[],terminal:null};var f,a=l.start.steps.length;for(f=0;f<a&&this.equalStep(l.start.steps[f],l.end.steps[f]);f++)f===a-1?l.start.terminal===l.end.terminal&&(l.path.steps.push(l.start.steps[f]),l.range=!1):l.path.steps.push(l.start.steps[f]);l.start.steps=l.start.steps.slice(l.path.steps.length),l.end.steps=l.end.steps.slice(l.path.steps.length)}return l}fromNode(d,i,o){var l={range:!1,base:{},path:{},start:null,end:null};return"string"==typeof i?(l.base=this.parseComponent(i),l.spinePos=l.base.steps[1].index):"object"==typeof i&&(l.base=i),l.path=this.pathTo(d,null,o),l}filter(d,i){var o,l,p,E,g,v=!1;return 3===d.nodeType?(v=!0,p=d.parentNode,o=d.parentNode.classList.contains(i)):(v=!1,o=d.classList.contains(i)),o&&v?(g=p.nextSibling,(E=p.previousSibling)&&3===E.nodeType?l=E:g&&3===g.nodeType&&(l=g),l||d):!(o&&!v)&&d}patchOffset(d,i,o){if(3!=d.nodeType)throw new Error("Anchor must be a text node");var l=d,p=i;for(d.parentNode.classList.contains(o)&&(l=d.parentNode);l.previousSibling;){if(1===l.previousSibling.nodeType){if(!l.previousSibling.classList.contains(o))break;p+=l.previousSibling.textContent.length}else p+=l.previousSibling.textContent.length;l=l.previousSibling}return p}normalizedMap(d,i,o){var l,p,E,g={},v=-1,S=d.length;for(l=0;l<S;l++)1===(p=d[l].nodeType)&&d[l].classList.contains(o)&&(p=3),l>0&&3===p&&3===E?g[l]=v:i===p&&(g[l]=v+=1),E=p;return g}position(d){var i,o;return 1===d.nodeType?((i=d.parentNode.children)||(i=Object(x.findChildren)(d.parentNode)),o=Array.prototype.indexOf.call(i,d)):o=(i=this.textNodes(d.parentNode)).indexOf(d),o}filteredPosition(d,i){var o,l;return 1===d.nodeType?l=this.normalizedMap(o=d.parentNode.children,1,i):(o=d.parentNode.childNodes,d.parentNode.classList.contains(i)&&(o=(d=d.parentNode).parentNode.childNodes),l=this.normalizedMap(o,3,i)),l[Array.prototype.indexOf.call(o,d)]}stepsToXpath(d){var i=[".","*"];return d.forEach(function(o){var l=o.index+1;i.push(o.id?"*[position()="+l+" and @id='"+o.id+"']":"text"===o.type?"text()["+l+"]":"*["+l+"]")}),i.join("/")}stepsToQuerySelector(d){var i=["html"];return d.forEach(function(o){var l=o.index+1;o.id?i.push("#"+o.id):"text"===o.type||i.push("*:nth-child("+l+")")}),i.join(">")}textNodes(d,i){return Array.prototype.slice.call(d.childNodes).filter(function(o){return 3===o.nodeType||!(!i||!o.classList.contains(i))})}walkToNode(d,i,o){var l,p,E=i||document,g=E.documentElement,v=d.length;for(p=0;p<v&&("element"===(l=d[p]).type?g=l.id?E.getElementById(l.id):(g.children||Object(x.findChildren)(g))[l.index]:"text"===l.type&&(g=this.textNodes(g,o)[l.index]),g);p++);return g}findNode(d,i,o){var l,p,E=i||document;return o||void 0===E.evaluate?l=o?this.walkToNode(d,E,o):this.walkToNode(d,E):(p=this.stepsToXpath(d),l=E.evaluate(p,E,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue),l}fixMiss(d,i,o,l){var p,E,g=this.findNode(d.slice(0,-1),o,l),v=g.childNodes,S=this.normalizedMap(v,3,l),f=d[d.length-1].index;for(let a in S){if(!S.hasOwnProperty(a))return;if(S[a]===f){if(!(i>(E=(p=v[a]).textContent.length))){g=1===p.nodeType?p.childNodes[0]:p;break}i-=E}}return{container:g,offset:i}}toRange(d,i){var o,l,p,E,g,v,S,f,a=d||document,_=!!i&&null!=a.querySelector("."+i);if(o=void 0!==a.createRange?a.createRange():new x.RangeObject,this.range?(v=this.path.steps.concat((l=this.start).steps),E=this.findNode(v,a,_?i:null),S=this.path.steps.concat((p=this.end).steps),g=this.findNode(S,a,_?i:null)):(l=this.path,v=this.path.steps,E=this.findNode(this.path.steps,a,_?i:null)),!E)return console.log("No startContainer found for",this.toString()),null;try{o.setStart(E,null!=l.terminal.offset?l.terminal.offset:0)}catch{f=this.fixMiss(v,l.terminal.offset,a,_?i:null),o.setStart(f.container,f.offset)}if(g)try{o.setEnd(g,null!=p.terminal.offset?p.terminal.offset:0)}catch{f=this.fixMiss(S,this.end.terminal.offset,a,_?i:null),o.setEnd(f.container,f.offset)}return o}isCfiString(d){return"string"==typeof d&&0===d.indexOf("epubcfi(")&&")"===d[d.length-1]}generateChapterComponent(d,i,o){var l="/"+2*(d+1)+"/";return l+=2*(parseInt(i)+1),o&&(l+="["+o+"]"),l}collapse(d){this.range&&(this.range=!1,d?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}q.a=C},function(P,q,r){"use strict";var x,C,m,d,i,o,l,p=r(113),E=r(127),g=Function.prototype.apply,v=Function.prototype.call,S=Object.create,f=Object.defineProperty,a=Object.defineProperties,_=Object.prototype.hasOwnProperty,j={configurable:!0,enumerable:!1,writable:!0};C=function(A,e){var T,R;return E(e),R=this,x.call(this,A,T=function(){m.call(R,A,T),g.call(e,this,arguments)}),T.__eeOnceListener__=e,this},i={on:x=function(A,e){var T;return E(e),_.call(this,"__ee__")?T=this.__ee__:(T=j.value=S(null),f(this,"__ee__",j),j.value=null),T[A]?"object"==typeof T[A]?T[A].push(e):T[A]=[T[A],e]:T[A]=e,this},once:C,off:m=function(A,e){var T,R,W,K;if(E(e),!_.call(this,"__ee__"))return this;if(!(T=this.__ee__)[A])return this;if("object"==typeof(R=T[A]))for(K=0;W=R[K];++K)W!==e&&W.__eeOnceListener__!==e||(2===R.length?T[A]=R[K?0:1]:R.splice(K,1));else R!==e&&R.__eeOnceListener__!==e||delete T[A];return this},emit:d=function(A){var e,T,R,W,K;if(_.call(this,"__ee__")&&(W=this.__ee__[A]))if("object"==typeof W){for(T=arguments.length,K=new Array(T-1),e=1;e<T;++e)K[e-1]=arguments[e];for(W=W.slice(),e=0;R=W[e];++e)g.call(R,this,K)}else switch(arguments.length){case 1:v.call(W,this);break;case 2:v.call(W,this,arguments[1]);break;case 3:v.call(W,this,arguments[1],arguments[2]);break;default:for(T=arguments.length,K=new Array(T-1),e=1;e<T;++e)K[e-1]=arguments[e];g.call(W,this,K)}}},o={on:p(x),once:p(C),off:p(m),emit:p(d)},l=a({},o),P.exports=q=function(A){return null==A?S(l):a(Object(A),o)},q.methods=i},function(P,q,r){(function(x){var C=function(m){return m&&m.Math==Math&&m};P.exports=C("object"==typeof globalThis&&globalThis)||C("object"==typeof window&&window)||C("object"==typeof self&&self)||C("object"==typeof x&&x)||Function("return this")()}).call(this,r(36))},function(P,q,r){var x=r(4),C=r(74),m=r(9),d=r(55),i=r(78),o=r(105),l=C("wks"),p=x.Symbol,E=o?p:p&&p.withoutSetter||d;P.exports=function(g){return m(l,g)||(l[g]=i&&m(p,g)?p[g]:E("Symbol."+g)),l[g]}},function(P,q,r){"use strict";r(18),r(25);var x=r(11),C=r.n(x);q.a=class{constructor(m){var d;m.indexOf("://")>-1&&(m=new URL(m).pathname),d=this.parse(m),this.path=m,this.directory=this.isDirectory(m)?m:d.dir+"/",this.filename=d.base,this.extension=d.ext.slice(1)}parse(m){return C.a.parse(m)}isAbsolute(m){return C.a.isAbsolute(m||this.path)}isDirectory(m){return"/"===m.charAt(m.length-1)}resolve(m){return C.a.resolve(this.directory,m)}relative(m){return m&&m.indexOf("://")>-1?m:C.a.relative(this.directory,m)}splitPath(m){return this.splitPathRe.exec(m).slice(1)}toString(){return this.path}}},function(P,q,r){"use strict";r(18),r(25);var x=r(6),C=r(11),m=r.n(C);q.a=class{constructor(d,i){var o=d.indexOf("://")>-1,l=d;if(this.Url=void 0,this.href=d,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=i,!o&&!1!==i&&"string"!=typeof i&&window&&window.location&&(this.base=window.location.href),o||this.base)try{this.Url=this.base?new URL(d,this.base):new URL(d),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,l=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch{this.Url=void 0,this.base&&(l=new x.a(this.base).resolve(l))}this.Path=new x.a(l),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(d){var i;return d.indexOf("://")>-1?d:(i=m.a.resolve(this.directory,d),this.origin+i)}relative(d){return m.a.relative(d,this.directory)}toString(){return this.href}}},function(P,q,r){"use strict";r(18),q.a=class{constructor(x){this.context=x||this,this.hooks=[]}register(){for(var x=0;x<arguments.length;++x)if("function"==typeof arguments[x])this.hooks.push(arguments[x]);else for(var C=0;C<arguments[x].length;++C)this.hooks.push(arguments[x][C])}deregister(x){let C;for(let m=0;m<this.hooks.length;m++)if(C=this.hooks[m],C===x){this.hooks.splice(m,1);break}}trigger(){var x=arguments,C=this.context,m=[];return this.hooks.forEach(function(d){var i=d.apply(C,x);i&&"function"==typeof i.then&&m.push(i)}),Promise.all(m)}list(){return this.hooks}clear(){return this.hooks=[]}}},function(P,q){var r={}.hasOwnProperty;P.exports=function(x,C){return r.call(x,C)}},function(P,q){P.exports=function(r){try{return!!r()}catch{return!0}}},function(P,q,r){"use strict";if(!x)var x={cwd:function(){return"/"}};function C(i){if("string"!=typeof i)throw new TypeError("Path must be a string. Received "+i)}function m(i,o){for(var l,p="",E=-1,g=0,v=0;v<=i.length;++v){if(v<i.length)l=i.charCodeAt(v);else{if(47===l)break;l=47}if(47===l){if(E!==v-1&&1!==g)if(E!==v-1&&2===g){if(p.length<2||46!==p.charCodeAt(p.length-1)||46!==p.charCodeAt(p.length-2))if(p.length>2){for(var S=p.length-1,f=S;f>=0&&47!==p.charCodeAt(f);--f);if(f!==S){p=-1===f?"":p.slice(0,f),E=v,g=0;continue}}else if(2===p.length||1===p.length){p="",E=v,g=0;continue}o&&(p.length>0?p+="/..":p="..")}else p.length>0?p+="/"+i.slice(E+1,v):p=i.slice(E+1,v);E=v,g=0}else 46===l&&-1!==g?++g:g=-1}return p}var d={resolve:function(){for(var i,o="",l=!1,p=arguments.length-1;p>=-1&&!l;p--){var E;p>=0?E=arguments[p]:(void 0===i&&(i=x.cwd()),E=i),C(E),0!==E.length&&(o=E+"/"+o,l=47===E.charCodeAt(0))}return o=m(o,!l),l?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(i){if(C(i),0===i.length)return".";var o=47===i.charCodeAt(0),l=47===i.charCodeAt(i.length-1);return 0!==(i=m(i,!o)).length||o||(i="."),i.length>0&&l&&(i+="/"),o?"/"+i:i},isAbsolute:function(i){return C(i),i.length>0&&47===i.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var i,o=0;o<arguments.length;++o){var l=arguments[o];C(l),l.length>0&&(void 0===i?i=l:i+="/"+l)}return void 0===i?".":d.normalize(i)},relative:function(i,o){if(C(i),C(o),i===o||(i=d.resolve(i))===(o=d.resolve(o)))return"";for(var l=1;l<i.length&&47===i.charCodeAt(l);++l);for(var p=i.length,E=p-l,g=1;g<o.length&&47===o.charCodeAt(g);++g);for(var v=o.length-g,S=E<v?E:v,f=-1,a=0;a<=S;++a){if(a===S){if(v>S){if(47===o.charCodeAt(g+a))return o.slice(g+a+1);if(0===a)return o.slice(g+a)}else E>S&&(47===i.charCodeAt(l+a)?f=a:0===a&&(f=0));break}var _=i.charCodeAt(l+a);if(_!==o.charCodeAt(g+a))break;47===_&&(f=a)}var j="";for(a=l+f+1;a<=p;++a)a!==p&&47!==i.charCodeAt(a)||(j+=0===j.length?"..":"/..");return j.length>0?j+o.slice(g+f):(47===o.charCodeAt(g+=f)&&++g,o.slice(g))},_makeLong:function(i){return i},dirname:function(i){if(C(i),0===i.length)return".";for(var o=i.charCodeAt(0),l=47===o,p=-1,E=!0,g=i.length-1;g>=1;--g)if(47===(o=i.charCodeAt(g))){if(!E){p=g;break}}else E=!1;return-1===p?l?"/":".":l&&1===p?"//":i.slice(0,p)},basename:function(i,o){if(void 0!==o&&"string"!=typeof o)throw new TypeError('"ext" argument must be a string');C(i);var l,p=0,E=-1,g=!0;if(void 0!==o&&o.length>0&&o.length<=i.length){if(o.length===i.length&&o===i)return"";var v=o.length-1,S=-1;for(l=i.length-1;l>=0;--l){var f=i.charCodeAt(l);if(47===f){if(!g){p=l+1;break}}else-1===S&&(g=!1,S=l+1),v>=0&&(f===o.charCodeAt(v)?-1==--v&&(E=l):(v=-1,E=S))}return p===E?E=S:-1===E&&(E=i.length),i.slice(p,E)}for(l=i.length-1;l>=0;--l)if(47===i.charCodeAt(l)){if(!g){p=l+1;break}}else-1===E&&(g=!1,E=l+1);return-1===E?"":i.slice(p,E)},extname:function(i){C(i);for(var o=-1,l=0,p=-1,E=!0,g=0,v=i.length-1;v>=0;--v){var S=i.charCodeAt(v);if(47!==S)-1===p&&(E=!1,p=v+1),46===S?-1===o?o=v:1!==g&&(g=1):-1!==o&&(g=-1);else if(!E){l=v+1;break}}return-1===o||-1===p||0===g||1===g&&o===p-1&&o===l+1?"":i.slice(o,p)},format:function(i){if(null===i||"object"!=typeof i)throw new TypeError('Parameter "pathObject" must be an object, not '+typeof i);return E=(l=i).base||(l.name||"")+(l.ext||""),(p=l.dir||l.root)?p===l.root?p+E:p+"/"+E:E;var l,p,E},parse:function(i){C(i);var o={root:"",dir:"",base:"",ext:"",name:""};if(0===i.length)return o;var l,p=i.charCodeAt(0),E=47===p;E?(o.root="/",l=1):l=0;for(var g=-1,v=0,S=-1,f=!0,a=i.length-1,_=0;a>=l;--a)if(47!==(p=i.charCodeAt(a)))-1===S&&(f=!1,S=a+1),46===p?-1===g?g=a:1!==_&&(_=1):-1!==g&&(_=-1);else if(!f){v=a+1;break}return-1===g||-1===S||0===_||1===_&&g===S-1&&g===v+1?-1!==S&&(o.base=o.name=i.slice(0===v&&E?1:v,S)):(0===v&&E?(o.name=i.slice(1,g),o.base=i.slice(1,S)):(o.name=i.slice(v,g),o.base=i.slice(v,S)),o.ext=i.slice(g,S)),v>0?o.dir=i.slice(0,v-1):E&&(o.dir="/"),o},sep:"/",delimiter:":",posix:null};P.exports=d},function(P,q,r){var x=r(10);P.exports=!x(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(P,q,r){var x=r(12),C=r(16),m=r(24);P.exports=x?function(d,i,o){return C.f(d,i,m(1,o))}:function(d,i,o){return d[i]=o,d}},function(P,q,r){"use strict";r.d(q,"a",function(){return m}),r.d(q,"b",function(){return d}),r.d(q,"d",function(){return i}),r.d(q,"c",function(){return o}),r.d(q,"e",function(){return l}),r(29);var x=r(0),C=r(7);function m(p,E){var g,v,S=E.url,f=S.indexOf("://")>-1;p&&(v=Object(x.qs)(p,"head"),(g=Object(x.qs)(v,"base"))||(g=p.createElement("base"),v.insertBefore(g,v.firstChild)),!f&&window&&window.location&&(S=window.location.origin+S),g.setAttribute("href",S))}function d(p,E){var g,v,S=E.canonical;p&&(g=Object(x.qs)(p,"head"),(v=Object(x.qs)(g,"link[rel='canonical']"))?v.setAttribute("href",S):((v=p.createElement("link")).setAttribute("rel","canonical"),v.setAttribute("href",S),g.appendChild(v)))}function i(p,E){var g,v,S=E.idref;p&&(g=Object(x.qs)(p,"head"),(v=Object(x.qs)(g,"link[property='dc.identifier']"))?v.setAttribute("content",S):((v=p.createElement("meta")).setAttribute("name","dc.identifier"),v.setAttribute("content",S),g.appendChild(v)))}function o(p,E){var g=p.querySelectorAll("a[href]");if(g.length)for(var v=Object(x.qs)(p.ownerDocument,"base"),S=v?v.getAttribute("href"):void 0,f=function(_){var j=_.getAttribute("href");if(0!==j.indexOf("mailto:"))if(j.indexOf("://")>-1)_.setAttribute("target","_blank");else{var A;try{A=new C.a(j,S)}catch{}_.onclick=function(){return E(A&&A.hash?A.Path.path+A.hash:A?A.Path.path:j),!1}}}.bind(this),a=0;a<g.length;a++)f(g[a])}function l(p,E,g){return E.forEach(function(v,S){v&&g[S]&&(v=v.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),p=p.replace(new RegExp(v,"g"),g[S]))}),p}r(6)},function(P,q){P.exports=function(r){return"object"==typeof r?null!==r:"function"==typeof r}},function(P,q,r){var x=r(12),C=r(70),m=r(17),d=r(40),i=Object.defineProperty;q.f=x?i:function(o,l,p){if(m(o),l=d(l,!0),m(p),C)try{return i(o,l,p)}catch{}if("get"in p||"set"in p)throw TypeError("Accessors not supported");return"value"in p&&(o[l]=p.value),o}},function(P,q,r){var x=r(15);P.exports=function(C){if(!x(C))throw TypeError(String(C)+" is not an object");return C}},function(P,q,r){var x=r(4),C=r(108),m=r(79),d=r(13),i=r(5),o=i("iterator"),l=i("toStringTag"),p=m.values;for(var E in C){var g=x[E],v=g&&g.prototype;if(v){if(v[o]!==p)try{d(v,o,p)}catch{v[o]=p}if(v[l]||d(v,l,E),C[E])for(var S in m)if(v[S]!==m[S])try{d(v,S,m[S])}catch{v[S]=m[S]}}}},function(P,q,r){var x=r(22),C=Math.min;P.exports=function(m){return m>0?C(x(m),9007199254740991):0}},function(P,q,r){var x=r(4),C=r(13),m=r(9),d=r(53),i=r(72),o=r(21),l=o.get,p=o.enforce,E=String(String).split("String");(P.exports=function(g,v,S,f){var a=!!f&&!!f.unsafe,_=!!f&&!!f.enumerable,j=!!f&&!!f.noTargetGet;"function"==typeof S&&("string"!=typeof v||m(S,"name")||C(S,"name",v),p(S).source=E.join("string"==typeof v?v:"")),g!==x?(a?!j&&g[v]&&(_=!0):delete g[v],_?g[v]=S:C(g,v,S)):_?g[v]=S:d(v,S)})(Function.prototype,"toString",function(){return"function"==typeof this&&l(this).source||i(this)})},function(P,q,r){var x,C,m,d=r(97),i=r(4),o=r(15),l=r(13),p=r(9),E=r(54),g=r(56);if(d){var S=new(0,i.WeakMap),f=S.get,a=S.has,_=S.set;x=function(A,e){return _.call(S,A,e),e},C=function(A){return f.call(S,A)||{}},m=function(A){return a.call(S,A)}}else{var j=E("state");g[j]=!0,x=function(A,e){return l(A,j,e),e},C=function(A){return p(A,j)?A[j]:{}},m=function(A){return p(A,j)}}P.exports={set:x,get:C,has:m,enforce:function(A){return m(A)?C(A):x(A,{})},getterFor:function(A){return function(e){var T;if(!o(e)||(T=C(e)).type!==A)throw TypeError("Incompatible receiver, "+A+" required");return T}}}},function(P,q){var r=Math.ceil,x=Math.floor;P.exports=function(C){return isNaN(C=+C)?0:(C>0?x:r)(C)}},function(P,q,r){var x=r(39);P.exports=function(C){return Object(x(C))}},function(P,q){P.exports=function(r,x){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:x}}},function(P,q,r){"use strict";r(128);var x,C=r(30),m=r(12),d=r(85),i=r(4),o=r(80),l=r(20),p=r(45),E=r(9),g=r(129),v=r(130),S=r(60).codeAt,f=r(135),a=r(32),_=r(136),j=r(21),A=i.URL,e=_.URLSearchParams,T=_.getState,R=j.set,W=j.getterFor("URL"),K=Math.floor,at=Math.pow,rt=/[A-Za-z]/,dt=/[\d+-.A-Za-z]/,St=/\d/,_t=/^(0x|0X)/,qt=/^[0-7]+$/,jt=/^\d+$/,c=/^[\dA-Fa-f]+$/,u=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,D=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,M=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,H=/[\u0009\u000A\u000D]/g,nt=function(V,xt){var It,pt,Jt;if("["==xt.charAt(0)){if("]"!=xt.charAt(xt.length-1)||!(It=Tt(xt.slice(1,-1))))return"Invalid host";V.host=It}else if(w(V)){if(xt=f(xt),u.test(xt)||null===(It=kt(xt)))return"Invalid host";V.host=It}else{if(D.test(xt))return"Invalid host";for(It="",pt=v(xt),Jt=0;Jt<pt.length;Jt++)It+=b(pt[Jt],Vt);V.host=It}},kt=function(V){var xt,It,pt,Jt,yt,fe,pe,ae=V.split(".");if(ae.length&&""==ae[ae.length-1]&&ae.pop(),(xt=ae.length)>4)return V;for(It=[],pt=0;pt<xt;pt++){if(""==(Jt=ae[pt]))return V;if(yt=10,Jt.length>1&&"0"==Jt.charAt(0)&&(yt=_t.test(Jt)?16:8,Jt=Jt.slice(8==yt?1:2)),""===Jt)fe=0;else{if(!(10==yt?jt:8==yt?qt:c).test(Jt))return V;fe=parseInt(Jt,yt)}It.push(fe)}for(pt=0;pt<xt;pt++)if(fe=It[pt],pt==xt-1){if(fe>=at(256,5-xt))return null}else if(fe>255)return null;for(pe=It.pop(),pt=0;pt<It.length;pt++)pe+=It[pt]*at(256,3-pt);return pe},Tt=function(V){var xt,It,pt,Jt,yt,fe,pe,ae=[0,0,0,0,0,0,0,0],Dt=0,ve=null,Zt=0,we=function(){return V.charAt(Zt)};if(":"==we()){if(":"!=V.charAt(1))return;Zt+=2,ve=++Dt}for(;we();){if(8==Dt)return;if(":"!=we()){for(xt=It=0;It<4&&c.test(we());)xt=16*xt+parseInt(we(),16),Zt++,It++;if("."==we()){if(0==It||(Zt-=It,Dt>6))return;for(pt=0;we();){if(Jt=null,pt>0){if(!("."==we()&&pt<4))return;Zt++}if(!St.test(we()))return;for(;St.test(we());){if(yt=parseInt(we(),10),null===Jt)Jt=yt;else{if(0==Jt)return;Jt=10*Jt+yt}if(Jt>255)return;Zt++}ae[Dt]=256*ae[Dt]+Jt,2!=++pt&&4!=pt||Dt++}if(4!=pt)return;break}if(":"==we()){if(Zt++,!we())return}else if(we())return;ae[Dt++]=xt}else{if(null!==ve)return;Zt++,ve=++Dt}}if(null!==ve)for(fe=Dt-ve,Dt=7;0!=Dt&&fe>0;)pe=ae[Dt],ae[Dt--]=ae[ve+fe-1],ae[ve+--fe]=pe;else if(8!=Dt)return;return ae},Lt=function(V){var xt,It,pt,Jt;if("number"==typeof V){for(xt=[],It=0;It<4;It++)xt.unshift(V%256),V=K(V/256);return xt.join(".")}if("object"==typeof V){for(xt="",pt=function(yt){for(var fe=null,pe=1,ae=null,Dt=0,ve=0;ve<8;ve++)0!==yt[ve]?(Dt>pe&&(fe=ae,pe=Dt),ae=null,Dt=0):(null===ae&&(ae=ve),++Dt);return Dt>pe&&(fe=ae,pe=Dt),fe}(V),It=0;It<8;It++)Jt&&0===V[It]||(Jt&&(Jt=!1),pt===It?(xt+=It?":":"::",Jt=!0):(xt+=V[It].toString(16),It<7&&(xt+=":")));return"["+xt+"]"}return V},Vt={},Ht=g({},Vt,{" ":1,'"':1,"<":1,">":1,"`":1}),Ot=g({},Ht,{"#":1,"?":1,"{":1,"}":1}),At=g({},Ot,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),b=function(V,xt){var It=S(V,0);return It>32&&It<127&&!E(xt,V)?V:encodeURIComponent(V)},s={ftp:21,file:null,http:80,https:443,ws:80,wss:443},w=function(V){return E(s,V.scheme)},N=function(V){return""!=V.username||""!=V.password},z=function(V){return!V.host||V.cannotBeABaseURL||"file"==V.scheme},$=function(V,xt){var It;return 2==V.length&&rt.test(V.charAt(0))&&(":"==(It=V.charAt(1))||!xt&&"|"==It)},it=function(V){var xt;return V.length>1&&$(V.slice(0,2))&&(2==V.length||"/"===(xt=V.charAt(2))||"\\"===xt||"?"===xt||"#"===xt)},vt=function(V){var xt=V.path,It=xt.length;!It||"file"==V.scheme&&1==It&&$(xt[0],!0)||xt.pop()},Et=function(V){return"."===V||"%2e"===V.toLowerCase()},Mt={},$t={},Ct={},zt={},se={},L={},B={},F={},Y={},Z={},Q={},st={},ct={},ft={},mt={},Rt={},Nt={},Pt={},Gt={},Bt={},ie={},ge=function(V,xt,It,pt){var Jt,yt,fe,pe,ae,Dt=It||Mt,ve=0,Zt="",we=!1,yn=!1,bn=!1;for(It||(V.scheme="",V.username="",V.password="",V.host=null,V.port=null,V.path=[],V.query=null,V.fragment=null,V.cannotBeABaseURL=!1,xt=xt.replace(M,"")),xt=xt.replace(H,""),Jt=v(xt);ve<=Jt.length;){switch(yt=Jt[ve],Dt){case Mt:if(!yt||!rt.test(yt)){if(It)return"Invalid scheme";Dt=Ct;continue}Zt+=yt.toLowerCase(),Dt=$t;break;case $t:if(yt&&(dt.test(yt)||"+"==yt||"-"==yt||"."==yt))Zt+=yt.toLowerCase();else{if(":"!=yt){if(It)return"Invalid scheme";Zt="",Dt=Ct,ve=0;continue}if(It&&(w(V)!=E(s,Zt)||"file"==Zt&&(N(V)||null!==V.port)||"file"==V.scheme&&!V.host))return;if(V.scheme=Zt,It)return void(w(V)&&s[V.scheme]==V.port&&(V.port=null));Zt="","file"==V.scheme?Dt=ft:w(V)&&pt&&pt.scheme==V.scheme?Dt=zt:w(V)?Dt=F:"/"==Jt[ve+1]?(Dt=se,ve++):(V.cannotBeABaseURL=!0,V.path.push(""),Dt=Gt)}break;case Ct:if(!pt||pt.cannotBeABaseURL&&"#"!=yt)return"Invalid scheme";if(pt.cannotBeABaseURL&&"#"==yt){V.scheme=pt.scheme,V.path=pt.path.slice(),V.query=pt.query,V.fragment="",V.cannotBeABaseURL=!0,Dt=ie;break}Dt="file"==pt.scheme?ft:L;continue;case zt:if("/"!=yt||"/"!=Jt[ve+1]){Dt=L;continue}Dt=Y,ve++;break;case se:if("/"==yt){Dt=Z;break}Dt=Pt;continue;case L:if(V.scheme=pt.scheme,yt==x)V.username=pt.username,V.password=pt.password,V.host=pt.host,V.port=pt.port,V.path=pt.path.slice(),V.query=pt.query;else if("/"==yt||"\\"==yt&&w(V))Dt=B;else if("?"==yt)V.username=pt.username,V.password=pt.password,V.host=pt.host,V.port=pt.port,V.path=pt.path.slice(),V.query="",Dt=Bt;else{if("#"!=yt){V.username=pt.username,V.password=pt.password,V.host=pt.host,V.port=pt.port,V.path=pt.path.slice(),V.path.pop(),Dt=Pt;continue}V.username=pt.username,V.password=pt.password,V.host=pt.host,V.port=pt.port,V.path=pt.path.slice(),V.query=pt.query,V.fragment="",Dt=ie}break;case B:if(!w(V)||"/"!=yt&&"\\"!=yt){if("/"!=yt){V.username=pt.username,V.password=pt.password,V.host=pt.host,V.port=pt.port,Dt=Pt;continue}Dt=Z}else Dt=Y;break;case F:if(Dt=Y,"/"!=yt||"/"!=Zt.charAt(ve+1))continue;ve++;break;case Y:if("/"!=yt&&"\\"!=yt){Dt=Z;continue}break;case Z:if("@"==yt){we&&(Zt="%40"+Zt),we=!0,fe=v(Zt);for(var ln=0;ln<fe.length;ln++){var wn=fe[ln];if(":"!=wn||bn){var un=b(wn,At);bn?V.password+=un:V.username+=un}else bn=!0}Zt=""}else if(yt==x||"/"==yt||"?"==yt||"#"==yt||"\\"==yt&&w(V)){if(we&&""==Zt)return"Invalid authority";ve-=v(Zt).length+1,Zt="",Dt=Q}else Zt+=yt;break;case Q:case st:if(It&&"file"==V.scheme){Dt=Rt;continue}if(":"!=yt||yn){if(yt==x||"/"==yt||"?"==yt||"#"==yt||"\\"==yt&&w(V)){if(w(V)&&""==Zt)return"Invalid host";if(It&&""==Zt&&(N(V)||null!==V.port))return;if(pe=nt(V,Zt))return pe;if(Zt="",Dt=Nt,It)return;continue}"["==yt?yn=!0:"]"==yt&&(yn=!1),Zt+=yt}else{if(""==Zt)return"Invalid host";if(pe=nt(V,Zt))return pe;if(Zt="",Dt=ct,It==st)return}break;case ct:if(!St.test(yt)){if(yt==x||"/"==yt||"?"==yt||"#"==yt||"\\"==yt&&w(V)||It){if(""!=Zt){var cn=parseInt(Zt,10);if(cn>65535)return"Invalid port";V.port=w(V)&&cn===s[V.scheme]?null:cn,Zt=""}if(It)return;Dt=Nt;continue}return"Invalid port"}Zt+=yt;break;case ft:if(V.scheme="file","/"==yt||"\\"==yt)Dt=mt;else{if(!pt||"file"!=pt.scheme){Dt=Pt;continue}if(yt==x)V.host=pt.host,V.path=pt.path.slice(),V.query=pt.query;else if("?"==yt)V.host=pt.host,V.path=pt.path.slice(),V.query="",Dt=Bt;else{if("#"!=yt){it(Jt.slice(ve).join(""))||(V.host=pt.host,V.path=pt.path.slice(),vt(V)),Dt=Pt;continue}V.host=pt.host,V.path=pt.path.slice(),V.query=pt.query,V.fragment="",Dt=ie}}break;case mt:if("/"==yt||"\\"==yt){Dt=Rt;break}pt&&"file"==pt.scheme&&!it(Jt.slice(ve).join(""))&&($(pt.path[0],!0)?V.path.push(pt.path[0]):V.host=pt.host),Dt=Pt;continue;case Rt:if(yt==x||"/"==yt||"\\"==yt||"?"==yt||"#"==yt){if(!It&&$(Zt))Dt=Pt;else if(""==Zt){if(V.host="",It)return;Dt=Nt}else{if(pe=nt(V,Zt))return pe;if("localhost"==V.host&&(V.host=""),It)return;Zt="",Dt=Nt}continue}Zt+=yt;break;case Nt:if(w(V)){if(Dt=Pt,"/"!=yt&&"\\"!=yt)continue}else if(It||"?"!=yt)if(It||"#"!=yt){if(yt!=x&&(Dt=Pt,"/"!=yt))continue}else V.fragment="",Dt=ie;else V.query="",Dt=Bt;break;case Pt:if(yt==x||"/"==yt||"\\"==yt&&w(V)||!It&&("?"==yt||"#"==yt)){if(".."===(ae=(ae=Zt).toLowerCase())||"%2e."===ae||".%2e"===ae||"%2e%2e"===ae?(vt(V),"/"==yt||"\\"==yt&&w(V)||V.path.push("")):Et(Zt)?"/"==yt||"\\"==yt&&w(V)||V.path.push(""):("file"==V.scheme&&!V.path.length&&$(Zt)&&(V.host&&(V.host=""),Zt=Zt.charAt(0)+":"),V.path.push(Zt)),Zt="","file"==V.scheme&&(yt==x||"?"==yt||"#"==yt))for(;V.path.length>1&&""===V.path[0];)V.path.shift();"?"==yt?(V.query="",Dt=Bt):"#"==yt&&(V.fragment="",Dt=ie)}else Zt+=b(yt,Ot);break;case Gt:"?"==yt?(V.query="",Dt=Bt):"#"==yt?(V.fragment="",Dt=ie):yt!=x&&(V.path[0]+=b(yt,Vt));break;case Bt:It||"#"!=yt?yt!=x&&("'"==yt&&w(V)?V.query+="%27":V.query+="#"==yt?"%23":b(yt,Vt)):(V.fragment="",Dt=ie);break;case ie:yt!=x&&(V.fragment+=b(yt,Ht))}ve++}},ue=function(V){var xt,It,pt=p(this,ue,"URL"),Jt=arguments.length>1?arguments[1]:void 0,yt=String(V),fe=R(pt,{type:"URL"});if(void 0!==Jt)if(Jt instanceof ue)xt=W(Jt);else if(It=ge(xt={},String(Jt)))throw TypeError(It);if(It=ge(fe,yt,null,xt))throw TypeError(It);var pe=fe.searchParams=new e,ae=T(pe);ae.updateSearchParams(fe.query),ae.updateURL=function(){fe.query=String(pe)||null},m||(pt.href=ke.call(pt),pt.origin=ze.call(pt),pt.protocol=Fe.call(pt),pt.username=Me.call(pt),pt.password=Ne.call(pt),pt.host=Ke.call(pt),pt.hostname=hn.call(pt),pt.port=en.call(pt),pt.pathname=kn.call(pt),pt.search=On.call(pt),pt.searchParams=An.call(pt),pt.hash=vn.call(pt))},me=ue.prototype,ke=function(){var V=W(this),xt=V.scheme,It=V.username,pt=V.password,Jt=V.host,yt=V.port,fe=V.path,pe=V.query,ae=V.fragment,Dt=xt+":";return null!==Jt?(Dt+="//",N(V)&&(Dt+=It+(pt?":"+pt:"")+"@"),Dt+=Lt(Jt),null!==yt&&(Dt+=":"+yt)):"file"==xt&&(Dt+="//"),Dt+=V.cannotBeABaseURL?fe[0]:fe.length?"/"+fe.join("/"):"",null!==pe&&(Dt+="?"+pe),null!==ae&&(Dt+="#"+ae),Dt},ze=function(){var V=W(this),xt=V.scheme,It=V.port;if("blob"==xt)try{return new URL(xt.path[0]).origin}catch{return"null"}return"file"!=xt&&w(V)?xt+"://"+Lt(V.host)+(null!==It?":"+It:""):"null"},Fe=function(){return W(this).scheme+":"},Me=function(){return W(this).username},Ne=function(){return W(this).password},Ke=function(){var V=W(this),xt=V.host,It=V.port;return null===xt?"":null===It?Lt(xt):Lt(xt)+":"+It},hn=function(){var V=W(this).host;return null===V?"":Lt(V)},en=function(){var V=W(this).port;return null===V?"":String(V)},kn=function(){var V=W(this),xt=V.path;return V.cannotBeABaseURL?xt[0]:xt.length?"/"+xt.join("/"):""},On=function(){var V=W(this).query;return V?"?"+V:""},An=function(){return W(this).searchParams},vn=function(){var V=W(this).fragment;return V?"#"+V:""},Ie=function(V,xt){return{get:V,set:xt,configurable:!0,enumerable:!0}};if(m&&o(me,{href:Ie(ke,function(V){var xt=W(this),It=String(V),pt=ge(xt,It);if(pt)throw TypeError(pt);T(xt.searchParams).updateSearchParams(xt.query)}),origin:Ie(ze),protocol:Ie(Fe,function(V){var xt=W(this);ge(xt,String(V)+":",Mt)}),username:Ie(Me,function(V){var xt=W(this),It=v(String(V));if(!z(xt)){xt.username="";for(var pt=0;pt<It.length;pt++)xt.username+=b(It[pt],At)}}),password:Ie(Ne,function(V){var xt=W(this),It=v(String(V));if(!z(xt)){xt.password="";for(var pt=0;pt<It.length;pt++)xt.password+=b(It[pt],At)}}),host:Ie(Ke,function(V){var xt=W(this);xt.cannotBeABaseURL||ge(xt,String(V),Q)}),hostname:Ie(hn,function(V){var xt=W(this);xt.cannotBeABaseURL||ge(xt,String(V),st)}),port:Ie(en,function(V){var xt=W(this);z(xt)||(""==(V=String(V))?xt.port=null:ge(xt,V,ct))}),pathname:Ie(kn,function(V){var xt=W(this);xt.cannotBeABaseURL||(xt.path=[],ge(xt,V+"",Nt))}),search:Ie(On,function(V){var xt=W(this);""==(V=String(V))?xt.query=null:("?"==V.charAt(0)&&(V=V.slice(1)),xt.query="",ge(xt,V,Bt)),T(xt.searchParams).updateSearchParams(xt.query)}),searchParams:Ie(An),hash:Ie(vn,function(V){var xt=W(this);""!=(V=String(V))?("#"==V.charAt(0)&&(V=V.slice(1)),xt.fragment="",ge(xt,V,ie)):xt.fragment=null})}),l(me,"toJSON",function(){return ke.call(this)},{enumerable:!0}),l(me,"toString",function(){return ke.call(this)},{enumerable:!0}),A){var jn=A.createObjectURL,mn=A.revokeObjectURL;jn&&l(ue,"createObjectURL",function(V){return jn.apply(A,arguments)}),mn&&l(ue,"revokeObjectURL",function(V){return mn.apply(A,arguments)})}a(ue,"URL"),C({global:!0,forced:!d,sham:!m},{URL:ue})},function(P,q,r){"use strict";var x=r(0);q.a=class{constructor(C){this._q=[],this.context=C,this.tick=x.requestAnimationFrame,this.running=!1,this.paused=!1}enqueue(){var C,m,d=[].shift.call(arguments),i=arguments;if(!d)throw new Error("No Task Provided");return m="function"==typeof d?{task:d,args:i,deferred:C=new x.defer,promise:C.promise}:{promise:d},this._q.push(m),0!=this.paused||this.running||this.run(),m.promise}dequeue(){var C,m,d;return!this._q.length||this.paused?((C=new x.defer).deferred.resolve(),C.promise):(m=(C=this._q.shift()).task)?(d=m.apply(this.context,C.args))&&"function"==typeof d.then?d.then(function(){C.deferred.resolve.apply(this.context,arguments)}.bind(this),function(){C.deferred.reject.apply(this.context,arguments)}.bind(this)):(C.deferred.resolve.apply(this.context,d),C.promise):C.promise?C.promise:void 0}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new x.defer),this.tick.call(window,()=>{this._q.length?this.dequeue().then(function(){this.run()}.bind(this)):(this.defered.resolve(),this.running=void 0)}),1==this.paused&&(this.paused=!1),this.defered.promise}flush(){return this.running?this.running:this._q.length?(this.running=this.dequeue().then(function(){return this.running=void 0,this.flush()}.bind(this)),this.running):void 0}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}}},function(P,q,r){"use strict";var x=r(3),C=r.n(x),m=r(0),i=r(28),o=r(26),l=r(92),p=r.n(l),v=r(1);class S{constructor(a){this.name="default",this.optsSettings=a.settings,this.View=a.view,this.request=a.request,this.renditionQueue=a.queue,this.q=new o.a(this),this.settings=Object(m.extend)(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0}),Object(m.extend)(this.settings,a.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0},this.rendered=!1}render(a,_){let j=a.tagName;void 0!==this.settings.fullsize||!j||"body"!=j.toLowerCase()&&"html"!=j.toLowerCase()||(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=_,this.settings.rtlScrollType=function d(){var f="reverse",a=function(){var _=document.createElement("div");_.dir="rtl",_.style.position="fixed",_.style.width="1px",_.style.height="1px",_.style.top="0px",_.style.left="0px",_.style.overflow="hidden";var j=document.createElement("div");j.style.width="2px";var A=document.createElement("span");A.style.width="1px",A.style.display="inline-block";var e=document.createElement("span");return e.style.width="1px",e.style.display="inline-block",j.appendChild(A),j.appendChild(e),_.appendChild(j),_}();return document.body.appendChild(a),a.scrollLeft>0?f="default":typeof Element<"u"&&Element.prototype.scrollIntoView?(a.children[0].children[1].scrollIntoView(),a.scrollLeft<0&&(f="negative")):(a.scrollLeft=1,0===a.scrollLeft&&(f="negative")),document.body.removeChild(a),f}(),this.stage=new class{constructor(f){this.settings=f||{},this.id="epubjs-container-"+Object(m.uuid)(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(f){let a=f.height,_=f.width,j=f.overflow||!1,A=f.axis||"vertical",e=f.direction;Object(m.extend)(this.settings,f),f.height&&Object(m.isNumber)(f.height)&&(a=f.height+"px"),f.width&&Object(m.isNumber)(f.width)&&(_=f.width+"px");let T=document.createElement("div");return T.id=this.id,T.classList.add("epub-container"),T.style.wordSpacing="0",T.style.lineHeight="0",T.style.verticalAlign="top",T.style.position="relative","horizontal"===A&&(T.style.display="flex",T.style.flexDirection="row",T.style.flexWrap="nowrap"),_&&(T.style.width=_),a&&(T.style.height=a),j&&("scroll"===j&&"vertical"===A?(T.style["overflow-y"]=j,T.style["overflow-x"]="hidden"):"scroll"===j&&"horizontal"===A?(T.style["overflow-y"]="hidden",T.style["overflow-x"]=j):T.style.overflow=j),e&&(T.dir=e,T.style.direction=e),e&&this.settings.fullsize&&(document.body.style.direction=e),T}wrap(f){var a=document.createElement("div");return a.style.visibility="hidden",a.style.overflow="hidden",a.style.width="0",a.style.height="0",a.appendChild(f),a}getElement(f){var a;if(Object(m.isElement)(f)?a=f:"string"==typeof f&&(a=document.getElementById(f)),!a)throw new Error("Not an Element");return a}attachTo(f){var _=this.getElement(f);if(_)return _.appendChild(this.settings.hidden?this.wrapper:this.container),this.element=_,_}getContainer(){return this.container}onResize(f){Object(m.isNumber)(this.settings.width)&&Object(m.isNumber)(this.settings.height)||(this.resizeFunc=p()(f,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(f){this.orientationChangeFunc=f,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(f,a){var _;let j=f||this.settings.width,A=a||this.settings.height;null===f?(_=this.element.getBoundingClientRect()).width&&(f=Math.floor(_.width),this.container.style.width=f+"px"):this.container.style.width=Object(m.isNumber)(f)?f+"px":f,null===a?(_=_||this.element.getBoundingClientRect()).height&&(this.container.style.height=(a=_.height)+"px"):this.container.style.height=Object(m.isNumber)(a)?a+"px":a,Object(m.isNumber)(f)||(f=this.container.clientWidth),Object(m.isNumber)(a)||(a=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let e=Object(m.windowBounds)(),T=window.getComputedStyle(document.body),R=parseFloat(T["padding-left"])||0,W=parseFloat(T["padding-right"])||0,K=parseFloat(T["padding-top"])||0,at=parseFloat(T["padding-bottom"])||0;return j||(f=e.width-R-W),(this.settings.fullsize&&!A||!A)&&(a=e.height-K-at),{width:f-this.containerPadding.left-this.containerPadding.right,height:a-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let f;return"visible"!==this.container.style.overflow&&(f=this.container&&this.container.getBoundingClientRect()),f&&f.width&&f.height?f:Object(m.windowBounds)()}getSheet(){var f=document.createElement("style");return f.appendChild(document.createTextNode("")),document.head.appendChild(f),f.sheet}addStyleRules(f,a){var _="#"+this.id+" ",j="";this.sheet||(this.sheet=this.getSheet()),a.forEach(function(A){for(var e in A)A.hasOwnProperty(e)&&(j+=e+":"+A[e]+";")}),this.sheet.insertRule(_+f+" {"+j+"}",0)}axis(f){"horizontal"===f?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=f}direction(f){this.container&&(this.container.dir=f,this.container.style.direction=f),this.settings.fullsize&&(document.body.style.direction=f),this.settings.dir=f}overflow(f){this.container&&("scroll"===f&&"vertical"===this.settings.axis?(this.container.style["overflow-y"]=f,this.container.style["overflow-x"]="hidden"):"scroll"===f&&"horizontal"===this.settings.axis?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=f):this.container.style.overflow=f),this.settings.overflow=f}destroy(){this.element&&(this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}({width:_.width,height:_.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(a),this.container=this.stage.getContainer(),this.views=new class{constructor(f){this.container=f,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(f){return this._views.indexOf(f)}slice(){return this._views.slice.apply(this._views,arguments)}get(f){return this._views[f]}append(f){return this._views.push(f),this.container&&this.container.appendChild(f.element),this.length++,f}prepend(f){return this._views.unshift(f),this.container&&this.container.insertBefore(f.element,this.container.firstChild),this.length++,f}insert(f,a){return this._views.splice(a,0,f),this.container&&(a<this.container.children.length?this.container.insertBefore(f.element,this.container.children[a]):this.container.appendChild(f.element)),this.length++,f}remove(f){var a=this._views.indexOf(f);a>-1&&this._views.splice(a,1),this.destroy(f),this.length--}destroy(f){f.displayed&&f.destroy(),this.container&&this.container.removeChild(f.element),f=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var a=this.length;if(this.length){for(var _=0;_<a;_++)this.destroy(this._views[_]);this._views=[],this.length=0}}find(f){for(var a,_=this.length,j=0;j<_;j++)if((a=this._views[j]).displayed&&a.section.index==f.index)return a}displayed(){for(var f,a=[],_=this.length,j=0;j<_;j++)(f=this._views[j]).displayed&&a.push(f);return a}show(){for(var f,a=this.length,_=0;_<a;_++)(f=this._views[_]).displayed&&f.show();this.hidden=!1}hide(){for(var f,a=this.length,_=0;_<a;_++)(f=this._views[_]).displayed&&f.hide();this.hidden=!0}}(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var a;window.addEventListener("unload",function(_){this.destroy()}.bind(this)),a=this.settings.fullsize?window:this.container,this._onScroll=this.onScroll.bind(this),a.addEventListener("scroll",this._onScroll)}removeEventListeners(){(this.settings.fullsize?window:this.container).removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(a){let{orientation:_}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout(function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(v.c.MANAGERS.ORIENTATION_CHANGE,_)}.bind(this),500)}onResized(a){this.resize()}resize(a,_,j){let A=this.stage.size(a,_);this.winBounds=Object(m.windowBounds)(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height?this._stageSize=void 0:this._stageSize&&this._stageSize.width===A.width&&this._stageSize.height===A.height||(this._stageSize=A,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(v.c.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},j))}createView(a,_){return new this.View(a,Object(m.extend)(this.viewSettings,{forceRight:_}))}handleNextPrePaginated(a,_,j){let A;if("pre-paginated"===this.layout.name&&this.layout.divisor>1){if(a||0===_.index)return;if(A=_.next(),A&&!A.properties.includes("page-spread-left"))return j.call(this,A)}}display(a,_){var j=new m.defer,A=j.promise;(_===a.href||Object(m.isNumber)(_))&&(_=void 0);var e=this.views.find(a);if(e&&a&&"pre-paginated"!==this.layout.name){let R=e.offset();if("ltr"===this.settings.direction)this.scrollTo(R.left,R.top,!0);else{let W=e.width();this.scrollTo(R.left+W,R.top,!0)}if(_){let W=e.locationOf(_);this.moveTo(W)}return j.resolve(),A}this.clear();let T=!1;return"pre-paginated"===this.layout.name&&2===this.layout.divisor&&a.properties.includes("page-spread-right")&&(T=!0),this.add(a,T).then(function(R){if(_){let W=R.locationOf(_);this.moveTo(W)}}.bind(this),R=>{j.reject(R)}).then(function(){return this.handleNextPrePaginated(T,a,this.add)}.bind(this)).then(function(){this.views.show(),j.resolve()}.bind(this)),A}afterDisplayed(a){this.emit(v.c.MANAGERS.ADDED,a)}afterResized(a){this.emit(v.c.MANAGERS.RESIZE,a.section)}moveTo(a){var _=0,j=0;this.isPaginated?(_=Math.floor(a.left/this.layout.delta)*this.layout.delta)+this.layout.delta>this.container.scrollWidth&&(_=this.container.scrollWidth-this.layout.delta):j=a.top,this.scrollTo(_,j,!0)}add(a,_){var j=this.createView(a,_);return this.views.append(j),j.onDisplayed=this.afterDisplayed.bind(this),j.onResize=this.afterResized.bind(this),j.on(v.c.VIEWS.AXIS,A=>{this.updateAxis(A)}),j.display(this.request)}append(a,_){var j=this.createView(a,_);return this.views.append(j),j.onDisplayed=this.afterDisplayed.bind(this),j.onResize=this.afterResized.bind(this),j.on(v.c.VIEWS.AXIS,A=>{this.updateAxis(A)}),j.display(this.request)}prepend(a,_){var j=this.createView(a,_);return j.on(v.c.VIEWS.RESIZED,A=>{this.counter(A)}),this.views.prepend(j),j.onDisplayed=this.afterDisplayed.bind(this),j.onResize=this.afterResized.bind(this),j.on(v.c.VIEWS.AXIS,A=>{this.updateAxis(A)}),console.log("prepend"),j.display(this.request)}counter(a){"vertical"===this.settings.axis?this.scrollBy(0,a.heightDelta,!0):this.scrollBy(a.widthDelta,0,!0)}next(){var a;let _=this.settings.direction;if(this.views.length&&(!this.isPaginated||"horizontal"!==this.settings.axis||_&&"ltr"!==_?this.isPaginated&&"horizontal"===this.settings.axis&&"rtl"===_?(this.scrollLeft=this.container.scrollLeft,"default"===this.settings.rtlScrollType?this.container.scrollLeft>0?this.scrollBy(this.layout.delta,0,!0):a=this.views.last().section.next():this.container.scrollLeft+-1*this.layout.delta>-1*this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):a=this.views.last().section.next()):this.isPaginated&&"vertical"===this.settings.axis?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):a=this.views.last().section.next()):a=this.views.last().section.next():(this.scrollLeft=this.container.scrollLeft,this.container.scrollLeft+this.container.offsetWidth+this.layout.delta<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):a=this.views.last().section.next()),a)){this.clear();let j=!1;return"pre-paginated"===this.layout.name&&2===this.layout.divisor&&a.properties.includes("page-spread-right")&&(j=!0),this.append(a,j).then(function(){return this.handleNextPrePaginated(j,a,this.append)}.bind(this)).then(function(){this.views.show()}.bind(this))}}prev(){var a;console.log("prev2");let _=this.settings.direction;if(this.views.length&&(!this.isPaginated||"horizontal"!==this.settings.axis||_&&"ltr"!==_?this.isPaginated&&"horizontal"===this.settings.axis&&"rtl"===_?(this.scrollLeft=this.container.scrollLeft,"default"===this.settings.rtlScrollType?this.container.scrollLeft+this.container.offsetWidth<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):a=this.views.first().section.prev():this.container.scrollLeft<0?this.scrollBy(-this.layout.delta,0,!0):a=this.views.first().section.prev()):this.isPaginated&&"vertical"===this.settings.axis?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):a=this.views.first().section.prev()):a=this.views.first().section.prev():(this.scrollLeft=this.container.scrollLeft,this.container.scrollLeft>0?this.scrollBy(-this.layout.delta,0,!0):a=this.views.first().section.prev()),a)){this.clear();let j=!1;return"pre-paginated"===this.layout.name&&2===this.layout.divisor&&"object"!=typeof a.prev()&&(j=!0),this.prepend(a,j).then(function(){var A;if("pre-paginated"===this.layout.name&&this.layout.divisor>1&&(A=a.prev()))return this.prepend(A)}.bind(this)).then(function(){this.isPaginated&&"horizontal"===this.settings.axis&&this.scrollTo("rtl"===this.settings.direction?"default"===this.settings.rtlScrollType?0:-1*this.container.scrollWidth+this.layout.delta:this.container.scrollWidth-this.layout.delta,0,!0),this.views.show()}.bind(this))}}current(){var a=this.visible();return a.length?a[a.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.location="vertical"===this.settings.axis?this.scrolledLocation():this.paginatedLocation(),this.location}scrolledLocation(){let a=this.visible(),_=this.container.getBoundingClientRect(),j=_.height<window.innerHeight?_.height:window.innerHeight,A=0,e=0;return this.settings.fullsize&&(A=window.scrollY),a.map(T=>{let{index:R,href:W}=T.section,K=T.position(),at=T.height(),rt=A+_.top-K.top+e,dt=rt+j-e;dt>at&&(dt=at,e=dt-rt);let St=this.layout.count(at,j).pages,_t=Math.ceil(rt/j),qt=[],jt=Math.ceil(dt/j);qt=[];for(var c=_t;c<=jt;c++)qt.push(c+1);return{index:R,href:W,pages:qt,totalPages:St,mapping:this.mapping.page(T.contents,T.section.cfiBase,rt,dt)}})}paginatedLocation(){let a=this.visible(),_=this.container.getBoundingClientRect(),j=0;return this.settings.fullsize&&(j=window.scrollX),a.map(A=>{let{index:e,href:T}=A.section,R=A.offset().left,W=A.position().left,K=A.width(),at=j+_.left-W+R+0,rt=at+this.layout.width-0,dt=this.mapping.page(A.contents,A.section.cfiBase,at,rt),St=this.layout.count(K).pages,_t=Math.floor(at/this.layout.pageWidth),qt=[],jt=Math.floor(rt/this.layout.pageWidth);if(_t<0&&(_t=0,jt+=1),"rtl"===this.settings.direction){let u=_t;_t=St-jt,jt=St-u}for(var c=_t+1;c<=jt;c++)qt.push(c);return{index:e,href:T,pages:qt,totalPages:St,mapping:dt}})}isVisible(a,_,j,A){var e=a.position(),T=A||this.bounds();return"horizontal"===this.settings.axis&&e.right>T.left-_&&e.left<T.right+j||"vertical"===this.settings.axis&&e.bottom>T.top-_&&e.top<T.bottom+j}visible(){for(var a,_=this.bounds(),j=this.views.displayed(),A=j.length,e=[],T=0;T<A;T++)!0===this.isVisible(a=j[T],0,0,_)&&e.push(a);return e}scrollBy(a,_,j){let A="rtl"===this.settings.direction?-1:1;j&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(a*A,_*A):(a&&(this.container.scrollLeft+=a*A),_&&(this.container.scrollTop+=_)),this.scrolled=!0}scrollTo(a,_,j){j&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(a,_):(this.container.scrollLeft=a,this.container.scrollTop=_),this.scrolled=!0}onScroll(){let a,_;this.settings.fullsize?(a=window.scrollY,_=window.scrollX):(a=this.container.scrollTop,_=this.container.scrollLeft),this.scrollTop=a,this.scrollLeft=_,this.ignore?this.ignore=!1:(this.emit(v.c.MANAGERS.SCROLL,{top:a,left:_}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.emit(v.c.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),20))}bounds(){return this.stage.bounds()}applyLayout(a){this.layout=a,this.updateLayout(),this.views&&this.views.length>0&&"pre-paginated"===this.layout.name&&this.display(this.views.first().section)}updateLayout(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(a){this.viewSettings.layout=a,this.mapping=new i.a(a.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(_){_&&_.setLayout(a)})}updateAxis(a,_){this.isPaginated||(a="vertical"),(_||a!==this.settings.axis)&&(this.settings.axis=a,this.stage&&this.stage.axis(a),this.viewSettings.axis=a,this.mapping&&(this.mapping=new i.a(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&this.layout.spread("vertical"===a?"none":this.layout.settings.spread))}updateFlow(a,_="auto"){let j="paginated"===a||"auto"===a;this.isPaginated=j,this.updateAxis("scrolled-doc"===a||"scrolled-continuous"===a||"scrolled"===a?"vertical":"horizontal"),this.viewSettings.flow=a,this.overflow=this.settings.overflow?this.settings.overflow:j?"hidden":_,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var a=[];return this.views&&this.views.forEach(function(_){const j=_&&_.contents;j&&a.push(j)}),a}direction(a="ltr"){this.settings.direction=a,this.stage&&this.stage.direction(a),this.viewSettings.direction=a,this.updateLayout()}isRendered(){return this.rendered}}C()(S.prototype),q.a=S},function(P,q,r){"use strict";var x=r(2),C=r(0);q.a=class{constructor(m,d,i,o){this.layout=m,this.horizontal="horizontal"===i,this.direction=d||"ltr",this._dev=o}section(m){var d=this.findRanges(m);return this.rangeListToCfiList(m.section.cfiBase,d)}page(m,d,i,o){var l,p=!(!m||!m.document)&&m.document.body;if(p){if(l=this.rangePairToCfiPair(d,{start:this.findStart(p,i,o),end:this.findEnd(p,i,o)}),!0===this._dev){let E=m.document,g=new x.a(l.start).toRange(E),v=new x.a(l.end).toRange(E),S=E.defaultView.getSelection(),f=E.createRange();S.removeAllRanges(),f.setStart(g.startContainer,g.startOffset),f.setEnd(v.endContainer,v.endOffset),S.addRange(f)}return l}}walk(m,d){if(!m||m.nodeType!==Node.TEXT_NODE){var i=function(g){return g.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},o=i;o.acceptNode=i;for(var l,p,E=document.createTreeWalker(m,NodeFilter.SHOW_TEXT,o,!1);(l=E.nextNode())&&!(p=d(l)););return p}}findRanges(m){for(var d,i,o=[],l=m.contents.scrollWidth(),p=Math.ceil(l/this.layout.spreadWidth)*this.layout.divisor,E=this.layout.columnWidth,g=this.layout.gap,v=0;v<p.pages;v++)o.push({start:this.findStart(m.document.body,d=(E+g)*v,i=E*(v+1)+g*v),end:this.findEnd(m.document.body,d,i)});return o}findStart(m,d,i){for(var o,l,p=[m],E=m;p.length;)if(o=p.shift(),l=this.walk(o,g=>{var v,S,f,_;if(_=Object(C.nodeBounds)(g),this.horizontal&&"ltr"===this.direction){if(S=this.horizontal?_.right:_.bottom,(v=this.horizontal?_.left:_.top)>=d&&v<=i||S>d)return g;E=g,p.push(g)}else if(this.horizontal&&"rtl"===this.direction){if(v=_.left,(S=_.right)<=i&&S>=d||v<i)return g;E=g,p.push(g)}else{if((f=_.top)>=d&&f<=i||_.bottom>d)return g;E=g,p.push(g)}}))return this.findTextStartRange(l,d,i);return this.findTextStartRange(E,d,i)}findEnd(m,d,i){for(var o,l,p=[m],E=m;p.length;)if(o=p.shift(),l=this.walk(o,g=>{var v,S,f,a,_;if(_=Object(C.nodeBounds)(g),this.horizontal&&"ltr"===this.direction){if(v=Math.round(_.left),S=Math.round(_.right),v>i&&E)return E;if(S>i)return g;E=g,p.push(g)}else if(this.horizontal&&"rtl"===this.direction){if(v=Math.round(this.horizontal?_.left:_.top),(S=Math.round(this.horizontal?_.right:_.bottom))<d&&E)return E;if(v<d)return g;E=g,p.push(g)}else{if(f=Math.round(_.top),a=Math.round(_.bottom),f>i&&E)return E;if(a>i)return g;E=g,p.push(g)}}))return this.findTextEndRange(l,d,i);return this.findTextEndRange(E,d,i)}findTextStartRange(m,d,i){for(var o,l,p=this.splitTextNodeIntoRanges(m),E=0;E<p.length;E++)if(l=(o=p[E]).getBoundingClientRect(),this.horizontal&&"ltr"===this.direction){if(l.left>=d)return o}else if(this.horizontal&&"rtl"===this.direction){if(l.right<=i)return o}else if(l.top>=d)return o;return p[0]}findTextEndRange(m,d,i){for(var o,l,p,f=this.splitTextNodeIntoRanges(m),a=0;a<f.length;a++){if(p=(l=f[a]).getBoundingClientRect(),this.horizontal&&"ltr"===this.direction){if(p.left>i&&o)return o;if(p.right>i)return l}else if(this.horizontal&&"rtl"===this.direction){if(p.right<d&&o)return o;if(p.left<d)return l}else{if(p.top>i&&o)return o;if(p.bottom>i)return l}o=l}return f[f.length-1]}splitTextNodeIntoRanges(m,d){var i,o=[],l=(m.textContent||"").trim(),p=m.ownerDocument,E=d||" ",g=l.indexOf(E);if(-1===g||m.nodeType!=Node.TEXT_NODE)return(i=p.createRange()).selectNodeContents(m),[i];for((i=p.createRange()).setStart(m,0),i.setEnd(m,g),o.push(i),i=!1;-1!=g;)(g=l.indexOf(E,g+1))>0&&(i&&(i.setEnd(m,g),o.push(i)),(i=p.createRange()).setStart(m,g+1));return i&&(i.setEnd(m,l.length),o.push(i)),o}rangePairToCfiPair(m,d){var i=d.start,o=d.end;return i.collapse(!0),o.collapse(!1),{start:new x.a(i,m).toString(),end:new x.a(o,m).toString()}}rangeListToCfiList(m,d){for(var i,o=[],l=0;l<d.length;l++)i=this.rangePairToCfiPair(m,d[l]),o.push(i);return o}axis(m){return m&&(this.horizontal="horizontal"===m),this.horizontal}}},function(P,q,r){"use strict";var x=r(95),C=r(17),m=r(23),d=r(19),i=r(22),o=r(39),l=r(106),p=r(107),E=Math.max,g=Math.min,v=Math.floor,S=/\$([$&'`]|\d\d?|<[^>]*>)/g,f=/\$([$&'`]|\d\d?)/g;x("replace",2,function(a,_,j,A){var e=A.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,T=A.REPLACE_KEEPS_$0,R=e?"$":"$0";return[function(K,at){var rt=o(this),dt=K?.[a];return void 0!==dt?dt.call(K,rt,at):_.call(String(rt),K,at)},function(K,at){if(!e&&T||"string"==typeof at&&-1===at.indexOf(R)){var rt=j(_,K,this,at);if(rt.done)return rt.value}var dt=C(K),St=String(this),_t="function"==typeof at;_t||(at=String(at));var qt=dt.global;if(qt){var jt=dt.unicode;dt.lastIndex=0}for(var c=[];;){var u=p(dt,St);if(null===u||(c.push(u),!qt))break;""===String(u[0])&&(dt.lastIndex=l(St,d(dt.lastIndex),jt))}for(var D,M="",H=0,nt=0;nt<c.length;nt++){u=c[nt];for(var kt=String(u[0]),Tt=E(g(i(u.index),St.length),0),Lt=[],Vt=1;Vt<u.length;Vt++)Lt.push(void 0===(D=u[Vt])?D:String(D));var Ht=u.groups;if(_t){var Ot=[kt].concat(Lt,Tt,St);void 0!==Ht&&Ot.push(Ht);var At=String(at.apply(void 0,Ot))}else At=W(kt,St,Tt,Lt,Ht,at);Tt>=H&&(M+=St.slice(H,Tt)+At,H=Tt+kt.length)}return M+St.slice(H)}];function W(K,at,rt,dt,St,_t){var qt=rt+K.length,jt=dt.length,c=f;return void 0!==St&&(St=m(St),c=S),_.call(_t,c,function(u,D){var M;switch(D.charAt(0)){case"$":return"$";case"&":return K;case"`":return at.slice(0,rt);case"'":return at.slice(qt);case"<":M=St[D.slice(1,-1)];break;default:var H=+D;if(0===H)return u;if(H>jt){var nt=v(H/10);return 0===nt?u:nt<=jt?void 0===dt[nt-1]?D.charAt(1):dt[nt-1]+D.charAt(1):u}M=dt[H-1]}return void 0===M?"":M})}})},function(P,q,r){var x=r(4),C=r(51).f,m=r(13),d=r(20),i=r(53),o=r(98),l=r(102);P.exports=function(p,E){var g,v,S,f,a,_=p.target,j=p.global,A=p.stat;if(g=j?x:A?x[_]||i(_,{}):(x[_]||{}).prototype)for(v in E){if(f=E[v],S=p.noTargetGet?(a=C(g,v))&&a.value:g[v],!l(j?v:_+(A?".":"#")+v,p.forced)&&void 0!==S){if(typeof f==typeof S)continue;o(f,S)}(p.sham||S&&S.sham)&&m(f,"sham",!0),d(g,v,f,p)}}},function(P,q){P.exports={}},function(P,q,r){var x=r(16).f,C=r(9),m=r(5)("toStringTag");P.exports=function(d,i,o){d&&!C(d=o?d:d.prototype,m)&&x(d,m,{configurable:!0,value:i})}},function(P,q,r){var x=r(17),C=r(112);P.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var m,d=!1,i={};try{(m=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),d=i instanceof Array}catch{}return function(o,l){return x(o),C(l),d?m.call(o,l):o.__proto__=l,o}}():void 0)},function(P,q,r){"use strict";var x=r(3),C=r.n(x),m=r(0),d=r(2),i=r(28),o=r(14),l=r(1);const p=typeof navigator<"u",E=p&&/Chrome/.test(navigator.userAgent),g=p&&!E&&/AppleWebKit/.test(navigator.userAgent);class v{constructor(f,a,_,j){this.epubcfi=new d.a,this.document=f,this.documentElement=this.document.documentElement,this.content=a||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=j||0,this.cfiBase=_||"",this.epubReadingSystem("epub.js",l.b),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return l.a}width(f){var a=this.content;return f&&Object(m.isNumber)(f)&&(f+="px"),f&&(a.style.width=f),parseInt(this.window.getComputedStyle(a).width)}height(f){var a=this.content;return f&&Object(m.isNumber)(f)&&(f+="px"),f&&(a.style.height=f),parseInt(this.window.getComputedStyle(a).height)}contentWidth(f){var a=this.content||this.document.body;return f&&Object(m.isNumber)(f)&&(f+="px"),f&&(a.style.width=f),parseInt(this.window.getComputedStyle(a).width)}contentHeight(f){var a=this.content||this.document.body;return f&&Object(m.isNumber)(f)&&(f+="px"),f&&(a.style.height=f),parseInt(this.window.getComputedStyle(a).height)}textWidth(){let f,a,_=this.document.createRange(),j=this.content||this.document.body,A=Object(m.borders)(j);return _.selectNodeContents(j),f=_.getBoundingClientRect(),a=f.width,A&&A.width&&(a+=A.width),Math.round(a)}textHeight(){let f,a,_=this.document.createRange();return _.selectNodeContents(this.content||this.document.body),f=_.getBoundingClientRect(),a=f.bottom,Math.round(a)}scrollWidth(){return this.documentElement.scrollWidth}scrollHeight(){return this.documentElement.scrollHeight}overflow(f){return f&&(this.documentElement.style.overflow=f),this.window.getComputedStyle(this.documentElement).overflow}overflowX(f){return f&&(this.documentElement.style.overflowX=f),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(f){return f&&(this.documentElement.style.overflowY=f),this.window.getComputedStyle(this.documentElement).overflowY}css(f,a,_){var j=this.content||this.document.body;return a?j.style.setProperty(f,a,_?"important":""):j.style.removeProperty(f),this.window.getComputedStyle(j)[f]}viewport(f){var a,_=this.document.querySelector("meta[name='viewport']"),j={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},A=[];if(_&&_.hasAttribute("content")){let e=_.getAttribute("content"),T=e.match(/width\s*=\s*([^,]*)/),R=e.match(/height\s*=\s*([^,]*)/),W=e.match(/initial-scale\s*=\s*([^,]*)/),K=e.match(/minimum-scale\s*=\s*([^,]*)/),at=e.match(/maximum-scale\s*=\s*([^,]*)/),rt=e.match(/user-scalable\s*=\s*([^,]*)/);T&&T.length&&void 0!==T[1]&&(j.width=T[1]),R&&R.length&&void 0!==R[1]&&(j.height=R[1]),W&&W.length&&void 0!==W[1]&&(j.scale=W[1]),K&&K.length&&void 0!==K[1]&&(j.minimum=K[1]),at&&at.length&&void 0!==at[1]&&(j.maximum=at[1]),rt&&rt.length&&void 0!==rt[1]&&(j.scalable=rt[1])}return a=Object(m.defaults)(f||{},j),f&&(a.width&&A.push("width="+a.width),a.height&&A.push("height="+a.height),a.scale&&A.push("initial-scale="+a.scale),"no"===a.scalable?(A.push("minimum-scale="+a.scale),A.push("maximum-scale="+a.scale),A.push("user-scalable="+a.scalable)):(a.scalable&&A.push("user-scalable="+a.scalable),a.minimum&&A.push("minimum-scale="+a.minimum),a.maximum&&A.push("minimum-scale="+a.maximum)),_||((_=this.document.createElement("meta")).setAttribute("name","viewport"),this.document.querySelector("head").appendChild(_)),_.setAttribute("content",A.join(", ")),this.window.scrollTo(0,0)),a}expand(){this.emit(l.c.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver>"u"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let f=this.textWidth(),a=this.textHeight();f==this._size.width&&a==this._size.height||(this._size={width:f,height:a},this.onResize&&this.onResize(this._size),this.emit(l.c.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&!1===this.active?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let f=this.content;f.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",f.style.transitionDuration="0.001ms",f.style.transitionTimingFunction="linear",f.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var f=this.document.styleSheets,a=function(e){e.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}.bind(this),_=0;_<f.length;_+=1){var j;try{j=f[_].cssRules}catch{return}if(!j)return;for(var A=0;A<j.length;A+=1)j[A].media&&this.window.matchMedia(j[A].media.mediaText).addListener(a)}}resizeObservers(){this.observer=new ResizeObserver(f=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(f=>{this.resizeCheck()}),this.observer.observe(this.document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}imageLoadListeners(){for(var f,a=this.document.querySelectorAll("img"),_=0;_<a.length;_++)void 0!==(f=a[_]).naturalWidth&&0===f.naturalWidth&&(f.onload=this.expand.bind(this))}fontLoadListeners(){this.document&&this.document.fonts&&this.document.fonts.ready.then(function(){this.resizeCheck()}.bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(f,a){var _,j={left:0,top:0};if(!this.document)return j;if(this.epubcfi.isCfiString(f)){let A=new d.a(f).toRange(this.document,a);if(A){try{if(!A.endContainer||A.startContainer==A.endContainer&&A.startOffset==A.endOffset){let e=A.startContainer.textContent.indexOf(" ",A.startOffset);-1==e&&(e=A.startContainer.textContent.length),A.setEnd(A.startContainer,e)}}catch(e){console.error("setting end offset to start container length failed",e)}if(A.startContainer.nodeType===Node.ELEMENT_NODE)_=A.startContainer.getBoundingClientRect(),j.left=_.left,j.top=_.top;else if(g){let e=A.startContainer,T=new Range;try{1===e.nodeType?_=e.getBoundingClientRect():A.startOffset+2<e.length?(T.setStart(e,A.startOffset),T.setEnd(e,A.startOffset+2),_=T.getBoundingClientRect()):A.startOffset-2>0?(T.setStart(e,A.startOffset-2),T.setEnd(e,A.startOffset),_=T.getBoundingClientRect()):_=e.parentNode.getBoundingClientRect()}catch(R){console.error(R,R.stack)}}else _=A.getBoundingClientRect()}}else if("string"==typeof f&&f.indexOf("#")>-1){let A=f.substring(f.indexOf("#")+1),e=this.document.getElementById(A);if(e)if(g){let T=new Range;T.selectNode(e),_=T.getBoundingClientRect()}else _=e.getBoundingClientRect()}return _&&(j.left=_.left,j.top=_.top),j}addStylesheet(f){return new Promise(function(a,_){var j,A=!1;this.document?(j=this.document.querySelector("link[href='"+f+"']"))?a(!0):((j=this.document.createElement("link")).type="text/css",j.rel="stylesheet",j.href=f,j.onload=j.onreadystatechange=function(){A||this.readyState&&"complete"!=this.readyState||(A=!0,setTimeout(()=>{a(!0)},1))},this.document.head.appendChild(j)):a(!1)}.bind(this))}_getStylesheetNode(f){var a;return f="epubjs-inserted-css-"+(f||""),!!this.document&&((a=this.document.getElementById(f))||((a=this.document.createElement("style")).id=f,this.document.head.appendChild(a)),a)}addStylesheetCss(f,a){return!(!this.document||!f||(this._getStylesheetNode(a).innerHTML=f,0))}addStylesheetRules(f,a){var _;if(this.document&&f&&0!==f.length)if(_=this._getStylesheetNode(a).sheet,"[object Array]"===Object.prototype.toString.call(f))for(var j=0,A=f.length;j<A;j++){var e=1,T=f[j],R=f[j][0],W="";"[object Array]"===Object.prototype.toString.call(T[1][0])&&(T=T[1],e=0);for(var K=T.length;e<K;e++){var at=T[e];W+=at[0]+":"+at[1]+(at[2]?" !important":"")+";\n"}_.insertRule(R+"{"+W+"}",_.cssRules.length)}else Object.keys(f).forEach(rt=>{const dt=f[rt];if(Array.isArray(dt))dt.forEach(St=>{const _t=Object.keys(St).map(qt=>`${qt}:${St[qt]}`).join(";");_.insertRule(`${rt}{${_t}}`,_.cssRules.length)});else{const St=Object.keys(dt).map(_t=>`${_t}:${dt[_t]}`).join(";");_.insertRule(`${rt}{${St}}`,_.cssRules.length)}})}addScript(f){return new Promise(function(a,_){var j,A=!1;this.document?((j=this.document.createElement("script")).type="text/javascript",j.async=!0,j.src=f,j.onload=j.onreadystatechange=function(){A||this.readyState&&"complete"!=this.readyState||(A=!0,setTimeout(function(){a(!0)},1))},this.document.head.appendChild(j)):a(!1)}.bind(this))}addClass(f){var a;this.document&&(a=this.content||this.document.body)&&a.classList.add(f)}removeClass(f){var a;this.document&&(a=this.content||this.document.body)&&a.classList.remove(f)}addEventListeners(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),l.a.forEach(function(f){this.document.addEventListener(f,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){this.document&&(l.a.forEach(function(f){this.document.removeEventListener(f,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(f){this.emit(f.type,f)}addSelectionListeners(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(f){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout(function(){var a=this.window.getSelection();this.triggerSelectedEvent(a)}.bind(this),250)}triggerSelectedEvent(f){var a,_;f&&f.rangeCount>0&&((a=f.getRangeAt(0)).collapsed||(_=new d.a(a,this.cfiBase).toString(),this.emit(l.c.CONTENTS.SELECTED,_),this.emit(l.c.CONTENTS.SELECTED_RANGE,a)))}range(f,a){return new d.a(f).toRange(this.document,a)}cfiFromRange(f,a){return new d.a(f,this.cfiBase,a).toString()}cfiFromNode(f,a){return new d.a(f,this.cfiBase,a).toString()}map(f){return new i.a(f).section()}size(f,a){var _={scale:1,scalable:"no"};this.layoutStyle("scrolling"),f>=0&&(this.width(f),_.width=f,this.css("padding","0 "+f/12+"px")),a>=0&&(this.height(a),_.height=a),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(_)}columns(f,a,_,j,A){let e=Object(m.prefixed)("column-axis"),T=Object(m.prefixed)("column-gap"),R=Object(m.prefixed)("column-width"),W=Object(m.prefixed)("column-fill"),K=0===this.writingMode().indexOf("vertical")?"vertical":"horizontal";this.layoutStyle("paginated"),"rtl"===A&&"horizontal"===K&&this.direction(A),this.width(f),this.height(a),this.viewport({width:f,height:a,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),"vertical"===K?(this.css("padding-top",j/2+"px",!0),this.css("padding-bottom",j/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(e,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",j/2+"px",!0),this.css("padding-right",j/2+"px",!0),this.css(e,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(W,"auto"),this.css(T,j+"px"),this.css(R,_+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(f,a,_){var j="scale("+f+")",A="";this.css("transform-origin","top left"),(a>=0||_>=0)&&(A=" translate("+(a||0)+"px, "+(_||0)+"px )"),this.css("transform",j+A)}fit(f,a,_){var j=this.viewport(),A=parseInt(j.width),e=parseInt(j.height),T=f/A,R=a/e,W=T<R?T:R;this.layoutStyle("paginated"),this.width(A),this.height(e),this.overflow("hidden"),this.scaler(W,0,0),this.css("background-size",A*W+"px "+e*W+"px"),this.css("background-color","transparent"),_&&_.properties.includes("page-spread-left")&&this.css("margin-left",f-A*W+"px")}direction(f){this.documentElement&&(this.documentElement.style.direction=f)}mapPage(f,a,_,j,A){return new i.a(a,A).page(this,f,_,j)}linksHandler(){Object(o.c)(this.content,f=>{this.emit(l.c.CONTENTS.LINK_CLICKED,f)})}writingMode(f){let a=Object(m.prefixed)("writing-mode");return f&&this.documentElement&&(this.documentElement.style[a]=f),this.window.getComputedStyle(this.documentElement)[a]||""}layoutStyle(f){return f&&(this._layoutStyle=f,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(f,a){return navigator.epubReadingSystem={name:f,version:a,layoutStyle:this.layoutStyle(),hasFeature:function(_){switch(_){case"dom-manipulation":case"layout-changes":case"touch-events":case"mouse-events":case"keyboard-events":return!0;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}C()(v.prototype),q.a=v},function(P,q,r){"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.Underline=q.Highlight=q.Mark=q.Pane=void 0;var x=function(){function g(v,S){for(var f=0;f<S.length;f++){var a=S[f];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(v,a.key,a)}}return function(v,S,f){return S&&g(v.prototype,S),f&&g(v,f),v}}(),C=d(r(153)),m=d(r(154));function d(g){return g&&g.__esModule?g:{default:g}}function i(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?g:v}function o(g,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}function l(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}q.Pane=function(){function g(v){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;l(this,g),this.target=v,this.element=C.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),m.default.proxyMouse(this.target,this.marks),this.container=S,this.container.appendChild(this.element),this.render()}return x(g,[{key:"addMark",value:function(v){var S=C.default.createElement("g");return this.element.appendChild(S),v.bind(S,this.container),this.marks.push(v),v.render(),v}},{key:"removeMark",value:function(v){var S=this.marks.indexOf(v);if(-1!==S){var f=v.unbind();this.element.removeChild(f),this.marks.splice(S,1)}}},{key:"render",value:function(){var v,f,a,R,W;R=this.element,v=this.target,f=this.container.getBoundingClientRect(),a=v.getBoundingClientRect(),R.style.setProperty("top",(W={top:a.top-f.top,left:a.left-f.left,height:v.scrollHeight,width:v.scrollWidth}).top+"px","important"),R.style.setProperty("left",W.left+"px","important"),R.style.setProperty("height",W.height+"px","important"),R.style.setProperty("width",W.width+"px","important");var _=!0,j=!1,A=void 0;try{for(var e,T=this.marks[Symbol.iterator]();!(_=(e=T.next()).done);_=!0)e.value.render()}catch(R){j=!0,A=R}finally{try{!_&&T.return&&T.return()}finally{if(j)throw A}}}}]),g}();var p=q.Mark=function(){function g(){l(this,g),this.element=null}return x(g,[{key:"bind",value:function(v,S){this.element=v,this.container=S}},{key:"unbind",value:function(){var v=this.element;return this.element=null,v}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(v){this.element&&this.element.dispatchEvent(v)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var v=[],S=this.element.firstChild;S;)v.push(S.getBoundingClientRect()),S=S.nextSibling;return v}},{key:"filteredRanges",value:function(){var v=Array.from(this.range.getClientRects());return v.filter(function(S){for(var f=0;f<v.length;f++){if(v[f]===S)return!0;if((_=S).right<=(a=v[f]).right&&_.left>=a.left&&_.top>=a.top&&_.bottom<=a.bottom)return!1}var a,_;return!0})}}]),g}(),E=q.Highlight=function(g){function v(S,f,a,_){l(this,v);var j=i(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return j.range=S,j.className=f,j.data=a||{},j.attributes=_||{},j}return o(v,g),x(v,[{key:"bind",value:function(S,f){for(var a in function _(j,A,e){null===j&&(j=Function.prototype);var T=Object.getOwnPropertyDescriptor(j,A);if(void 0===T){var R=Object.getPrototypeOf(j);return null===R?void 0:_(R,A,e)}if("value"in T)return T.value;var W=T.get;return void 0!==W?W.call(e):void 0}(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"bind",this).call(this,S,f),this.data)this.data.hasOwnProperty(a)&&(this.element.dataset[a]=this.data[a]);for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&this.element.setAttribute(a,this.attributes[a]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var S=this.element.ownerDocument.createDocumentFragment(),f=this.filteredRanges(),a=this.element.getBoundingClientRect(),_=this.container.getBoundingClientRect(),j=0,A=f.length;j<A;j++){var e=f[j],T=C.default.createElement("rect");T.setAttribute("x",e.left-a.left+_.left),T.setAttribute("y",e.top-a.top+_.top),T.setAttribute("height",e.height),T.setAttribute("width",e.width),S.appendChild(T)}this.element.appendChild(S)}}]),v}(p);q.Underline=function(g){function v(S,f,a,_){return l(this,v),i(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,S,f,a,_))}return o(v,g),x(v,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var S=this.element.ownerDocument.createDocumentFragment(),f=this.filteredRanges(),a=this.element.getBoundingClientRect(),_=this.container.getBoundingClientRect(),j=0,A=f.length;j<A;j++){var e=f[j],T=C.default.createElement("rect");T.setAttribute("x",e.left-a.left+_.left),T.setAttribute("y",e.top-a.top+_.top),T.setAttribute("height",e.height),T.setAttribute("width",e.width),T.setAttribute("fill","none");var R=C.default.createElement("line");R.setAttribute("x1",e.left-a.left+_.left),R.setAttribute("x2",e.left-a.left+_.left+e.width),R.setAttribute("y1",e.top-a.top+_.top+e.height-1),R.setAttribute("y2",e.top-a.top+_.top+e.height-1),R.setAttribute("stroke-width",1),R.setAttribute("stroke","black"),R.setAttribute("stroke-linecap","square"),S.appendChild(T),S.appendChild(R)}this.element.appendChild(S)}}]),v}(E)},function(P,q){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch{"object"==typeof window&&(r=window)}P.exports=r},function(P,q,r){var x=r(52),C=r(39);P.exports=function(m){return x(C(m))}},function(P,q){var r={}.toString;P.exports=function(x){return r.call(x).slice(8,-1)}},function(P,q){P.exports=function(r){if(null==r)throw TypeError("Can't call method on "+r);return r}},function(P,q,r){var x=r(15);P.exports=function(C,m){if(!x(C))return C;var d,i;if(m&&"function"==typeof(d=C.toString)&&!x(i=d.call(C))||"function"==typeof(d=C.valueOf)&&!x(i=d.call(C))||!m&&"function"==typeof(d=C.toString)&&!x(i=d.call(C)))return i;throw TypeError("Can't convert object to primitive value")}},function(P,q){P.exports=!1},function(P,q,r){var x=r(100),C=r(4),m=function(d){return"function"==typeof d?d:void 0};P.exports=function(d,i){return arguments.length<2?m(x[d])||m(C[d]):x[d]&&x[d][i]||C[d]&&C[d][i]}},function(P,q,r){var x,C=r(17),m=r(80),d=r(58),i=r(56),o=r(110),l=r(71),E=r(54)("IE_PROTO"),g=function(){},v=function(f){return"<script>"+f+"<\/script>"},S=function(){try{x=document.domain&&new ActiveXObject("htmlfile")}catch{}var f,a;S=x?function(j){j.write(v("")),j.close();var A=j.parentWindow.Object;return j=null,A}(x):((a=l("iframe")).style.display="none",o.appendChild(a),a.src="javascript:",(f=a.contentWindow.document).open(),f.write(v("document.F=Object")),f.close(),f.F);for(var _=d.length;_--;)delete S.prototype[d[_]];return S()};i[E]=!0,P.exports=Object.create||function(f,a){var _;return null!==f?(g.prototype=C(f),_=new g,g.prototype=null,_[E]=f):_=S(),void 0===a?_:m(_,a)}},function(P,q,r){var x=r(9),C=r(23),m=r(54),d=r(111),i=m("IE_PROTO"),o=Object.prototype;P.exports=d?Object.getPrototypeOf:function(l){return l=C(l),x(l,i)?l[i]:"function"==typeof l.constructor&&l instanceof l.constructor?l.constructor.prototype:l instanceof Object?o:null}},function(P,q){P.exports=function(r,x,C){if(!(r instanceof x))throw TypeError("Incorrect "+(C?C+" ":"")+"invocation");return r}},function(P,q,r){var x=r(131);P.exports=function(C,m,d){if(x(C),void 0===m)return C;switch(d){case 0:return function(){return C.call(m)};case 1:return function(i){return C.call(m,i)};case 2:return function(i,o){return C.call(m,i,o)};case 3:return function(i,o,l){return C.call(m,i,o,l)}}return function(){return C.apply(m,arguments)}}},function(P,q,r){var x=r(48),C=r(31),m=r(5)("iterator");P.exports=function(d){if(null!=d)return d[m]||d["@@iterator"]||C[x(d)]}},function(P,q,r){var x=r(134),C=r(38),m=r(5)("toStringTag"),d="Arguments"==C(function(){return arguments}());P.exports=x?C:function(i){var o,l,p;return void 0===i?"Undefined":null===i?"Null":"string"==typeof(l=function(E,g){try{return E[g]}catch{}}(o=Object(i),m))?l:d?C(o):"Object"==(p=C(o))&&"function"==typeof o.callee?"Arguments":p}},function(P,q){P.exports=tt},function(P,q,r){"use strict";var x=r(3),C=r.n(x),m=r(0),d=r(8),i=r(2),o=r(26),l=r(1);class p{constructor(T){this.settings=T,this.name=T.layout||"reflowable",this._spread="none"!==T.spread,this._minSpreadWidth=T.minSpreadWidth||800,this._evenSpreads=T.evenSpreads||!1,this._flow="scrolled"===T.flow||"scrolled-continuous"===T.flow||"scrolled-doc"===T.flow?"scrolled":"paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(T){return void 0!==T&&(this._flow="scrolled"===T||"scrolled-continuous"===T||"scrolled-doc"===T?"scrolled":"paginated",this.update({flow:this._flow})),this._flow}spread(T,R){return T&&(this._spread="none"!==T,this.update({spread:this._spread})),R>=0&&(this._minSpreadWidth=R),this._spread}calculate(T,R,W){var K,at,rt,dt,St,_t=W||0,qt=T,jt=R,c=Math.floor(qt/12);"reflowable"!==this.name||"paginated"!==this._flow||W>=0||(_t=c%2==0?c:c-1),"pre-paginated"===this.name&&(_t=0),(St=this._spread&&qt>=this._minSpreadWidth?2:1)>1?rt=(K=qt/St-_t)+_t:(K=qt,rt=qt),"pre-paginated"===this.name&&St>1&&(qt=K),at=K*St+_t,dt=qt,this.width=qt,this.height=jt,this.spreadWidth=at,this.pageWidth=rt,this.delta=dt,this.columnWidth=K,this.gap=_t,this.divisor=St,this.update({width:qt,height:jt,spreadWidth:at,pageWidth:rt,delta:dt,columnWidth:K,gap:_t,divisor:St})}format(T,R){return"pre-paginated"===this.name?T.fit(this.columnWidth,this.height,R):"paginated"===this._flow?T.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):T.size(this.width,null)}count(T,R){let W,K;return"pre-paginated"===this.name?(W=1,K=1):"paginated"===this._flow?(R=R||this.delta,W=Math.ceil(T/R),K=W*this.divisor):(R=R||this.height,W=Math.ceil(T/R),K=W),{spreads:W,pages:K}}update(T){if(Object.keys(T).forEach(R=>{this.props[R]===T[R]&&delete T[R]}),Object.keys(T).length>0){let R=Object(m.extend)(this.props,T);this.emit(l.c.LAYOUT.UPDATED,R,T)}}}C()(p.prototype);var E=p,g=r(7);r(34);class S{constructor({type:T,cfiRange:R,data:W,sectionIndex:K,cb:at,className:rt,styles:dt}){this.type=T,this.cfiRange=R,this.data=W,this.sectionIndex=K,this.mark=void 0,this.cb=at,this.className=rt,this.styles=dt}update(T){this.data=T}attach(T){let R,{cfiRange:W,data:K,type:at,cb:dt,className:St,styles:_t}=this;return"highlight"===at?R=T.highlight(W,K,dt,St,_t):"underline"===at?R=T.underline(W,K,dt,St,_t):"mark"===at&&(R=T.mark(W,K,dt)),this.mark=R,this.emit(l.c.ANNOTATION.ATTACH,R),R}detach(T){let R,{cfiRange:W,type:K}=this;return T&&("highlight"===K?R=T.unhighlight(W):"underline"===K?R=T.ununderline(W):"mark"===K&&(R=T.unmark(W))),this.mark=void 0,this.emit(l.c.ANNOTATION.DETACH,R),R}text(){}}C()(S.prototype);var a=r(64),_=r(27),j=r(66);class A{constructor(T,R){this.settings=Object(m.extend)(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr"}),Object(m.extend)(this.settings,R),"object"==typeof this.settings.manager&&(this.manager=this.settings.manager),this.book=T,this.hooks={},this.hooks.display=new d.a(this),this.hooks.serialize=new d.a(this),this.hooks.content=new d.a(this),this.hooks.unloaded=new d.a(this),this.hooks.layout=new d.a(this),this.hooks.render=new d.a(this),this.hooks.show=new d.a(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new class{constructor(e){this.rendition=e,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(0!==arguments.length)return 1===arguments.length&&"object"==typeof arguments[0]?this.registerThemes(arguments[0]):1===arguments.length&&"string"==typeof arguments[0]?this.default(arguments[0]):2===arguments.length&&"string"==typeof arguments[1]?this.registerUrl(arguments[0],arguments[1]):2===arguments.length&&"object"==typeof arguments[1]?this.registerRules(arguments[0],arguments[1]):void 0}default(e){if(e)return"string"==typeof e?this.registerUrl("default",e):"object"==typeof e?this.registerRules("default",e):void 0}registerThemes(e){for(var T in e)e.hasOwnProperty(T)&&("string"==typeof e[T]?this.registerUrl(T,e[T]):this.registerRules(T,e[T]))}registerCss(e,T){this._themes[e]={serialized:T},(this._injected[e]||"default"==e)&&this.update(e)}registerUrl(e,T){var R=new g.a(T);this._themes[e]={url:R.toString()},(this._injected[e]||"default"==e)&&this.update(e)}registerRules(e,T){this._themes[e]={rules:T},(this._injected[e]||"default"==e)&&this.update(e)}select(e){var T=this._current;this._current=e,this.update(e),this.rendition.getContents().forEach(R=>{R.removeClass(T),R.addClass(e)})}update(e){this.rendition.getContents().forEach(T=>{this.add(e,T)})}inject(e){var T,R=[],W=this._themes;for(var K in W)!W.hasOwnProperty(K)||K!==this._current&&"default"!==K||(((T=W[K]).rules&&Object.keys(T.rules).length>0||T.url&&-1===R.indexOf(T.url))&&this.add(K,e),this._injected.push(K));"default"!=this._current&&e.addClass(this._current)}add(e,T){var R=this._themes[e];R&&T&&(R.url?T.addStylesheet(R.url):R.serialized?(T.addStylesheetCss(R.serialized,e),R.injected=!0):R.rules&&(T.addStylesheetRules(R.rules,e),R.injected=!0))}override(e,T,R){var W=this.rendition.getContents();this._overrides[e]={value:T,priority:!0===R},W.forEach(K=>{K.css(e,this._overrides[e].value,this._overrides[e].priority)})}removeOverride(e){var T=this.rendition.getContents();delete this._overrides[e],T.forEach(R=>{R.css(e)})}overrides(e){var T=this._overrides;for(var R in T)T.hasOwnProperty(R)&&e.css(R,T[R].value,T[R].priority)}fontSize(e){this.override("font-size",e)}font(e){this.override("font-family",e,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}(this),this.annotations=new class{constructor(e){this.rendition=e,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(e,T,R,W,K,at){let rt=encodeURI(T+e),dt=new i.a(T).spinePos,St=new S({type:e,cfiRange:T,data:R,sectionIndex:dt,cb:W,className:K,styles:at});return this._annotations[rt]=St,dt in this._annotationsBySectionIndex?this._annotationsBySectionIndex[dt].push(rt):this._annotationsBySectionIndex[dt]=[rt],this.rendition.views().forEach(_t=>{St.sectionIndex===_t.index&&St.attach(_t)}),St}remove(e,T){let R=encodeURI(e+T);if(R in this._annotations){let W=this._annotations[R];if(T&&W.type!==T)return;this.rendition.views().forEach(K=>{this._removeFromAnnotationBySectionIndex(W.sectionIndex,R),W.sectionIndex===K.index&&W.detach(K)}),delete this._annotations[R]}}_removeFromAnnotationBySectionIndex(e,T){this._annotationsBySectionIndex[e]=this._annotationsAt(e).filter(R=>R!==T)}_annotationsAt(e){return this._annotationsBySectionIndex[e]}highlight(e,T,R,W,K){return this.add("highlight",e,T,R,W,K)}underline(e,T,R,W,K){return this.add("underline",e,T,R,W,K)}mark(e,T,R){return this.add("mark",e,T,R)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(e){let T=e.index;T in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[T].forEach(R=>{this._annotations[R].attach(e)})}clear(e){let T=e.index;T in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[T].forEach(R=>{this._annotations[R].detach(e)})}show(){}hide(){}}(this),this.epubcfi=new i.a,this.q=new o.a(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new m.defer,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(T){this.manager=T}requireManager(T){return"string"==typeof T&&"default"===T?_.a:"string"==typeof T&&"continuous"===T?j.a:T}requireView(T){return"string"==typeof T&&"iframe"===T?a.a:T}start(){switch(this.settings.layout||"pre-paginated"!==this.book.package.metadata.layout&&"true"!==this.book.displayOptions.fixedLayout||(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(l.c.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(l.c.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(l.c.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(l.c.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(l.c.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(l.c.RENDITION.STARTED),this.starting.resolve()}attachTo(T){return this.q.enqueue(function(){this.manager.render(T,{width:this.settings.width,height:this.settings.height}),this.emit(l.c.RENDITION.ATTACHED)}.bind(this))}display(T){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,T)}_display(T){if(this.book){this.epubcfi.isCfiString(T);var R,W=new m.defer,K=W.promise;return this.displaying=W,this.book.locations.length()&&Object(m.isFloat)(T)&&(T=this.book.locations.cfiFromPercentage(parseFloat(T))),(R=this.book.spine.get(T))?(this.manager.display(R,T).then(()=>{W.resolve(R),this.displaying=void 0,this.emit(l.c.RENDITION.DISPLAYED,R),this.reportLocation()},at=>{if(-300==at.status)return this.q.enqueue(this._display,T);this.emit(l.c.RENDITION.DISPLAY_ERROR,at)}),K):(console.log("pre no section"),W.reject(new Error("No Section Found")),K)}}afterDisplayed(T){T.on(l.c.VIEWS.MARK_CLICKED,(R,W)=>this.triggerMarkEvent(R,W,T.contents)),this.hooks.render.trigger(T,this).then(()=>{T.contents?this.hooks.content.trigger(T.contents,this).then(()=>{this.emit(l.c.RENDITION.RENDERED,T.section,T)}):this.emit(l.c.RENDITION.RENDERED,T.section,T)})}afterRemoved(T){this.hooks.unloaded.trigger(T,this).then(()=>{this.emit(l.c.RENDITION.REMOVED,T.section,T)})}onResized(T,R){this.emit(l.c.RENDITION.RESIZED,{width:T.width,height:T.height},R),this.location&&this.location.start&&this.display(R||this.location.start.cfi)}onOrientationChange(T){this.emit(l.c.RENDITION.ORIENTATION_CHANGE,T)}moveTo(T){this.manager.moveTo(T)}resize(T,R,W){T&&(this.settings.width=T),R&&(this.settings.height=R),this.manager.resize(T,R,W)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this)).catch(T=>{-300==T.status&&setTimeout(()=>{this.next()},2e3)})}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(()=>{this.reportLocation.bind(this)}).catch(T=>{-300==T.status&&setTimeout(()=>{this.prev()},2e3)})}determineLayoutProperties(T){return{layout:this.settings.layout||T.layout||"reflowable",spread:this.settings.spread||T.spread||"auto",orientation:this.settings.orientation||T.orientation||"auto",flow:this.settings.flow||T.flow||"auto",viewport:T.viewport||"",minSpreadWidth:this.settings.minSpreadWidth||T.minSpreadWidth||800,direction:this.settings.direction||T.direction||"ltr"}}flow(T){var R=T;"scrolled"!==T&&"scrolled-doc"!==T&&"scrolled-continuous"!==T||(R="scrolled"),"auto"!==T&&"paginated"!==T||(R="paginated"),this.settings.flow=T,this._layout&&this._layout.flow(R),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(R),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(T){return T&&(this._layout=new E(T),this._layout.spread(T.spread,this.settings.minSpreadWidth),this._layout.on(l.c.LAYOUT.UPDATED,(R,W)=>{this.emit(l.c.RENDITION.LAYOUT,R,W)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(T,R){this.settings.spread=T,R&&(this.settings.minSpreadWidth=R),this._layout&&this._layout.spread(T,R),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(T){this.settings.direction=T||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue(function(){requestAnimationFrame(function(){var T=this.manager.currentLocation();if(T&&T.then&&"function"==typeof T.then)T.then(function(R){let W=this.located(R);W&&W.start&&W.end&&(this.location=W,this.emit(l.c.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(l.c.RENDITION.RELOCATED,this.location))}.bind(this));else if(T){let R=this.located(T);if(!R||!R.start||!R.end)return;this.location=R,this.emit(l.c.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(l.c.RENDITION.RELOCATED,this.location)}}.bind(this))}.bind(this))}currentLocation(){var T=this.manager.currentLocation();if(T&&T.then&&"function"==typeof T.then)T.then(function(R){return this.located(R)}.bind(this));else if(T)return this.located(T)}located(T){if(!T.length)return{};let R=T[0],W=T[T.length-1],K={start:{index:R.index,href:R.href,cfi:R.mapping.start,displayed:{page:R.pages[0]||1,total:R.totalPages}},end:{index:W.index,href:W.href,cfi:W.mapping.end,displayed:{page:W.pages[W.pages.length-1]||1,total:W.totalPages}}},at=this.book.locations.locationFromCfi(R.mapping.start),rt=this.book.locations.locationFromCfi(W.mapping.end);null!=at&&(K.start.location=at,K.start.percentage=this.book.locations.percentageFromLocation(at)),null!=rt&&(K.end.location=rt,K.end.percentage=this.book.locations.percentageFromLocation(rt));let dt=this.book.pageList.pageFromCfi(R.mapping.start),St=this.book.pageList.pageFromCfi(W.mapping.end);return-1!=dt&&(K.start.page=dt),-1!=St&&(K.end.page=St),W.index===this.book.spine.last().index&&K.end.displayed.page>=K.end.displayed.total&&(K.atEnd=!0),R.index===this.book.spine.first().index&&1===K.start.displayed.page&&(K.atStart=!0),K}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(T){l.a.forEach(R=>{T.on(R,W=>this.triggerViewEvent(W,T))}),T.on(l.c.CONTENTS.SELECTED,R=>this.triggerSelectedEvent(R,T))}triggerViewEvent(T,R){this.emit(T.type,T,R)}triggerSelectedEvent(T,R){this.emit(l.c.RENDITION.SELECTED,T,R)}triggerMarkEvent(T,R,W){this.emit(l.c.RENDITION.MARK_CLICKED,T,R,W)}getRange(T,R){var W=new i.a(T),K=this.manager.visible().filter(function(at){if(W.spinePos===at.index)return!0});if(K.length)return K[0].contents.range(W,R)}adjustImages(T){if("pre-paginated"===this._layout.name)return new Promise(function(at){at()});let R=T.window.getComputedStyle(T.content,null),W=.95*(T.content.offsetHeight-(parseFloat(R.paddingTop)+parseFloat(R.paddingBottom))),K=parseFloat(R.paddingLeft)+parseFloat(R.paddingRight);return T.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-K+"px":"100%")+"!important","max-height":W+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-K+"px":"100%")+"!important","max-height":W+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(at,rt){setTimeout(function(){at()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(T){T&&T.on(l.c.CONTENTS.LINK_CLICKED,R=>{let W=this.book.path.relative(R);this.display(W)})}injectStylesheet(T,R){let W=T.createElement("link");W.setAttribute("type","text/css"),W.setAttribute("rel","stylesheet"),W.setAttribute("href",this.settings.stylesheet),T.getElementsByTagName("head")[0].appendChild(W)}injectScript(T,R){let W=T.createElement("script");W.setAttribute("type","text/javascript"),W.setAttribute("src",this.settings.script),W.textContent=" ",T.getElementsByTagName("head")[0].appendChild(W)}injectIdentifier(T,R){let W=this.book.packaging.metadata.identifier,K=T.createElement("meta");K.setAttribute("name","dc.relation.ispartof"),W&&K.setAttribute("content",W),T.getElementsByTagName("head")[0].appendChild(K)}}C()(A.prototype),q.a=A},function(P,q,r){var x=r(12),C=r(69),m=r(24),d=r(37),i=r(40),o=r(9),l=r(70),p=Object.getOwnPropertyDescriptor;q.f=x?p:function(E,g){if(E=d(E),g=i(g,!0),l)try{return p(E,g)}catch{}if(o(E,g))return m(!C.f.call(E,g),E[g])}},function(P,q,r){var x=r(10),C=r(38),m="".split;P.exports=x(function(){return!Object("z").propertyIsEnumerable(0)})?function(d){return"String"==C(d)?m.call(d,""):Object(d)}:Object},function(P,q,r){var x=r(4),C=r(13);P.exports=function(m,d){try{C(x,m,d)}catch{x[m]=d}return d}},function(P,q,r){var x=r(74),C=r(55),m=x("keys");P.exports=function(d){return m[d]||(m[d]=C(d))}},function(P,q){var r=0,x=Math.random();P.exports=function(C){return"Symbol("+String(void 0===C?"":C)+")_"+(++r+x).toString(36)}},function(P,q){P.exports={}},function(P,q,r){var x=r(75),C=r(58).concat("length","prototype");q.f=Object.getOwnPropertyNames||function(m){return x(m,C)}},function(P,q){P.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(P,q,r){"use strict";var x,C,m=r(103),d=r(104),i=RegExp.prototype.exec,o=String.prototype.replace,l=i,p=(C=/b*/g,i.call(x=/a/,"a"),i.call(C,"a"),0!==x.lastIndex||0!==C.lastIndex),E=d.UNSUPPORTED_Y||d.BROKEN_CARET,g=void 0!==/()??/.exec("")[1];(p||g||E)&&(l=function(v){var S,f,a,_,j=this,A=E&&j.sticky,e=m.call(j),T=j.source,R=0,W=v;return A&&(-1===(e=e.replace("y","")).indexOf("g")&&(e+="g"),W=String(v).slice(j.lastIndex),j.lastIndex>0&&(!j.multiline||j.multiline&&"\n"!==v[j.lastIndex-1])&&(T="(?: "+T+")",W=" "+W,R++),f=new RegExp("^(?:"+T+")",e)),g&&(f=new RegExp("^"+T+"$(?!\\s)",e)),p&&(S=j.lastIndex),a=i.call(A?f:j,W),A?a?(a.input=a.input.slice(R),a[0]=a[0].slice(R),a.index=j.lastIndex,j.lastIndex+=a[0].length):j.lastIndex=0:p&&a&&(j.lastIndex=j.global?a.index+a[0].length:S),g&&a&&a.length>1&&o.call(a[0],f,function(){for(_=1;_<arguments.length-2;_++)void 0===arguments[_]&&(a[_]=void 0)}),a}),P.exports=l},function(P,q,r){var x=r(22),C=r(39),m=function(d){return function(i,o){var l,p,E=String(C(i)),g=x(o),v=E.length;return g<0||g>=v?d?"":void 0:(l=E.charCodeAt(g))<55296||l>56319||g+1===v||(p=E.charCodeAt(g+1))<56320||p>57343?d?E.charAt(g):l:d?E.slice(g,g+2):p-56320+(l-55296<<10)+65536}};P.exports={codeAt:m(!1),charAt:m(!0)}},function(P,q,r){"use strict";var x=r(120)();P.exports=function(C){return C!==x&&null!==C}},function(P,q,r){"use strict";var x,C=r(88),m=r(12),d=r(4),i=r(15),o=r(9),l=r(48),p=r(13),E=r(20),g=r(16).f,v=r(44),S=r(33),f=r(5),a=r(55),_=d.Int8Array,j=_&&_.prototype,A=d.Uint8ClampedArray,e=A&&A.prototype,T=_&&v(_),R=j&&v(j),W=Object.prototype,K=W.isPrototypeOf,at=f("toStringTag"),rt=a("TYPED_ARRAY_TAG"),dt=C&&!!S&&"Opera"!==l(d.opera),St=!1,_t={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},qt=function(jt){return i(jt)&&o(_t,l(jt))};for(x in _t)d[x]||(dt=!1);if((!dt||"function"!=typeof T||T===Function.prototype)&&(T=function(){throw TypeError("Incorrect invocation")},dt))for(x in _t)d[x]&&S(d[x],T);if((!dt||!R||R===W)&&(R=T.prototype,dt))for(x in _t)d[x]&&S(d[x].prototype,R);if(dt&&v(e)!==R&&S(e,R),m&&!o(R,at))for(x in St=!0,g(R,at,{get:function(){return i(this)?this[rt]:void 0}}),_t)d[x]&&p(d[x],rt,x);P.exports={NATIVE_ARRAY_BUFFER_VIEWS:dt,TYPED_ARRAY_TAG:St&&rt,aTypedArray:function(jt){if(qt(jt))return jt;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(jt){if(S){if(K.call(T,jt))return jt}else for(var c in _t)if(o(_t,x)){var u=d[c];if(u&&(jt===u||K.call(u,jt)))return jt}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(jt,c,u){if(m){if(u)for(var D in _t){var M=d[D];M&&o(M.prototype,jt)&&delete M.prototype[jt]}R[jt]&&!u||E(R,jt,u?c:dt&&j[jt]||c)}},exportTypedArrayStaticMethod:function(jt,c,u){var D,M;if(m){if(S){if(u)for(D in _t)(M=d[D])&&o(M,jt)&&delete M[jt];if(T[jt]&&!u)return;try{return E(T,jt,u?c:dt&&_[jt]||c)}catch{}}for(D in _t)!(M=d[D])||M[jt]&&!u||E(M,jt,c)}},isView:function(jt){var c=l(jt);return"DataView"===c||o(_t,c)},isTypedArray:qt,TypedArray:T,TypedArrayPrototype:R}},function(P,q){P.exports=function(r){var x=typeof r;return null!=r&&("object"==x||"function"==x)}},function(P,q,r){"use strict";var x=r(3),C=r.n(x),m=r(0),d=r(2),i=r(34),o=r(1),l=r(35);class p{constructor(g,v){this.settings=Object(m.extend)({ignoreClass:"",axis:v.layout&&"scrolled"===v.layout.props.flow?"vertical":"horizontal",direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1},v||{}),this.id="epubjs-view-"+Object(m.uuid)(),this.section=g,this.index=g.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new d.a,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(g){var v=document.createElement("div");return v.classList.add("epub-view"),v.style.height="0px",v.style.width="0px",v.style.overflow="hidden",v.style.position="relative",v.style.display="block",v.style.flex=g&&"horizontal"==g?"none":"initial",v}create(){return this.iframe||(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.referrerPolicy="strict-origin-when-cross-origin",this.iframe.sandbox="allow-same-origin",this.iframe.oncontextmenu=function(){return!1},this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=Object(m.bounds)(this.element),this.supportsSrcdoc="srcdoc"in this.iframe,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write")),this.iframe}render(g,v){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(g)),this.sectionRender.then(function(S){return this.load(S)}.bind(this)).then(function(){this.layout.format(this.contents,this.section);let S=0===this.contents.writingMode().indexOf("vertical")?"vertical":"horizontal";return this.setAxis(S),this.emit(o.c.VIEWS.AXIS,S),this.addListeners(),new Promise((f,a)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),f()})}.bind(this),function(S){return this.emit(o.c.VIEWS.LOAD_ERROR,S),new Promise((f,a)=>{a(S)})}.bind(this)).then(function(){this.emit(o.c.VIEWS.RENDERED,this.section)}.bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(g,v){var S=g||this.settings.width,f=v||this.settings.height;this.lock("pre-paginated"===this.layout.name?"both":"horizontal"===this.settings.axis?"height":"width",S,f),this.settings.width=S,this.settings.height=f}lock(g,v,S){var f,a=Object(m.borders)(this.element);f=this.iframe?Object(m.borders)(this.iframe):{width:0,height:0},"width"==g&&Object(m.isNumber)(v)&&(this.lockedWidth=v-a.width-f.width),"height"==g&&Object(m.isNumber)(S)&&(this.lockedHeight=S-a.height-f.height),"both"===g&&Object(m.isNumber)(v)&&Object(m.isNumber)(S)&&(this.lockedWidth=v-a.width-f.width,this.lockedHeight=S-a.height-f.height),this.displayed&&this.iframe&&this.expand()}expand(g){var S=this.lockedWidth,f=this.lockedHeight;this.iframe&&!this._expanding&&(this._expanding=!0,"pre-paginated"===this.layout.name?(S=this.layout.columnWidth,f=this.layout.height):"horizontal"===this.settings.axis?((S=this.contents.textWidth())%this.layout.pageWidth>0&&(S=Math.ceil(S/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&this.layout.divisor>1&&"reflowable"===this.layout.name&&S/this.layout.pageWidth%2>0&&(S+=this.layout.pageWidth)):"vertical"===this.settings.axis&&(f=this.contents.textHeight()),(this._needsReframe||S!=this._width||f!=this._height)&&this.reframe(S,f),this._expanding=!1)}reframe(g,v){var S;Object(m.isNumber)(g)&&(this.element.style.width=g+"px",this.iframe.style.width=g+"px",this._width=g),Object(m.isNumber)(v)&&(this.element.style.height=v+"px",this.iframe.style.height=v+"px",this._height=v),S={width:g,height:v,widthDelta:this.prevBounds?g-this.prevBounds.width:g,heightDelta:this.prevBounds?v-this.prevBounds.height:v},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let f;for(let a in this.marks)this.marks.hasOwnProperty(a)&&(f=this.marks[a],this.placeMark(f.element,f.range))}),this.onResize(this,S),this.emit(o.c.VIEWS.RESIZED,S),this.prevBounds=S,this.elementBounds=Object(m.bounds)(this.element)}load(g){var v=new m.defer,S=v.promise;if(!this.iframe)return v.reject(new Error("No Iframe Available")),S;if(this.iframe.onload=function(a){this.onLoad(a,v)}.bind(this),"blobUrl"===this.settings.method)this.blobUrl=Object(m.createBlobUrl)(g,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if("srcdoc"===this.settings.method)this.iframe.srcdoc=g,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return v.reject(new Error("No Document Available")),S;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var f=this;MSApp.execUnsafeLocalFunction(function(){f.iframe.contentDocument.write(g)})}else this.iframe.contentDocument.write(g);this.iframe.contentDocument.close()}return S}onLoad(g,v){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new i.a(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var S=this.document.querySelector("link[rel='canonical']");S?S.setAttribute("href",this.section.canonical):((S=this.document.createElement("link")).setAttribute("rel","canonical"),S.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(S)),this.contents.on(o.c.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(o.c.CONTENTS.RESIZE,f=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),v.resolve(this.contents)}setLayout(g){this.layout=g,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(g){"scrolled"===this.layout.props.flow&&(g="vertical"),this.settings.axis=g,this.element.style.flex="horizontal"==g?"none":"initial",this.size()}addListeners(){}removeListeners(g){}display(g){var v=new m.defer;return this.displayed?v.resolve(this):this.render(g).then(function(){this.emit(o.c.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,v.resolve(this)}.bind(this),function(S){v.reject(S,this)}),v.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.style.transform=null),this.emit(o.c.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(o.c.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(g){this.iframe.getBoundingClientRect();var v=this.contents.locationOf(g,this.settings.ignoreClass);return{left:v.left,top:v.top}}onDisplayed(g){}onResize(g,v){}bounds(g){return!g&&this.elementBounds||(this.elementBounds=Object(m.bounds)(this.element)),this.elementBounds}highlight(g,v={},S,f="epubjs-hl",a={}){if(!this.contents)return;const _=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},a);let j=this.contents.range(g),A=()=>{this.emit(o.c.VIEWS.MARK_CLICKED,g,v)};v.epubcfi=g,this.pane||(this.pane=new l.Pane(this.iframe,this.element));let e=new l.Highlight(j,f,v,_),T=this.pane.addMark(e);return this.highlights[g]={mark:T,element:T.element,listeners:[A,S]},T.element.setAttribute("ref",f),T.element.addEventListener("click",A),T.element.addEventListener("touchstart",A),S&&(T.element.addEventListener("click",S),T.element.addEventListener("touchstart",S)),T}underline(g,v={},S,f="epubjs-ul",a={}){if(!this.contents)return;const _=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},a);let j=this.contents.range(g),A=()=>{this.emit(o.c.VIEWS.MARK_CLICKED,g,v)};v.epubcfi=g,this.pane||(this.pane=new l.Pane(this.iframe,this.element));let e=new l.Underline(j,f,v,_),T=this.pane.addMark(e);return this.underlines[g]={mark:T,element:T.element,listeners:[A,S]},T.element.setAttribute("ref",f),T.element.addEventListener("click",A),T.element.addEventListener("touchstart",A),S&&(T.element.addEventListener("click",S),T.element.addEventListener("touchstart",S)),T}mark(g,v={},S){if(!this.contents)return;if(g in this.marks)return this.marks[g];let f=this.contents.range(g);if(!f)return;let a=f.commonAncestorContainer,_=1===a.nodeType?a:a.parentNode,j=e=>{this.emit(o.c.VIEWS.MARK_CLICKED,g,v)};f.collapsed&&1===a.nodeType?(f=new Range,f.selectNodeContents(a)):f.collapsed&&(f=new Range,f.selectNodeContents(_));let A=this.document.createElement("a");return A.setAttribute("ref","epubjs-mk"),A.style.position="absolute",A.dataset.epubcfi=g,v&&Object.keys(v).forEach(e=>{A.dataset[e]=v[e]}),S&&(A.addEventListener("click",S),A.addEventListener("touchstart",S)),A.addEventListener("click",j),A.addEventListener("touchstart",j),this.placeMark(A,f),this.element.appendChild(A),this.marks[g]={element:A,range:f,listeners:[j,S]},_}placeMark(g,v){let S,f,a;if("pre-paginated"===this.layout.name||"horizontal"!==this.settings.axis){let j=v.getBoundingClientRect();S=j.top,f=j.right}else{let j,A=v.getClientRects();for(var _=0;_!=A.length;_++)j=A[_],(!a||j.left<a)&&(a=j.left,f=Math.ceil(a/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,S=j.top)}g.style.top=S+"px",g.style.left=f+"px"}unhighlight(g){let v;g in this.highlights&&(v=this.highlights[g],this.pane.removeMark(v.mark),v.listeners.forEach(S=>{S&&(v.element.removeEventListener("click",S),v.element.removeEventListener("touchstart",S))}),delete this.highlights[g])}ununderline(g){let v;g in this.underlines&&(v=this.underlines[g],this.pane.removeMark(v.mark),v.listeners.forEach(S=>{S&&(v.element.removeEventListener("click",S),v.element.removeEventListener("touchstart",S))}),delete this.underlines[g])}unmark(g){let v;g in this.marks&&(v=this.marks[g],this.element.removeChild(v.element),v.listeners.forEach(S=>{S&&(v.element.removeEventListener("click",S),v.element.removeEventListener("touchstart",S))}),delete this.marks[g])}destroy(){for(let g in this.highlights)this.unhighlight(g);for(let g in this.underlines)this.ununderline(g);for(let g in this.marks)this.unmark(g);this.blobUrl&&Object(m.revokeBlobUrl)(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}C()(p.prototype),q.a=p},function(P,q,r){var x=r(63),C=r(155),m=r(157),d=Math.max,i=Math.min;P.exports=function(o,l,p){var E,g,v,S,f,a,_=0,j=!1,A=!1,e=!0;if("function"!=typeof o)throw new TypeError("Expected a function");function T(dt){var St=E,_t=g;return E=g=void 0,_=dt,S=o.apply(_t,St)}function W(dt){var St=dt-a;return void 0===a||St>=l||St<0||A&&dt-_>=v}function K(){var St,_t,dt=C();if(W(dt))return at(dt);f=setTimeout(K,(_t=l-((St=dt)-a),A?i(_t,v-(St-_)):_t))}function at(dt){return f=void 0,e&&E?T(dt):(E=g=void 0,S)}function rt(){var dt=C(),St=W(dt);if(E=arguments,g=this,a=dt,St){if(void 0===f)return function R(dt){return _=dt,f=setTimeout(K,l),j?T(dt):S}(a);if(A)return clearTimeout(f),f=setTimeout(K,l),T(a)}return void 0===f&&(f=setTimeout(K,l)),S}return l=m(l)||0,x(p)&&(j=!!p.leading,v=(A="maxWait"in p)?d(m(p.maxWait)||0,l):v,e="trailing"in p?!!p.trailing:e),rt.cancel=function(){void 0!==f&&clearTimeout(f),_=0,E=a=g=f=void 0},rt.flush=function(){return void 0===f?S:at(C())},rt}},function(P,q,r){"use strict";r(18);var x=r(0),C=r(27),m=r(1),d=r(3),i=r.n(d);const o=Math.PI/2,l={easeOutSine:function(f){return Math.sin(f*o)},easeInOutSine:function(f){return-.5*(Math.cos(Math.PI*f)-1)},easeInOutQuint:function(f){return(f/=.5)<1?.5*Math.pow(f,5):.5*(Math.pow(f-2,5)+2)},easeInCubic:function(f){return Math.pow(f,3)}};class p{constructor(a,_){this.settings=Object(x.extend)({duration:80,minVelocity:.2,minDistance:10,easing:l.easeInCubic},_||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(a)}setup(a){this.manager=a,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=2*this.settings.duration,this.isVertical="vertical"===this.manager.settings.axis,this.manager.isPaginated&&!this.isVertical&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(m.c.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(m.c.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(a){let _=a.contents;["touchstart","touchmove","touchend"].forEach(j=>{_.on(j,A=>this.triggerViewEvent(A,_))})}triggerViewEvent(a,_){this.emit(a.type,a,_)}onScroll(a){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(a){this.resizeCanceler=!0}onTouchStart(a){let{screenX:_,screenY:j}=a.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=_,this.startTouchY=j,this.startTime=this.now()),this.endTouchX=_,this.endTouchY=j,this.endTime=this.now()}onTouchMove(a){let{screenX:_,screenY:j}=a.touches[0],A=Math.abs(j-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&A<10&&(this.element.scrollLeft-=_-this.endTouchX),this.endTouchX=_,this.endTouchY=j,this.endTime=this.now()}onTouchEnd(a){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let _=this.wasSwiped();0!==_?this.snap(_):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let a=this.layout.pageWidth*this.layout.divisor,_=this.endTouchX-this.startTouchX,j=Math.abs(_),A=_/(this.endTime-this.startTime),e=this.settings.minVelocity;return j<=this.settings.minDistance||j>=a?0:A>e?-1:A<-e?1:void 0}needsSnap(){return this.scrollLeft%(this.layout.pageWidth*this.layout.divisor)!=0}snap(a=0){let j=this.layout.pageWidth*this.layout.divisor,A=Math.round(this.scrollLeft/j)*j;return a&&(A+=a*j),this.smoothScrollTo(A)}smoothScrollTo(a){const _=new x.defer,j=this.scrollLeft,A=this.now(),e=this.settings.duration,T=this.settings.easing;return this.snapping=!0,function R(){const W=this.now(),K=Math.min(1,(W-A)/e);if(T(K),this.touchCanceler||this.resizeCanceler)return this.resizeCanceler=!1,this.snapping=!1,void _.resolve();K<1?(window.requestAnimationFrame(R.bind(this)),this.scrollTo(j+(a-j)*K,0)):(this.scrollTo(a,0),this.snapping=!1,_.resolve())}.call(this),_.promise}scrollTo(a=0,_=0){this.fullsize?window.scroll(a,_):(this.scroller.scrollLeft=a,this.scroller.scrollTop=_)}now(){return"now"in window.performance?performance.now():(new Date).getTime()}destroy(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}i()(p.prototype);var E=p,g=r(65),v=r.n(g);q.a=class S extends C.a{constructor(a){super(a),this.name="continuous",this.settings=Object(x.extend)(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10}),Object(x.extend)(this.settings,a.settings||{}),"undefined"!=a.settings.gap&&0===a.settings.gap&&(this.settings.gap=a.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1},this.scrollTop=0,this.scrollLeft=0}display(a,_){return C.a.prototype.display.call(this,a,_).then(function(){return this.fill()}.bind(this))}fill(a){var _=a||new x.defer;return this.q.enqueue(()=>this.check()).then(j=>{j?this.fill(_):_.resolve()}),_.promise}moveTo(a){var _=0,j=0;this.isPaginated?_=Math.floor(a.left/this.layout.delta)*this.layout.delta:j=a.top,(_>0||j>0)&&this.scrollBy(_,j,!0)}afterResized(a){this.emit(m.c.MANAGERS.RESIZE,a.section)}removeShownListeners(a){a.onDisplayed=function(){}}add(a){var _=this.createView(a);return this.views.append(_),_.on(m.c.VIEWS.RESIZED,j=>{_.expanded=!0}),_.on(m.c.VIEWS.AXIS,j=>{this.updateAxis(j)}),_.onDisplayed=this.afterDisplayed.bind(this),_.onResize=this.afterResized.bind(this),_.display(this.request)}append(a){var _=this.createView(a);return _.on(m.c.VIEWS.RESIZED,j=>{_.expanded=!0}),_.on(m.c.VIEWS.AXIS,j=>{this.updateAxis(j)}),this.views.append(_),_.onDisplayed=this.afterDisplayed.bind(this),_}prepend(a){var _=this.createView(a);return _.on(m.c.VIEWS.RESIZED,j=>{this.counter(j),_.expanded=!0}),_.on(m.c.VIEWS.AXIS,j=>{this.updateAxis(j)}),this.views.prepend(_),_.onDisplayed=this.afterDisplayed.bind(this),_}counter(a){"vertical"===this.settings.axis?this.scrollBy(0,a.heightDelta,!0):this.scrollBy(a.widthDelta,0,!0)}update(a){for(var _,j=this.bounds(),A=this.views.all(),e=A.length,T=[],R=void 0!==a?a:this.settings.offset||0,W=new x.defer,K=[],at=0;at<e;at++)if(!0===this.isVisible(_=A[at],R,R,j)){if(_.displayed)_.show();else{let rt=_.display(this.request).then(function(dt){dt.show()},dt=>{_.hide()});K.push(rt)}T.push(_)}else this.q.enqueue(_.destroy.bind(_)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout(function(){this.q.enqueue(this.trim.bind(this))}.bind(this),250);return K.length?Promise.all(K).catch(rt=>{W.reject(rt)}):(W.resolve(),W.promise)}check(a,_){var j=new x.defer,A=[],e="horizontal"===this.settings.axis,T=this.settings.offset||0;a&&e&&(T=a),_&&!e&&(T=_);var R=this._bounds;let W="rtl"===this.settings.direction;var at=e?this.scrollLeft:this.scrollTop*(e&&W?-1:1),rt=e?Math.floor(R.width):R.height,dt=e?this.container.scrollWidth:this.container.scrollHeight;let St=()=>{let jt=this.views.first(),c=jt&&jt.section.prev();c&&A.push(this.prepend(c))},_t=()=>{let jt=this.views.last(),c=jt&&jt.section.next();c&&A.push(this.append(c))};e&&W&&"negative"===this.settings.rtlScrollType?(at-T<=-1*dt&&_t(),at+T>0&&St()):(at+rt+T>=dt&&(e&&W?St():_t()),at-T<0&&(e&&W?_t():St()));let qt=A.map(jt=>jt.display(this.request));return A.length?Promise.all(qt).then(()=>this.check()).then(()=>this.update(T),jt=>jt):(this.q.enqueue(function(){this.update()}.bind(this)),j.resolve(!1),j.promise)}trim(){for(var a=new x.defer,_=this.views.displayed(),A=_[_.length-1],e=this.views.indexOf(_[0]),T=this.views.indexOf(A),R=this.views.slice(0,e),W=this.views.slice(T+1),K=0;K<R.length-1;K++)this.erase(R[K],R);for(var at=1;at<W.length;at++)this.erase(W[at]);return a.resolve(),a.promise}erase(a,_){var j,A;this.settings.fullsize?(j=window.scrollY,A=window.scrollX):(j=this.container.scrollTop,A=this.container.scrollLeft);var e=a.bounds();this.views.remove(a),_&&("vertical"===this.settings.axis?this.scrollTo(0,j-e.height,!0):this.scrollTo("rtl"===this.settings.direction?"default"===this.settings.rtlScrollType?A:A+Math.floor(e.width):A-Math.floor(e.width),0,!0))}addEventListeners(a){window.addEventListener("unload",function(_){this.ignore=!0,this.destroy()}.bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new E(this,this.settings.snap&&"object"==typeof this.settings.snap&&this.settings.snap))}addScrollListeners(){var a;this.tick=x.requestAnimationFrame,this.settings.fullsize?(this.prevScrollTop=window.scrollY,this.prevScrollLeft=window.scrollX):(this.prevScrollTop=this.container.scrollTop,this.prevScrollLeft=this.container.scrollLeft),this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(a=window,this.scrollTop=window.scrollY,this.scrollLeft=window.scrollX):(a=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),a.addEventListener("scroll",this._onScroll),this._scrolled=v()(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){(this.settings.fullsize?window:this.container).removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let a,_,j="rtl"===this.settings.direction?-1:1;this.settings.fullsize?(a=window.scrollY*j,_=window.scrollX*j):(a=this.container.scrollTop,_=this.container.scrollLeft),this.scrollTop=a,this.scrollLeft=_,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(a-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(_-this.prevScrollLeft),this.prevScrollTop=a,this.prevScrollLeft=_,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}.bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue(function(){this.check()}.bind(this)),this.emit(m.c.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(m.c.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),this.settings.afterScrolledTimeout)}next(){this.views.length&&(this.isPaginated&&"horizontal"===this.settings.axis?this.scrollBy("pre-paginated"===this.layout.props.name&&this.layout.props.spread?2*this.layout.props.delta:this.layout.props.delta,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue(function(){this.check()}.bind(this)))}prev(){this.views.length&&(this.isPaginated&&"horizontal"===this.settings.axis?this.scrollBy(-("pre-paginated"===this.layout.props.name&&this.layout.props.spread?2*this.layout.props.delta:this.layout.props.delta),0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue(function(){this.check()}.bind(this)))}updateFlow(a){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(a,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new E(this,this.settings.snap&&"object"==typeof this.settings.snap&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}},function(P,q,r){(function(x){P.exports=function C(m,d,i){function o(E,g){if(!d[E]){if(!m[E]){if(l)return l(E,!0);var v=new Error("Cannot find module '"+E+"'");throw v.code="MODULE_NOT_FOUND",v}var S=d[E]={exports:{}};m[E][0].call(S.exports,function(f){return o(m[E][1][f]||f)},S,S.exports,C,m,d,i)}return d[E].exports}for(var l=!1,p=0;p<i.length;p++)o(i[p]);return o}({1:[function(C,m,d){(function(i){"use strict";var o,l,p=i.MutationObserver||i.WebKitMutationObserver;if(p){var E=0,g=new p(a),v=i.document.createTextNode("");g.observe(v,{characterData:!0}),o=function(){v.data=E=++E%2}}else if(i.setImmediate||void 0===i.MessageChannel)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var _=i.document.createElement("script");_.onreadystatechange=function(){a(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},i.document.documentElement.appendChild(_)}:function(){setTimeout(a,0)};else{var S=new i.MessageChannel;S.port1.onmessage=a,o=function(){S.port2.postMessage(0)}}var f=[];function a(){var _,j;l=!0;for(var A=f.length;A;){for(j=f,f=[],_=-1;++_<A;)j[_]();A=f.length}l=!1}m.exports=function(_){1!==f.push(_)||l||o()}}).call(this,void 0!==x?x:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(C,m,d){"use strict";var i=C(1);function o(){}var l={},p=["REJECTED"],E=["FULFILLED"],g=["PENDING"];function v(A){if("function"!=typeof A)throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,A!==o&&_(this,A)}function S(A,e,T){this.promise=A,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof T&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}function f(A,e,T){i(function(){var R;try{R=e(T)}catch(W){return l.reject(A,W)}R===A?l.reject(A,new TypeError("Cannot resolve promise with itself")):l.resolve(A,R)})}function a(A){var e=A&&A.then;if(A&&("object"==typeof A||"function"==typeof A)&&"function"==typeof e)return function(){e.apply(A,arguments)}}function _(A,e){var T=!1;function R(at){T||(T=!0,l.reject(A,at))}function W(at){T||(T=!0,l.resolve(A,at))}var K=j(function(){e(W,R)});"error"===K.status&&R(K.value)}function j(A,e){var T={};try{T.value=A(e),T.status="success"}catch(R){T.status="error",T.value=R}return T}m.exports=v,v.prototype.catch=function(A){return this.then(null,A)},v.prototype.then=function(A,e){if("function"!=typeof A&&this.state===E||"function"!=typeof e&&this.state===p)return this;var T=new this.constructor(o);return this.state!==g?f(T,this.state===E?A:e,this.outcome):this.queue.push(new S(T,A,e)),T},S.prototype.callFulfilled=function(A){l.resolve(this.promise,A)},S.prototype.otherCallFulfilled=function(A){f(this.promise,this.onFulfilled,A)},S.prototype.callRejected=function(A){l.reject(this.promise,A)},S.prototype.otherCallRejected=function(A){f(this.promise,this.onRejected,A)},l.resolve=function(A,e){var T=j(a,e);if("error"===T.status)return l.reject(A,T.value);var R=T.value;if(R)_(A,R);else{A.state=E,A.outcome=e;for(var W=-1,K=A.queue.length;++W<K;)A.queue[W].callFulfilled(e)}return A},l.reject=function(A,e){A.state=p,A.outcome=e;for(var T=-1,R=A.queue.length;++T<R;)A.queue[T].callRejected(e);return A},v.resolve=function(A){return A instanceof this?A:l.resolve(new this(o),A)},v.reject=function(A){var e=new this(o);return l.reject(e,A)},v.all=function(A){var e=this;if("[object Array]"!==Object.prototype.toString.call(A))return this.reject(new TypeError("must be an array"));var T=A.length,R=!1;if(!T)return this.resolve([]);for(var W=new Array(T),K=0,at=-1,rt=new this(o);++at<T;)dt(A[at],at);return rt;function dt(St,_t){e.resolve(St).then(function(qt){W[_t]=qt,++K!==T||R||(R=!0,l.resolve(rt,W))},function(qt){R||(R=!0,l.reject(rt,qt))})}},v.race=function(A){if("[object Array]"!==Object.prototype.toString.call(A))return this.reject(new TypeError("must be an array"));var T=A.length,R=!1;if(!T)return this.resolve([]);for(var K=-1,at=new this(o);++K<T;)this.resolve(A[K]).then(function(rt){R||(R=!0,l.resolve(at,rt))},function(rt){R||(R=!0,l.reject(at,rt))});return at}},{1:1}],3:[function(C,m,d){(function(i){"use strict";"function"!=typeof i.Promise&&(i.Promise=C(2))}).call(this,void 0!==x?x:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(C,m,d){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},o=function(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}();function l(L,B){L=L||[],B=B||{};try{return new Blob(L,B)}catch(Z){if("TypeError"!==Z.name)throw Z;for(var F=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),Y=0;Y<L.length;Y+=1)F.append(L[Y]);return F.getBlob(B.type)}}typeof Promise>"u"&&C(3);var p=Promise;function E(L,B){B&&L.then(function(F){B(null,F)},function(F){B(F)})}function g(L,B,F){"function"==typeof B&&L.then(B),"function"==typeof F&&L.catch(F)}function v(L){return"string"!=typeof L&&(console.warn(L+" used as a key, but it is not a string."),L=String(L)),L}function S(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var f=void 0,a={},_=Object.prototype.toString;function A(L){var B=a[L.name],F={};F.promise=new p(function(Y,Z){F.resolve=Y,F.reject=Z}),B.deferredOperations.push(F),B.dbReady=B.dbReady?B.dbReady.then(function(){return F.promise}):F.promise}function e(L){var B=a[L.name].deferredOperations.pop();if(B)return B.resolve(),B.promise}function T(L,B){var F=a[L.name].deferredOperations.pop();if(F)return F.reject(B),F.promise}function R(L,B){return new p(function(F,Y){if(a[L.name]=a[L.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},L.db){if(!B)return F(L.db);A(L),L.db.close()}var Z=[L.name];B&&Z.push(L.version);var Q=o.open.apply(o,Z);B&&(Q.onupgradeneeded=function(st){var ct=Q.result;try{ct.createObjectStore(L.storeName),st.oldVersion<=1&&ct.createObjectStore("local-forage-detect-blob-support")}catch(ft){if("ConstraintError"!==ft.name)throw ft;console.warn('The database "'+L.name+'" has been upgraded from version '+st.oldVersion+" to version "+st.newVersion+', but the storage "'+L.storeName+'" already exists.')}}),Q.onerror=function(st){st.preventDefault(),Y(Q.error)},Q.onsuccess=function(){F(Q.result),e(L)}})}function W(L){return R(L,!1)}function K(L){return R(L,!0)}function at(L,B){if(!L.db)return!0;var F=!L.db.objectStoreNames.contains(L.storeName),Z=L.version>L.db.version;if(L.version<L.db.version&&(L.version!==B&&console.warn('The database "'+L.name+"\" can't be downgraded from version "+L.db.version+" to version "+L.version+"."),L.version=L.db.version),Z||F){if(F){var Q=L.db.version+1;Q>L.version&&(L.version=Q)}return!0}return!1}function rt(L){return l([function(B){for(var F=B.length,Y=new ArrayBuffer(F),Z=new Uint8Array(Y),Q=0;Q<F;Q++)Z[Q]=B.charCodeAt(Q);return Y}(atob(L.data))],{type:L.type})}function dt(L){return L&&L.__local_forage_encoded_blob}function St(L){var B=this,F=B._initReady().then(function(){var Y=a[B._dbInfo.name];if(Y&&Y.dbReady)return Y.dbReady});return g(F,L,L),F}function _t(L,B,F,Y){void 0===Y&&(Y=1);try{var Z=L.db.transaction(L.storeName,B);F(null,Z)}catch(Q){if(Y>0&&(!L.db||"InvalidStateError"===Q.name||"NotFoundError"===Q.name))return p.resolve().then(function(){if(!L.db||"NotFoundError"===Q.name&&!L.db.objectStoreNames.contains(L.storeName)&&L.version<=L.db.version)return L.db&&(L.version=L.db.version+1),K(L)}).then(function(){return function(st){A(st);for(var ct=a[st.name],ft=ct.forages,mt=0;mt<ft.length;mt++){var Rt=ft[mt];Rt._dbInfo.db&&(Rt._dbInfo.db.close(),Rt._dbInfo.db=null)}return st.db=null,W(st).then(function(Nt){return st.db=Nt,at(st)?K(st):Nt}).then(function(Nt){st.db=ct.db=Nt;for(var Pt=0;Pt<ft.length;Pt++)ft[Pt]._dbInfo.db=Nt}).catch(function(Nt){throw T(st,Nt),Nt})}(L).then(function(){_t(L,B,F,Y-1)})}).catch(F);F(Q)}}var qt={_driver:"asyncStorage",_initStorage:function(L){var B=this,F={db:null};if(L)for(var Y in L)F[Y]=L[Y];var Z=a[F.name];Z||(a[F.name]=Z={forages:[],db:null,dbReady:null,deferredOperations:[]}),Z.forages.push(B),B._initReady||(B._initReady=B.ready,B.ready=St);var Q=[];function st(){return p.resolve()}for(var ct=0;ct<Z.forages.length;ct++){var ft=Z.forages[ct];ft!==B&&Q.push(ft._initReady().catch(st))}var mt=Z.forages.slice(0);return p.all(Q).then(function(){return F.db=Z.db,W(F)}).then(function(Rt){return F.db=Rt,at(F,B._defaultConfig.version)?K(F):Rt}).then(function(Rt){F.db=Z.db=Rt,B._dbInfo=F;for(var Nt=0;Nt<mt.length;Nt++){var Pt=mt[Nt];Pt!==B&&(Pt._dbInfo.db=F.db,Pt._dbInfo.version=F.version)}})},_support:function(){try{if(!o)return!1;var L=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),B="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!L||B)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}(),iterate:function(L,B){var F=this,Y=new p(function(Z,Q){F.ready().then(function(){_t(F._dbInfo,"readonly",function(st,ct){if(st)return Q(st);try{var ft=ct.objectStore(F._dbInfo.storeName).openCursor(),mt=1;ft.onsuccess=function(){var Rt=ft.result;if(Rt){var Nt=Rt.value;dt(Nt)&&(Nt=rt(Nt));var Pt=L(Nt,Rt.key,mt++);void 0!==Pt?Z(Pt):Rt.continue()}else Z()},ft.onerror=function(){Q(ft.error)}}catch(Rt){Q(Rt)}})}).catch(Q)});return E(Y,B),Y},getItem:function(L,B){var F=this;L=v(L);var Y=new p(function(Z,Q){F.ready().then(function(){_t(F._dbInfo,"readonly",function(st,ct){if(st)return Q(st);try{var ft=ct.objectStore(F._dbInfo.storeName).get(L);ft.onsuccess=function(){var mt=ft.result;void 0===mt&&(mt=null),dt(mt)&&(mt=rt(mt)),Z(mt)},ft.onerror=function(){Q(ft.error)}}catch(mt){Q(mt)}})}).catch(Q)});return E(Y,B),Y},setItem:function(L,B,F){var Y=this;L=v(L);var Z=new p(function(Q,st){var ct;Y.ready().then(function(){return ct=Y._dbInfo,"[object Blob]"===_.call(B)?function j(L){return"boolean"==typeof f?p.resolve(f):(B=L,new p(function(F){var Y=B.transaction("local-forage-detect-blob-support","readwrite"),Z=l([""]);Y.objectStore("local-forage-detect-blob-support").put(Z,"key"),Y.onabort=function(Q){Q.preventDefault(),Q.stopPropagation(),F(!1)},Y.oncomplete=function(){var Q=navigator.userAgent.match(/Chrome\/(\d+)/),st=navigator.userAgent.match(/Edge\//);F(st||!Q||parseInt(Q[1],10)>=43)}}).catch(function(){return!1})).then(function(B){return f=B});var B}(ct.db).then(function(ft){return ft?B:(mt=B,new p(function(Rt,Nt){var Pt=new FileReader;Pt.onerror=Nt,Pt.onloadend=function(Gt){var Bt=btoa(Gt.target.result||"");Rt({__local_forage_encoded_blob:!0,data:Bt,type:mt.type})},Pt.readAsBinaryString(mt)}));var mt}):B}).then(function(ft){_t(Y._dbInfo,"readwrite",function(mt,Rt){if(mt)return st(mt);try{var Nt=Rt.objectStore(Y._dbInfo.storeName);null===ft&&(ft=void 0);var Pt=Nt.put(ft,L);Rt.oncomplete=function(){void 0===ft&&(ft=null),Q(ft)},Rt.onabort=Rt.onerror=function(){st(Pt.error?Pt.error:Pt.transaction.error)}}catch(Gt){st(Gt)}})}).catch(st)});return E(Z,F),Z},removeItem:function(L,B){var F=this;L=v(L);var Y=new p(function(Z,Q){F.ready().then(function(){_t(F._dbInfo,"readwrite",function(st,ct){if(st)return Q(st);try{var ft=ct.objectStore(F._dbInfo.storeName).delete(L);ct.oncomplete=function(){Z()},ct.onerror=function(){Q(ft.error)},ct.onabort=function(){Q(ft.error?ft.error:ft.transaction.error)}}catch(mt){Q(mt)}})}).catch(Q)});return E(Y,B),Y},clear:function(L){var B=this,F=new p(function(Y,Z){B.ready().then(function(){_t(B._dbInfo,"readwrite",function(Q,st){if(Q)return Z(Q);try{var ct=st.objectStore(B._dbInfo.storeName).clear();st.oncomplete=function(){Y()},st.onabort=st.onerror=function(){Z(ct.error?ct.error:ct.transaction.error)}}catch(ft){Z(ft)}})}).catch(Z)});return E(F,L),F},length:function(L){var B=this,F=new p(function(Y,Z){B.ready().then(function(){_t(B._dbInfo,"readonly",function(Q,st){if(Q)return Z(Q);try{var ct=st.objectStore(B._dbInfo.storeName).count();ct.onsuccess=function(){Y(ct.result)},ct.onerror=function(){Z(ct.error)}}catch(ft){Z(ft)}})}).catch(Z)});return E(F,L),F},key:function(L,B){var F=this,Y=new p(function(Z,Q){L<0?Z(null):F.ready().then(function(){_t(F._dbInfo,"readonly",function(st,ct){if(st)return Q(st);try{var ft=ct.objectStore(F._dbInfo.storeName),mt=!1,Rt=ft.openCursor();Rt.onsuccess=function(){var Nt=Rt.result;Nt?0===L||mt?Z(Nt.key):(mt=!0,Nt.advance(L)):Z(null)},Rt.onerror=function(){Q(Rt.error)}}catch(Nt){Q(Nt)}})}).catch(Q)});return E(Y,B),Y},keys:function(L){var B=this,F=new p(function(Y,Z){B.ready().then(function(){_t(B._dbInfo,"readonly",function(Q,st){if(Q)return Z(Q);try{var ct=st.objectStore(B._dbInfo.storeName).openCursor(),ft=[];ct.onsuccess=function(){var mt=ct.result;mt?(ft.push(mt.key),mt.continue()):Y(ft)},ct.onerror=function(){Z(ct.error)}}catch(mt){Z(mt)}})}).catch(Z)});return E(F,L),F},dropInstance:function(L,B){B=S.apply(this,arguments);var Y,F=this.config();((L="function"!=typeof L&&L||{}).name||(L.name=L.name||F.name,L.storeName=L.storeName||F.storeName),L.name)?Y=(L.name===F.name&&this._dbInfo.db?p.resolve(this._dbInfo.db):W(L).then(function(ct){var ft=a[L.name],mt=ft.forages;ft.db=ct;for(var Rt=0;Rt<mt.length;Rt++)mt[Rt]._dbInfo.db=ct;return ct})).then(L.storeName?function(ct){if(ct.objectStoreNames.contains(L.storeName)){var ft=ct.version+1;A(L);var mt=a[L.name],Rt=mt.forages;ct.close();for(var Nt=0;Nt<Rt.length;Nt++){var Pt=Rt[Nt];Pt._dbInfo.db=null,Pt._dbInfo.version=ft}return new p(function(Gt,Bt){var ie=o.open(L.name,ft);ie.onerror=function(ge){ie.result.close(),Bt(ge)},ie.onupgradeneeded=function(){ie.result.deleteObjectStore(L.storeName)},ie.onsuccess=function(){var ge=ie.result;ge.close(),Gt(ge)}}).then(function(Gt){mt.db=Gt;for(var Bt=0;Bt<Rt.length;Bt++){var ie=Rt[Bt];ie._dbInfo.db=Gt,e(ie._dbInfo)}}).catch(function(Gt){throw(T(L,Gt)||p.resolve()).catch(function(){}),Gt})}}:function(ct){A(L);var ft=a[L.name],mt=ft.forages;ct.close();for(var Rt=0;Rt<mt.length;Rt++)mt[Rt]._dbInfo.db=null;return new p(function(Nt,Pt){var Gt=o.deleteDatabase(L.name);Gt.onerror=Gt.onblocked=function(Bt){var ie=Gt.result;ie&&ie.close(),Pt(Bt)},Gt.onsuccess=function(){var Bt=Gt.result;Bt&&Bt.close(),Nt(Bt)}}).then(function(Nt){ft.db=Nt;for(var Pt=0;Pt<mt.length;Pt++)e(mt[Pt]._dbInfo)}).catch(function(Nt){throw(T(L,Nt)||p.resolve()).catch(function(){}),Nt})}):Y=p.reject("Invalid arguments");return E(Y,B),Y}},jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=/^~~local_forage_type~([^~]+)~/,M=Object.prototype.toString;function H(L){var B,F,Y,Z,Q,st=.75*L.length,ct=L.length,ft=0;"="===L[L.length-1]&&(st--,"="===L[L.length-2]&&st--);var mt=new ArrayBuffer(st),Rt=new Uint8Array(mt);for(B=0;B<ct;B+=4)F=jt.indexOf(L[B]),Y=jt.indexOf(L[B+1]),Z=jt.indexOf(L[B+2]),Q=jt.indexOf(L[B+3]),Rt[ft++]=F<<2|Y>>4,Rt[ft++]=(15&Y)<<4|Z>>2,Rt[ft++]=(3&Z)<<6|63&Q;return mt}function nt(L){var B,F=new Uint8Array(L),Y="";for(B=0;B<F.length;B+=3)Y+=jt[F[B]>>2],Y+=jt[(3&F[B])<<4|F[B+1]>>4],Y+=jt[(15&F[B+1])<<2|F[B+2]>>6],Y+=jt[63&F[B+2]];return F.length%3==2?Y=Y.substring(0,Y.length-1)+"=":F.length%3==1&&(Y=Y.substring(0,Y.length-2)+"=="),Y}var kt={serialize:function(L,B){var F="";if(L&&(F=M.call(L)),L&&("[object ArrayBuffer]"===F||L.buffer&&"[object ArrayBuffer]"===M.call(L.buffer))){var Y,Z="__lfsc__:";L instanceof ArrayBuffer?(Y=L,Z+="arbf"):(Y=L.buffer,"[object Int8Array]"===F?Z+="si08":"[object Uint8Array]"===F?Z+="ui08":"[object Uint8ClampedArray]"===F?Z+="uic8":"[object Int16Array]"===F?Z+="si16":"[object Uint16Array]"===F?Z+="ur16":"[object Int32Array]"===F?Z+="si32":"[object Uint32Array]"===F?Z+="ui32":"[object Float32Array]"===F?Z+="fl32":"[object Float64Array]"===F?Z+="fl64":B(new Error("Failed to get type for BinaryArray"))),B(Z+nt(Y))}else if("[object Blob]"===F){var Q=new FileReader;Q.onload=function(){var st="~~local_forage_type~"+L.type+"~"+nt(this.result);B("__lfsc__:blob"+st)},Q.readAsArrayBuffer(L)}else try{B(JSON.stringify(L))}catch(st){console.error("Couldn't convert value into a JSON string: ",L),B(null,st)}},deserialize:function(L){if("__lfsc__:"!==L.substring(0,9))return JSON.parse(L);var B,F=L.substring(13),Y=L.substring(9,13);if("blob"===Y&&c.test(F)){var Z=F.match(c);B=Z[1],F=F.substring(Z[0].length)}var Q=H(F);switch(Y){case"arbf":return Q;case"blob":return l([Q],{type:B});case"si08":return new Int8Array(Q);case"ui08":return new Uint8Array(Q);case"uic8":return new Uint8ClampedArray(Q);case"si16":return new Int16Array(Q);case"ur16":return new Uint16Array(Q);case"si32":return new Int32Array(Q);case"ui32":return new Uint32Array(Q);case"fl32":return new Float32Array(Q);case"fl64":return new Float64Array(Q);default:throw new Error("Unkown type: "+Y)}},stringToBuffer:H,bufferToString:nt};function Tt(L,B,F,Y){L.executeSql("CREATE TABLE IF NOT EXISTS "+B.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],F,Y)}function Lt(L,B,F,Y,Z,Q){L.executeSql(F,Y,Z,function(st,ct){ct.code===ct.SYNTAX_ERR?st.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[B.storeName],function(ft,mt){mt.rows.length?Q(ft,ct):Tt(ft,B,function(){ft.executeSql(F,Y,Z,Q)},Q)},Q):Q(st,ct)},Q)}function Vt(L,B,F,Y){var Z=this;L=v(L);var Q=new p(function(st,ct){Z.ready().then(function(){void 0===B&&(B=null);var ft=B,mt=Z._dbInfo;mt.serializer.serialize(B,function(Rt,Nt){Nt?ct(Nt):mt.db.transaction(function(Pt){Lt(Pt,mt,"INSERT OR REPLACE INTO "+mt.storeName+" (key, value) VALUES (?, ?)",[L,Rt],function(){st(ft)},function(Gt,Bt){ct(Bt)})},function(Pt){if(Pt.code===Pt.QUOTA_ERR){if(Y>0)return void st(Vt.apply(Z,[L,ft,F,Y-1]));ct(Pt)}})})}).catch(ct)});return E(Q,F),Q}var Ot={_driver:"webSQLStorage",_initStorage:function(L){var B=this,F={db:null};if(L)for(var Y in L)F[Y]="string"!=typeof L[Y]?L[Y].toString():L[Y];var Z=new p(function(Q,st){try{F.db=openDatabase(F.name,String(F.version),F.description,F.size)}catch(ct){return st(ct)}F.db.transaction(function(ct){Tt(ct,F,function(){B._dbInfo=F,Q()},function(ft,mt){st(mt)})},st)});return F.serializer=kt,Z},_support:"function"==typeof openDatabase,iterate:function(L,B){var F=this,Y=new p(function(Z,Q){F.ready().then(function(){var st=F._dbInfo;st.db.transaction(function(ct){Lt(ct,st,"SELECT * FROM "+st.storeName,[],function(ft,mt){for(var Rt=mt.rows,Nt=Rt.length,Pt=0;Pt<Nt;Pt++){var Gt=Rt.item(Pt),Bt=Gt.value;if(Bt&&(Bt=st.serializer.deserialize(Bt)),void 0!==(Bt=L(Bt,Gt.key,Pt+1)))return void Z(Bt)}Z()},function(ft,mt){Q(mt)})})}).catch(Q)});return E(Y,B),Y},getItem:function(L,B){var F=this;L=v(L);var Y=new p(function(Z,Q){F.ready().then(function(){var st=F._dbInfo;st.db.transaction(function(ct){Lt(ct,st,"SELECT * FROM "+st.storeName+" WHERE key = ? LIMIT 1",[L],function(ft,mt){var Rt=mt.rows.length?mt.rows.item(0).value:null;Rt&&(Rt=st.serializer.deserialize(Rt)),Z(Rt)},function(ft,mt){Q(mt)})})}).catch(Q)});return E(Y,B),Y},setItem:function(L,B,F){return Vt.apply(this,[L,B,F,1])},removeItem:function(L,B){var F=this;L=v(L);var Y=new p(function(Z,Q){F.ready().then(function(){var st=F._dbInfo;st.db.transaction(function(ct){Lt(ct,st,"DELETE FROM "+st.storeName+" WHERE key = ?",[L],function(){Z()},function(ft,mt){Q(mt)})})}).catch(Q)});return E(Y,B),Y},clear:function(L){var B=this,F=new p(function(Y,Z){B.ready().then(function(){var Q=B._dbInfo;Q.db.transaction(function(st){Lt(st,Q,"DELETE FROM "+Q.storeName,[],function(){Y()},function(ct,ft){Z(ft)})})}).catch(Z)});return E(F,L),F},length:function(L){var B=this,F=new p(function(Y,Z){B.ready().then(function(){var Q=B._dbInfo;Q.db.transaction(function(st){Lt(st,Q,"SELECT COUNT(key) as c FROM "+Q.storeName,[],function(ct,ft){var mt=ft.rows.item(0).c;Y(mt)},function(ct,ft){Z(ft)})})}).catch(Z)});return E(F,L),F},key:function(L,B){var F=this,Y=new p(function(Z,Q){F.ready().then(function(){var st=F._dbInfo;st.db.transaction(function(ct){Lt(ct,st,"SELECT key FROM "+st.storeName+" WHERE id = ? LIMIT 1",[L+1],function(ft,mt){var Rt=mt.rows.length?mt.rows.item(0).key:null;Z(Rt)},function(ft,mt){Q(mt)})})}).catch(Q)});return E(Y,B),Y},keys:function(L){var B=this,F=new p(function(Y,Z){B.ready().then(function(){var Q=B._dbInfo;Q.db.transaction(function(st){Lt(st,Q,"SELECT key FROM "+Q.storeName,[],function(ct,ft){for(var mt=[],Rt=0;Rt<ft.rows.length;Rt++)mt.push(ft.rows.item(Rt).key);Y(mt)},function(ct,ft){Z(ft)})})}).catch(Z)});return E(F,L),F},dropInstance:function(L,B){B=S.apply(this,arguments);var F=this.config();(L="function"!=typeof L&&L||{}).name||(L.name=L.name||F.name,L.storeName=L.storeName||F.storeName);var Y,Z=this;return E(Y=L.name?new p(function(Q){var st;st=L.name===F.name?Z._dbInfo.db:openDatabase(L.name,"","",0),Q(L.storeName?{db:st,storeNames:[L.storeName]}:function Ht(L){return new p(function(B,F){L.transaction(function(Y){Y.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Z,Q){for(var st=[],ct=0;ct<Q.rows.length;ct++)st.push(Q.rows.item(ct).name);B({db:L,storeNames:st})},function(Z,Q){F(Q)})},function(Y){F(Y)})})}(st))}).then(function(Q){return new p(function(st,ct){Q.db.transaction(function(ft){function mt(Gt){return new p(function(Bt,ie){ft.executeSql("DROP TABLE IF EXISTS "+Gt,[],function(){Bt()},function(ge,ue){ie(ue)})})}for(var Rt=[],Nt=0,Pt=Q.storeNames.length;Nt<Pt;Nt++)Rt.push(mt(Q.storeNames[Nt]));p.all(Rt).then(function(){st()}).catch(function(Gt){ct(Gt)})},function(ft){ct(ft)})})}):p.reject("Invalid arguments"),B),Y}};function At(L,B){var F=L.name+"/";return L.storeName!==B.storeName&&(F+=L.storeName+"/"),F}var s={_driver:"localStorageWrapper",_initStorage:function(L){var B={};if(L)for(var F in L)B[F]=L[F];return B.keyPrefix=At(L,this._defaultConfig),function b(){return!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch{return!0}}()||localStorage.length>0}()?(this._dbInfo=B,B.serializer=kt,p.resolve()):p.reject()},_support:function(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}(),iterate:function(L,B){var F=this,Y=F.ready().then(function(){for(var Z=F._dbInfo,Q=Z.keyPrefix,st=Q.length,ct=localStorage.length,ft=1,mt=0;mt<ct;mt++){var Rt=localStorage.key(mt);if(0===Rt.indexOf(Q)){var Nt=localStorage.getItem(Rt);if(Nt&&(Nt=Z.serializer.deserialize(Nt)),void 0!==(Nt=L(Nt,Rt.substring(st),ft++)))return Nt}}});return E(Y,B),Y},getItem:function(L,B){var F=this;L=v(L);var Y=F.ready().then(function(){var Z=F._dbInfo,Q=localStorage.getItem(Z.keyPrefix+L);return Q&&(Q=Z.serializer.deserialize(Q)),Q});return E(Y,B),Y},setItem:function(L,B,F){var Y=this;L=v(L);var Z=Y.ready().then(function(){void 0===B&&(B=null);var Q=B;return new p(function(st,ct){var ft=Y._dbInfo;ft.serializer.serialize(B,function(mt,Rt){if(Rt)ct(Rt);else try{localStorage.setItem(ft.keyPrefix+L,mt),st(Q)}catch(Nt){"QuotaExceededError"!==Nt.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==Nt.name||ct(Nt),ct(Nt)}})})});return E(Z,F),Z},removeItem:function(L,B){var F=this;L=v(L);var Y=F.ready().then(function(){localStorage.removeItem(F._dbInfo.keyPrefix+L)});return E(Y,B),Y},clear:function(L){var B=this,F=B.ready().then(function(){for(var Y=B._dbInfo.keyPrefix,Z=localStorage.length-1;Z>=0;Z--){var Q=localStorage.key(Z);0===Q.indexOf(Y)&&localStorage.removeItem(Q)}});return E(F,L),F},length:function(L){var B=this.keys().then(function(F){return F.length});return E(B,L),B},key:function(L,B){var F=this,Y=F.ready().then(function(){var Z,Q=F._dbInfo;try{Z=localStorage.key(L)}catch{Z=null}return Z&&(Z=Z.substring(Q.keyPrefix.length)),Z});return E(Y,B),Y},keys:function(L){var B=this,F=B.ready().then(function(){for(var Y=B._dbInfo,Z=localStorage.length,Q=[],st=0;st<Z;st++){var ct=localStorage.key(st);0===ct.indexOf(Y.keyPrefix)&&Q.push(ct.substring(Y.keyPrefix.length))}return Q});return E(F,L),F},dropInstance:function(L,B){if(B=S.apply(this,arguments),!(L="function"!=typeof L&&L||{}).name){var F=this.config();L.name=L.name||F.name,L.storeName=L.storeName||F.storeName}var Y,Z=this;return E(Y=L.name?new p(function(Q){Q(L.storeName?At(L,Z._defaultConfig):L.name+"/")}).then(function(Q){for(var st=localStorage.length-1;st>=0;st--){var ct=localStorage.key(st);0===ct.indexOf(Q)&&localStorage.removeItem(ct)}}):p.reject("Invalid arguments"),B),Y}},w=function(L,B){for(var F,Y,Z=L.length,Q=0;Q<Z;){if((F=L[Q])===(Y=B)||"number"==typeof F&&"number"==typeof Y&&isNaN(F)&&isNaN(Y))return!0;Q++}return!1},N=Array.isArray||function(L){return"[object Array]"===Object.prototype.toString.call(L)},z={},$={},it={INDEXEDDB:qt,WEBSQL:Ot,LOCALSTORAGE:s},vt=[it.INDEXEDDB._driver,it.WEBSQL._driver,it.LOCALSTORAGE._driver],Et=["dropInstance"],Mt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Et),$t={description:"",driver:vt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ct(L,B){L[B]=function(){var F=arguments;return L.ready().then(function(){return L[B].apply(L,F)})}}function zt(){for(var L=1;L<arguments.length;L++){var B=arguments[L];if(B)for(var F in B)B.hasOwnProperty(F)&&(arguments[0][F]=N(B[F])?B[F].slice():B[F])}return arguments[0]}var se=new(function(){function L(B){for(var F in function(Q,st){if(!(Q instanceof st))throw new TypeError("Cannot call a class as a function")}(this,L),it)if(it.hasOwnProperty(F)){var Y=it[F],Z=Y._driver;this[F]=Z,z[Z]||this.defineDriver(Y)}this._defaultConfig=zt({},$t),this._config=zt({},this._defaultConfig,B),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return L.prototype.config=function(B){if("object"===(void 0===B?"undefined":i(B))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var F in B){if("storeName"===F&&(B[F]=B[F].replace(/\W/g,"_")),"version"===F&&"number"!=typeof B[F])return new Error("Database version must be a number.");this._config[F]=B[F]}return!("driver"in B)||!B.driver||this.setDriver(this._config.driver)}return"string"==typeof B?this._config[B]:this._config},L.prototype.defineDriver=function(B,F,Y){var Z=new p(function(Q,st){try{var ct=B._driver,ft=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!B._driver)return void st(ft);for(var mt=Mt.concat("_initStorage"),Rt=0,Nt=mt.length;Rt<Nt;Rt++){var Pt=mt[Rt];if((!w(Et,Pt)||B[Pt])&&"function"!=typeof B[Pt])return void st(ft)}!function(){for(var Bt=function(me){return function(){var ke=new Error("Method "+me+" is not implemented by the current driver"),ze=p.reject(ke);return E(ze,arguments[arguments.length-1]),ze}},ie=0,ge=Et.length;ie<ge;ie++){var ue=Et[ie];B[ue]||(B[ue]=Bt(ue))}}();var Gt=function(Bt){z[ct]&&console.info("Redefining LocalForage driver: "+ct),z[ct]=B,$[ct]=Bt,Q()};"_support"in B?B._support&&"function"==typeof B._support?B._support().then(Gt,st):Gt(!!B._support):Gt(!0)}catch(Bt){st(Bt)}});return g(Z,F,Y),Z},L.prototype.driver=function(){return this._driver||null},L.prototype.getDriver=function(B,F,Y){var Z=z[B]?p.resolve(z[B]):p.reject(new Error("Driver not found."));return g(Z,F,Y),Z},L.prototype.getSerializer=function(B){var F=p.resolve(kt);return g(F,B),F},L.prototype.ready=function(B){var F=this,Y=F._driverSet.then(function(){return null===F._ready&&(F._ready=F._initDriver()),F._ready});return g(Y,B,B),Y},L.prototype.setDriver=function(B,F,Y){var Z=this;N(B)||(B=[B]);var Q=this._getSupportedDrivers(B);function st(){Z._config.driver=Z.driver()}function ct(mt){return Z._extend(mt),st(),Z._ready=Z._initStorage(Z._config),Z._ready}var ft=null!==this._driverSet?this._driverSet.catch(function(){return p.resolve()}):p.resolve();return this._driverSet=ft.then(function(){var mt=Q[0];return Z._dbInfo=null,Z._ready=null,Z.getDriver(mt).then(function(Rt){var Nt;Z._driver=Rt._driver,st(),Z._wrapLibraryMethodsWithReady(),Z._initDriver=(Nt=Q,function(){var Pt=0;return function Gt(){for(;Pt<Nt.length;){var Bt=Nt[Pt];return Pt++,Z._dbInfo=null,Z._ready=null,Z.getDriver(Bt).then(ct).catch(Gt)}st();var ie=new Error("No available storage method found.");return Z._driverSet=p.reject(ie),Z._driverSet}()})})}).catch(function(){st();var mt=new Error("No available storage method found.");return Z._driverSet=p.reject(mt),Z._driverSet}),g(this._driverSet,F,Y),this._driverSet},L.prototype.supports=function(B){return!!$[B]},L.prototype._extend=function(B){zt(this,B)},L.prototype._getSupportedDrivers=function(B){for(var F=[],Y=0,Z=B.length;Y<Z;Y++){var Q=B[Y];this.supports(Q)&&F.push(Q)}return F},L.prototype._wrapLibraryMethodsWithReady=function(){for(var B=0,F=Mt.length;B<F;B++)Ct(this,Mt[B])},L.prototype.createInstance=function(B){return new L(B)},L}());m.exports=se},{3:3}]},{},[4])(4)}).call(this,r(36))},function(P,q,r){"use strict";r(29),r(18);var x=r(3),C=r.n(x),m=r(0),d=r(7),i=r(6),o=r(2),l=r(8),p=r(14);r(138),r(25);var E=function(b,s,w,N,z){var $,it=typeof window<"u"&&window.URL,vt=it?"blob":"arraybuffer",Et=new m.defer,Mt=new XMLHttpRequest,$t=XMLHttpRequest.prototype;for($ in"overrideMimeType"in $t||Object.defineProperty($t,"overrideMimeType",{value:function(){}}),w&&(Mt.withCredentials=!0),Mt.onreadystatechange=function(){if(this.readyState===XMLHttpRequest.DONE){var Ct=!1;if(""!==this.responseType&&"document"!==this.responseType||(Ct=this.responseXML),200!==this.status&&0!==this.status&&!Ct)return 401===this.status&&(alert(decodeURIComponent(escape(window.atob("U3Ugc2VzacOzbiBoYSB2ZW5jaWRv")))),location.reload(!0)),Et.reject({status:this.status,message:this.response,stack:(new Error).stack}),Et.promise;{var zt;if(!this.response&&!Ct)return Et.reject({status:this.status,message:"Empty Response",stack:(new Error).stack}),Et.promise;if(403===this.status)return Et.reject({status:this.status,response:this.response,message:"Forbidden",stack:(new Error).stack}),Et.promise;const se=function(L){for(var B=window.atob(L),F=B.length,Y=new Uint8Array(F),Z=0;Z<F;Z++)Y[Z]=B.charCodeAt(Z);return Y.buffer}(this.response);window.crypto.subtle.deriveBits({name:"PBKDF2",hash:"SHA-256",salt:se.slice(0,32),iterations:5e4},z,256).then(L=>{crypto.subtle.importKey("raw",L.slice(0,16),{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]).then(B=>{crypto.subtle.decrypt({name:"AES-CBC",length:256,iv:L.slice(16,32)},B,se.slice(32,se.byteLength)).then(F=>{const Y=(new TextDecoder).decode(new Uint8Array(F));zt=Ct?Y:Object(m.isXml)(s)?Object(m.parse)(Y,"text/xml"):"xhtml"==s?Object(m.parse)(Y,"application/xhtml+xml"):"html"==s||"htm"==s?Object(m.parse)(Y,"text/html"):"json"==s?JSON.parse(Y):"blob"==s?it?Y:new Blob([Y]):Y,Et.resolve(zt)}).catch(F=>(Et.reject({status:-300,response:this.response,message:"ERR DC",stack:(new Error).stack}),Et.promise))}).catch(B=>(Et.reject({status:-300,response:this.response,message:"ERR DC",stack:(new Error).stack}),Et.promise))}).catch(L=>(Et.reject({status:-300,response:this.response,message:"ERR DC",stack:(new Error).stack}),Et.promise))}}},Mt.onerror=function(Ct){Et.reject(Ct)},Mt.open("GET",b,!0),N)Mt.setRequestHeader($,N[$]);return"json"==s&&Mt.setRequestHeader("Accept","application/json"),s||(s=new i.a(b).extension),"blob"==s&&(Mt.responseType=vt),Object(m.isXml)(s)&&Mt.overrideMimeType("text/xml"),"binary"==s&&(Mt.responseType="arraybuffer"),Mt.send(),Et.promise},g=r(49),f=r(26),a=r(1);class _{constructor(s,w,N){this.spine=s,this.request=w,this.pause=N||100,this.q=new f.a(this),this.epubcfi=new o.a,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(s){return s&&(this.break=s),this.q.pause(),this.spine.each(function(w){w.linear&&this.q.enqueue(this.process.bind(this),w)}.bind(this)),this.q.run().then(function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}.bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(s){return s.load(this.request).then(function(w){var N=new m.defer,z=this.parse(w,s.cfiBase);return this._locations=this._locations.concat(z),s.unload(),this.processingTimeout=setTimeout(()=>N.resolve(z),this.pause),N.promise}.bind(this))}parse(s,w,N){var z,$,it=[],vt=s.ownerDocument,Et=Object(m.qs)(vt,"body"),Mt=0,$t=N||this.break;if(Object(m.sprint)(Et,function(Ct){var zt,se=Ct.length,L=0;if(0===Ct.textContent.trim().length)return!1;for(0==Mt&&((z=this.createRange()).startContainer=Ct,z.startOffset=0),(zt=$t-Mt)>se&&(Mt+=se,L=se);L<se;)if(zt=$t-Mt,0===Mt&&(L+=1,(z=this.createRange()).startContainer=Ct,z.startOffset=L),L+zt>=se)Mt+=se-L,L=se;else{L+=zt,z.endContainer=Ct,z.endOffset=L;let B=new o.a(z,w).toString();it.push(B),Mt=0}$=Ct}.bind(this)),z&&z.startContainer&&$){z.endContainer=$,z.endOffset=$.length;let Ct=new o.a(z,w).toString();it.push(Ct),Mt=0}return it}generateFromWords(s,w,N){var z=s?new o.a(s):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each(function($){$.linear&&(z?$.index>=z.spinePos&&this.q.enqueue(this.processWords.bind(this),$,w,z,N):this.q.enqueue(this.processWords.bind(this),$,w,z,N))}.bind(this)),this.q.run().then(function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}.bind(this))}processWords(s,w,N,z){return z&&this._locationsWords.length>=z?Promise.resolve():s.load(this.request).then(function($){var it=new m.defer,vt=this.parseWords($,s,w,N);return this._locationsWords=this._locationsWords.concat(vt.length>=z?vt.slice(0,z-this._locationsWords.length):vt),s.unload(),this.processingTimeout=setTimeout(()=>it.resolve(vt),this.pause),it.promise}.bind(this))}countWords(s){return(s=(s=(s=s.replace(/(^\s*)|(\s*$)/gi,"")).replace(/[ ]{2,}/gi," ")).replace(/\n /,"\n")).split(" ").length}parseWords(s,w,N,z){var $,it=w.cfiBase,vt=[],Et=s.ownerDocument,Mt=Object(m.qs)(Et,"body"),$t=N,Ct=!z||z.spinePos!==w.index;return z&&w.index===z.spinePos&&($=z.findNode(z.range?z.path.steps.concat(z.start.steps):z.path.steps,s.ownerDocument)),Object(m.sprint)(Mt,function(zt){if(!Ct){if(zt!==$)return!1;Ct=!0}if(zt.textContent.length<10&&0===zt.textContent.trim().length)return!1;var se,L=this.countWords(zt.textContent),B=0;if(0===L)return!1;for((se=$t-this._wordCounter)>L&&(this._wordCounter+=L,B=L);B<L;)if(B+(se=$t-this._wordCounter)>=L)this._wordCounter+=L-B,B=L;else{B+=se;let F=new o.a(zt,it);vt.push({cfi:F.toString(),wordCount:this._wordCounter}),this._wordCounter=0}}.bind(this)),vt}locationFromCfi(s){let w;return o.a.prototype.isCfiString(s)&&(s=new o.a(s)),0===this._locations.length?-1:(w=Object(m.locationOf)(s,this._locations,this.epubcfi.compare),w>this.total?this.total:w)}percentageFromCfi(s){if(0===this._locations.length)return null;var w=this.locationFromCfi(s);return this.percentageFromLocation(w)}percentageFromLocation(s){return s&&this.total?s/this.total:0}cfiFromLocation(s){var w=-1;return"number"!=typeof s&&(s=parseInt(s)),s>=0&&s<this._locations.length&&(w=this._locations[s]),w}cfiFromPercentage(s){let w;if(s>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),s>=1){let N=new o.a(this._locations[this.total]);return N.collapse(),N.toString()}return w=Math.ceil(this.total*s),this.cfiFromLocation(w)}load(s){return this._locations="string"==typeof s?JSON.parse(s):s,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(s){var w;if("string"==typeof s)this._currentCfi=s;else{if("number"!=typeof s)return;this._current=s}0!==this._locations.length&&("string"==typeof s?(w=this.locationFromCfi(s),this._current=w):w=s,this.emit(a.c.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(w)}))}get currentLocation(){return this._current}set currentLocation(s){this.setCurrent(s)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}C()(_.prototype);var j=_,A=r(11),e=r.n(A),R=class{constructor(b){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},b&&this.parse(b)}parse(b){var s,w,N;if(!b)throw new Error("Package File Not Found");if(!(s=Object(m.qs)(b,"metadata")))throw new Error("No Metadata Found");if(!(w=Object(m.qs)(b,"manifest")))throw new Error("No Manifest Found");if(!(N=Object(m.qs)(b,"spine")))throw new Error("No Spine Found");return this.manifest=this.parseManifest(w),this.navPath=this.findNavPath(w),this.ncxPath=this.findNcxPath(w,N),this.coverPath=this.findCoverPath(b),this.spineNodeIndex=Object(m.indexOfElementNode)(N),this.spine=this.parseSpine(N,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(b),this.metadata=this.parseMetadata(s),this.metadata.direction=N.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(b){var s={};return s.title=this.getElementText(b,"title"),s.creator=this.getElementText(b,"creator"),s.description=this.getElementText(b,"description"),s.pubdate=this.getElementText(b,"date"),s.publisher=this.getElementText(b,"publisher"),s.identifier=this.getElementText(b,"identifier"),s.language=this.getElementText(b,"language"),s.rights=this.getElementText(b,"rights"),s.modified_date=this.getPropertyText(b,"dcterms:modified"),s.layout=this.getPropertyText(b,"rendition:layout"),s.orientation=this.getPropertyText(b,"rendition:orientation"),s.flow=this.getPropertyText(b,"rendition:flow"),s.viewport=this.getPropertyText(b,"rendition:viewport"),s.media_active_class=this.getPropertyText(b,"media:active-class"),s.spread=this.getPropertyText(b,"rendition:spread"),s}parseManifest(b){var s={},w=Object(m.qsa)(b,"item");return Array.prototype.slice.call(w).forEach(function(N){var z=N.getAttribute("id"),$=N.getAttribute("href")||"",it=N.getAttribute("media-type")||"",vt=N.getAttribute("media-overlay")||"",Et=N.getAttribute("properties")||"";s[z]={href:$,type:it,overlay:vt,properties:Et.length?Et.split(" "):[]}}),s}parseSpine(b,s){var w=[],N=Object(m.qsa)(b,"itemref");return Array.prototype.slice.call(N).forEach(function(z,$){var it=z.getAttribute("idref"),vt=z.getAttribute("properties")||"",Et=vt.length?vt.split(" "):[],Mt={idref:it,linear:z.getAttribute("linear")||"yes",properties:Et,index:$};w.push(Mt)}),w}findUniqueIdentifier(b){var s=b.documentElement.getAttribute("unique-identifier");if(!s)return"";var w=b.getElementById(s);return w&&"identifier"===w.localName&&"http://purl.org/dc/elements/1.1/"===w.namespaceURI&&w.childNodes.length>0?w.childNodes[0].nodeValue.trim():""}findNavPath(b){var s=Object(m.qsp)(b,"item",{properties:"nav"});return!!s&&s.getAttribute("href")}findNcxPath(b,s){var w,N=Object(m.qsp)(b,"item",{"media-type":"application/x-dtbncx+xml"});return N||(w=s.getAttribute("toc"))&&(N=b.querySelector("#"+w)),!!N&&N.getAttribute("href")}findCoverPath(b){if("2.0"===Object(m.qs)(b,"package").getAttribute("version")){var s=Object(m.qsp)(b,"meta",{name:"cover"});if(s){var w=s.getAttribute("content"),N=b.getElementById(w);return N?N.getAttribute("href"):""}return!1}var z=Object(m.qsp)(b,"item",{properties:"cover-image"});return z?z.getAttribute("href"):""}getElementText(b,s){var w,N=b.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",s);return N&&0!==N.length&&(w=N[0]).childNodes.length?w.childNodes[0].nodeValue:""}getPropertyText(b,s){var w=Object(m.qsp)(b,"meta",{property:s});return w&&w.childNodes.length?w.childNodes[0].nodeValue:""}load(b){return this.metadata=b.metadata,this.spine=(b.readingOrder||b.spine).map((w,N)=>(w.index=N,w.linear=w.linear||"yes",w)),b.resources.forEach((w,N)=>{this.manifest[N]=w,w.rel&&"cover"===w.rel[0]&&(this.coverPath=w.href)}),this.spineNodeIndex=0,this.toc=b.toc.map((w,N)=>(w.label=w.title,w)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}},W=class{constructor(b){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,b&&this.parse(b)}parse(b){let s,w,N=b.nodeType;N&&(s=Object(m.qs)(b,"html"),w=Object(m.qs)(b,"ncx")),N?s?(this.toc=this.parseNav(b),this.landmarks=this.parseLandmarks(b)):w&&(this.toc=this.parseNcx(b)):this.toc=this.load(b),this.length=0,this.unpack(this.toc)}unpack(b){for(var s,w=0;w<b.length;w++)(s=b[w]).href&&(this.tocByHref[s.href]=w),s.id&&(this.tocById[s.id]=w),this.length++,s.subitems.length&&this.unpack(s.subitems)}get(b){var s;return b?(0===b.indexOf("#")?s=this.tocById[b.substring(1)]:b in this.tocByHref&&(s=this.tocByHref[b]),this.getByIndex(b,s,this.toc)):this.toc}getByIndex(b,s,w){if(0===w.length)return;const N=w[s];if(!N||b!==N.id&&b!==N.href){let z;for(let $=0;$<w.length&&(z=this.getByIndex(b,s,w[$].subitems),!z);++$);return z}return N}landmark(b){return b?this.landmarks[this.landmarksByType[b]]:this.landmarks}parseNav(b){var s,w,N=Object(m.querySelectorByType)(b,"nav","toc"),z=N?Object(m.qsa)(N,"li"):[],$=z.length,it={},vt=[];if(!z||0===$)return vt;for(s=0;s<$;++s)(w=this.navItem(z[s]))&&(it[w.id]=w,w.parent?it[w.parent].subitems.push(w):vt.push(w));return vt}navItem(b){let s=b.getAttribute("id")||void 0,w=Object(m.filterChildren)(b,"a",!0);if(!w)return;let N=w.getAttribute("href")||"";s||(s=N);let z,$=w.textContent||"",it=Object(m.getParentByTagName)(b,"li");if(it&&(z=it.getAttribute("id"),!z)){const vt=Object(m.filterChildren)(it,"a",!0);z=vt&&vt.getAttribute("href")}for(;!z&&it;)if(it=Object(m.getParentByTagName)(it,"li"),it&&(z=it.getAttribute("id"),!z)){const vt=Object(m.filterChildren)(it,"a",!0);z=vt&&vt.getAttribute("href")}return{id:s,href:N,label:$,subitems:[],parent:z}}parseLandmarks(b){var s,w,N=Object(m.querySelectorByType)(b,"nav","landmarks"),z=N?Object(m.qsa)(N,"li"):[],$=z.length,it=[];if(!z||0===$)return it;for(s=0;s<$;++s)(w=this.landmarkItem(z[s]))&&(it.push(w),this.landmarksByType[w.type]=s);return it}landmarkItem(b){let s=Object(m.filterChildren)(b,"a",!0);if(!s)return;let w=s.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0;return{href:s.getAttribute("href")||"",label:s.textContent||"",type:w}}parseNcx(b){var s,w,N=Object(m.qsa)(b,"navPoint"),z=N.length,$={},it=[];if(!N||0===z)return it;for(s=0;s<z;++s)$[(w=this.ncxItem(N[s])).id]=w,w.parent?$[w.parent].subitems.push(w):it.push(w);return it}ncxItem(b){var s,w=b.getAttribute("id")||!1,N=Object(m.qs)(b,"content").getAttribute("src"),z=Object(m.qs)(b,"navLabel"),$=z.textContent?z.textContent:"",it=b.parentNode;return!it||"navPoint"!==it.nodeName&&"navPoint"!==it.nodeName.split(":").slice(-1)[0]||(s=it.getAttribute("id")),{id:w,href:N,label:$,subitems:[],parent:s}}load(b){return b.map(s=>(s.label=s.title,s.subitems=s.children?this.load(s.children):[],s))}forEach(b){return this.toc.forEach(b)}},K={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},at=function(){var b,s,w,N,z={};for(b in K)if(K.hasOwnProperty(b))for(s in K[b])if(K[b].hasOwnProperty(s))if("string"==typeof(w=K[b][s]))z[w]=b+"/"+s;else for(N=0;N<w.length;N++)z[w[N]]=b+"/"+s;return z}(),rt_lookup=function(b){return b&&at[b.split(".").pop().toLowerCase()]||"text/plain"},St=class{constructor(b){this.pages=[],this.locations=[],this.epubcfi=new o.a,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,b&&(this.pageList=this.parse(b)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(b){var s=Object(m.qs)(b,"html"),w=Object(m.qs)(b,"ncx");return s?this.parseNav(b):w?this.parseNcx(b):void 0}parseNav(b){var s,w,N=Object(m.querySelectorByType)(b,"nav","page-list"),z=N?Object(m.qsa)(N,"li"):[],$=z.length,it=[];if(!z||0===$)return it;for(s=0;s<$;++s)w=this.item(z[s]),it.push(w);return it}parseNcx(b){var s,w,N,z,$=[],it=0;if(!(w=Object(m.qs)(b,"pageList"))||(z=(N=Object(m.qsa)(w,"pageTarget")).length,!N||0===N.length))return $;for(it=0;it<z;++it)s=this.ncxItem(N[it]),$.push(s);return $}ncxItem(b){var s=Object(m.qs)(b,"navLabel"),w=Object(m.qs)(s,"text").textContent;return{href:Object(m.qs)(b,"content").getAttribute("src"),page:parseInt(w,10)}}item(b){var s,w,N=Object(m.qs)(b,"a"),z=N.getAttribute("href")||"",it=parseInt(N.textContent||"");return-1!=z.indexOf("epubcfi")?(w=(s=z.split("#"))[0],{cfi:s.length>1&&s[1],href:z,packageUrl:w,page:it}):{href:z,page:it}}process(b){b.forEach(function(s){this.pages.push(s.page),s.cfi&&this.locations.push(s.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(b){var s=-1;if(0===this.locations.length)return-1;var w=Object(m.indexOfSorted)(b,this.locations,this.epubcfi.compare);return-1!=w?s=this.pages[w]:void 0!==(s=(w=Object(m.locationOf)(b,this.locations,this.epubcfi.compare))-1>=0?this.pages[w-1]:this.pages[0])||(s=-1),s}cfiFromPage(b){var s=-1;"number"!=typeof b&&(b=parseInt(b));var w=this.pages.indexOf(b);return-1!=w&&(s=this.locations[w]),s}pageFromPercentage(b){return Math.round(this.totalPages*b)}percentageFromPage(b){return Math.round((b-this.firstPage)/this.totalPages*1e3)/1e3}percentageFromCfi(b){var s=this.pageFromCfi(b);return this.percentageFromPage(s)}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}},_t=r(50),qt=r(93),jt=r.n(qt),u=r(67),D=r.n(u);class M{constructor(s,w,N){this.urlCache={},this.storage=void 0,this.name=s,this.requester=w||E,this.resolver=N,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let s;void 0===D.a&&(s=D.a),this.storage=s.createInstance({name:this.name})}catch{throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(s){let w=navigator.onLine;this.online=w,this.emit(w?"online":"offline",this)}add(s,w){let N=s.resources.map(z=>{let{href:$}=z,it=this.resolver($),vt=window.encodeURIComponent(it);return this.storage.getItem(vt).then(Et=>!Et||w?this.requester(it,"binary").then(Mt=>this.storage.setItem(vt,Mt)):Et)});return Promise.all(N)}put(s,w,N){let z=window.encodeURIComponent(s);return this.storage.getItem(z).then($=>$||this.requester(s,"binary",w,N).then(it=>this.storage.setItem(z,it)))}request(s,w,N,z){return this.online?this.requester(s,w,N,z).then($=>(this.put(s),$)):this.retrieve(s,w)}retrieve(s,w){new m.defer;var N=new i.a(s);return w||(w=N.extension),("blob"==w?this.getBlob(s):this.getText(s)).then(z=>{var $,it=new m.defer;return z?($=this.handleResponse(z,w),it.resolve($)):it.reject({message:"File not found in storage: "+s,stack:(new Error).stack}),it.promise})}handleResponse(s,w){return"json"==w?JSON.parse(s):Object(m.isXml)(w)?Object(m.parse)(s,"text/xml"):"xhtml"==w?Object(m.parse)(s,"application/xhtml+xml"):"html"==w||"htm"==w?Object(m.parse)(s,"text/html"):s}getBlob(s,w){let N=window.encodeURIComponent(s);return this.storage.getItem(N).then(function(z){if(z)return w=w||rt_lookup(s),new Blob([z],{type:w})})}getText(s,w){let N=window.encodeURIComponent(s);return w=w||rt_lookup(s),this.storage.getItem(N).then(function(z){var $,it=new m.defer,vt=new FileReader;if(z)return $=new Blob([z],{type:w}),vt.addEventListener("loadend",()=>{it.resolve(vt.result)}),vt.readAsText($,w),it.promise})}getBase64(s,w){let N=window.encodeURIComponent(s);return w=w||rt_lookup(s),this.storage.getItem(N).then(z=>{var $,it=new m.defer,vt=new FileReader;if(z)return $=new Blob([z],{type:w}),vt.addEventListener("loadend",()=>{it.resolve(vt.result)}),vt.readAsDataURL($,w),it.promise})}createUrl(s,w){var N,z,$=new m.defer,it=window.URL||window.webkitURL||window.mozURL,vt=w&&w.base64;return s in this.urlCache?($.resolve(this.urlCache[s]),$.promise):(vt?(z=this.getBase64(s))&&z.then(function(Et){this.urlCache[s]=Et,$.resolve(Et)}.bind(this)):(z=this.getBlob(s))&&z.then(function(Et){N=it.createObjectURL(Et),this.urlCache[s]=N,$.resolve(N)}.bind(this)),z||$.reject({message:"File not found in storage: "+s,stack:(new Error).stack}),$.promise)}revokeUrl(s){var w=window.URL||window.webkitURL||window.mozURL,N=this.urlCache[s];N&&w.revokeObjectURL(N)}destroy(){var s=window.URL||window.webkitURL||window.mozURL;for(let w in this.urlCache)s.revokeObjectURL(w);this.urlCache={},this.removeListeners()}}C()(M.prototype);var H=M,nt=class{constructor(b){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",b&&this.parse(b)}parse(b){if(!b)return this;const s=Object(m.qs)(b,"display_options");return s?(Object(m.qsa)(s,"option").forEach(w=>{let N="";switch(w.childNodes.length&&(N=w.childNodes[0].nodeValue),w.attributes.name.value){case"interactive":this.interactive=N;break;case"fixed-layout":this.fixedLayout=N;break;case"open-to-spread":this.openToSpread=N;break;case"orientation-lock":this.orientationLock=N}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}};class At{constructor(s,w,N){void 0===w&&"string"!=typeof s&&!(s instanceof Blob)&&!(s instanceof ArrayBuffer)&&(w=s,s=void 0),this.settings=Object(m.extend)(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),Object(m.extend)(this.settings,w),this.opening=new m.defer,this.opened=this.opening.promise,this.isOpen=!1,this.cripto=N,this.loading={manifest:new m.defer,spine:new m.defer,metadata:new m.defer,cover:new m.defer,navigation:new m.defer,pageList:new m.defer,resources:new m.defer,displayOptions:new m.defer},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||E,this.spine=new class{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new l.a,this.hooks.content=new l.a,this.hooks.content.register(p.a),this.hooks.content.register(p.b),this.hooks.content.register(p.d),this.epubcfi=new o.a,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(b,s,w){this.items=b.spine,this.manifest=b.manifest,this.spineNodeIndex=b.spineNodeIndex,this.baseUrl=b.baseUrl||b.basePath||"",this.length=this.items.length,this.items.forEach((N,z)=>{var $,it=this.manifest[N.idref];N.index=z,N.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,N.index,N.idref),N.href&&(N.url=s(N.href,!0),N.canonical=w(N.href)),it&&(N.href=it.href,N.url=s(N.href,!0),N.canonical=w(N.href),it.properties.length&&N.properties.push.apply(N.properties,it.properties)),"yes"===N.linear?(N.prev=function(){let vt=N.index;for(;vt>0;){let Et=this.get(vt-1);if(Et&&Et.linear)return Et;vt-=1}}.bind(this),N.next=function(){let vt=N.index;for(;vt<this.spineItems.length-1;){let Et=this.get(vt+1);if(Et&&Et.linear)return Et;vt+=1}}.bind(this)):(N.prev=function(){},N.next=function(){}),$=new class{constructor(b,s){this.idref=b.idref,this.linear="yes"===b.linear,this.properties=b.properties,this.index=b.index,this.href=b.href,this.url=b.url,this.canonical=b.canonical,this.next=b.next,this.prev=b.prev,this.cfiBase=b.cfiBase,s?this.hooks=s:(this.hooks={},this.hooks.serialize=new l.a(this),this.hooks.content=new l.a(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(b){var s=b||this.request||E,w=new m.defer,N=w.promise;return this.contents?w.resolve(this.contents):s(this.url).then(function(z){return this.document=z,this.contents=z.documentElement,this.hooks.content.trigger(this.document,this)}.bind(this)).then(function(){w.resolve(this.contents)}.bind(this)).catch(function(z){w.reject(z)}),N}base(){return Object(p.a)(this.document,this)}render(b){var s=new m.defer,w=s.promise;return this.load(b).then(function(N){var z=(typeof navigator<"u"&&navigator.userAgent||"").indexOf("Trident")>=0,$=new(typeof XMLSerializer>"u"||z?g.XMLDOMParser:XMLSerializer);return this.output=$.serializeToString(N),this.output}.bind(this)).then(function(){return this.hooks.serialize.trigger(this.output,this)}.bind(this)).then(function(){s.resolve(this.output)}.bind(this)).catch(function(N){s.reject(N)}),w}find(b){var s=this,w=[],N=b.toLowerCase();return Object(m.sprint)(s.document,function(z){!function($){for(var it,vt,Et,Mt=$.textContent.toLowerCase(),$t=s.document.createRange(),Ct=-1;-1!=vt;)-1!=(vt=Mt.indexOf(N,Ct+1))&&(($t=s.document.createRange()).setStart($,vt),$t.setEnd($,vt+N.length),it=s.cfiFromRange($t),Et=$.textContent.length<150?$.textContent:"..."+(Et=$.textContent.substring(vt-75,vt+75))+"...",w.push({cfi:it,excerpt:Et})),Ct=vt}(z)}),w}search(b,s=5){if(void 0===document.createTreeWalker)return this.find(b);let w=[];const N=this,z=b.toLowerCase(),$=function(Mt){const $t=Mt.reduce((Ct,zt)=>Ct+zt.textContent,"").toLowerCase().indexOf(z);if(-1!=$t){const zt=$t+z.length;let se=0,L=0;if($t<Mt[0].length){let B;for(;se<Mt.length-1&&(L+=Mt[se].length,!(zt<=L));)se+=1;let F=Mt[0],Y=Mt[se],Z=N.document.createRange();Z.setStart(F,$t);let Q=Mt.slice(0,se).reduce((ct,ft)=>ct+ft.textContent.length,0);Z.setEnd(Y,Q>zt?zt:zt-Q),B=N.cfiFromRange(Z);let st=Mt.slice(0,se+1).reduce((ct,ft)=>ct+ft.textContent,"");st.length>150&&(st=st.substring($t-75,$t+75),st="..."+st+"..."),w.push({cfi:B,excerpt:st})}}},it=document.createTreeWalker(N.document,NodeFilter.SHOW_TEXT,null,!1);let vt,Et=[];for(;vt=it.nextNode();)Et.push(vt),Et.length==s&&($(Et.slice(0,s)),Et=Et.slice(1,s));return Et.length>0&&$(Et),w}reconcileLayoutSettings(b){var s={layout:b.layout,spread:b.spread,orientation:b.orientation};return this.properties.forEach(function(w){var N,z,$=w.replace("rendition:",""),it=$.indexOf("-");-1!=it&&(N=$.slice(0,it),z=$.slice(it+1),s[N]=z)}),s}cfiFromRange(b){return new o.a(b,this.cfiBase).toString()}cfiFromElement(b){return new o.a(b,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}(N,this.hooks),this.append($)}),this.loaded=!0}get(b){var s=0;if(void 0===b)for(;s<this.spineItems.length;){let w=this.spineItems[s];if(w&&w.linear)break;s+=1}else this.epubcfi.isCfiString(b)?s=new o.a(b).spinePos:"number"==typeof b||!1===isNaN(b)?s=b:"string"==typeof b&&0===b.indexOf("#")?s=this.spineById[b.substring(1)]:"string"==typeof b&&(b=b.split("#")[0],null==(s=this.spineByHref[b]||this.spineByHref[encodeURI(b)])&&Object.keys(this.spineByHref).forEach(w=>{(w.endsWith(b)||w.endsWith(encodeURI(b)))&&(s=this.spineByHref[w])}));return this.spineItems[s]||null}append(b){var s=this.spineItems.length;return b.index=s,this.spineItems.push(b),this.spineByHref[decodeURI(b.href)]=s,this.spineByHref[encodeURI(b.href)]=s,this.spineByHref[b.href]=s,this.spineById[b.idref]=s,s}prepend(b){return this.spineByHref[b.href]=0,this.spineById[b.idref]=0,this.spineItems.forEach(function(s,w){s.index=w}),0}remove(b){var s=this.spineItems.indexOf(b);if(s>-1)return delete this.spineByHref[b.href],delete this.spineById[b.idref],this.spineItems.splice(s,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let b=0;do{let s=this.get(b);if(s&&s.linear)return s;b+=1}while(b<this.spineItems.length)}last(){let b=this.spineItems.length-1;do{let s=this.get(b);if(s&&s.linear)return s;b-=1}while(b>=0)}destroy(){this.each(b=>b.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}},this.locations=new j(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),s&&this.open(s,this.settings.openAs).catch(z=>{var $=new Error("Cannot load book at "+s);this.emit(a.c.BOOK.OPEN_FAILED,$)})}setp(s){this.cripto=s}open(s,w){var N,z=w||this.determineType(s);return"binary"===z?(this.archived=!0,this.url=new d.a("/",""),N=this.openEpub(s)):"base64"===z?(this.archived=!0,this.url=new d.a("/",""),N=this.openEpub(s,z)):"epub"===z?(this.archived=!0,this.url=new d.a("/",""),N=this.request(s,"binary",this.settings.requestCredentials,this.settings.requestHeaders,this.cripto).then(this.openEpub.bind(this))):"opf"==z?(this.url=new d.a(s),N=this.openPackaging(this.url.Path.toString())):"json"==z?(this.url=new d.a(s),N=this.openManifest(this.url.Path.toString())):(this.url=new d.a(s),N=this.openContainer("META-INF/container.xml").then(this.openPackaging.bind(this))),N}openEpub(s,w){return this.unarchive(s,w||this.settings.encoding).then(()=>this.openContainer("META-INF/container.xml")).then(N=>this.openPackaging(N))}openContainer(s){return this.load(s).then(w=>(this.container=new class{constructor(b){this.packagePath="",this.directory="",this.encoding="",b&&this.parse(b)}parse(b){var s;if(!b)throw new Error("Container File Not Found");if(!(s=Object(m.qs)(b,"rootfile")))throw new Error("No RootFile Found");this.packagePath=s.getAttribute("full-path"),this.directory=e.a.dirname(this.packagePath),this.encoding=b.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}(w),this.resolve(this.container.packagePath)))}openPackaging(s){return this.path=new i.a(s),this.load(s).then(w=>(this.packaging=new R(w),this.unpack(this.packaging)))}openManifest(s){return this.path=new i.a(s),this.load(s).then(w=>(this.packaging=new R,this.packaging.load(w),this.unpack(this.packaging)))}load(s){var w=this.resolve(s);return this.archived?this.archive.request(w):this.request(w,null,this.settings.requestCredentials,this.settings.requestHeaders,this.cripto)}resolve(s,w){if(s){var N=s;return s.indexOf("://")>-1?s:(this.path&&(N=this.path.resolve(s)),0!=w&&this.url&&(N=this.url.resolve(N)),N)}}canonical(s){return s?this.settings.canonical?this.settings.canonical(s):this.resolve(s,!0):""}determineType(s){var w;return"base64"===this.settings.encoding?"base64":"string"!=typeof s?"binary":((w=new d.a(s).path().extension)&&(w=w.replace(/\?.*$/,"")),w?"epub"===w?"epub":"opf"===w?"opf":"json"===w?"json":void 0:"directory")}unpack(s){this.package=s,""===this.packaging.metadata.layout?this.load(this.url.resolve("META-INF/com.apple.ibooks.display-options.xml")).then(w=>{this.displayOptions=new nt(w),this.loading.displayOptions.resolve(this.displayOptions)}).catch(w=>{this.displayOptions=new nt,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new nt,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new class{constructor(b,s){this.settings={replacements:s&&s.replacements||"base64",archive:s&&s.archive,resolver:s&&s.resolver,request:s&&s.request},this.process(b)}process(b){this.manifest=b,this.resources=Object.keys(b).map(function(s){return b[s]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(b){if("application/xhtml+xml"===b.type||"text/html"===b.type)return!0}),this.assets=this.resources.filter(function(b){if("application/xhtml+xml"!==b.type&&"text/html"!==b.type)return!0}),this.css=this.resources.filter(function(b){if("text/css"===b.type)return!0})}splitUrls(){this.urls=this.assets.map(function(b){return b.href}.bind(this)),this.cssUrls=this.css.map(function(b){return b.href})}createUrl(b){var s=new d.a(b),w=rt_lookup(s.filename);return this.settings.archive?this.settings.archive.createUrl(b,{base64:"base64"===this.settings.replacements}):"base64"===this.settings.replacements?this.settings.request(b,"blob").then(N=>Object(m.blob2base64)(N)).then(N=>Object(m.createBase64Url)(N,w)):this.settings.request(b,"blob").then(N=>Object(m.createBlobUrl)(N,w))}replacements(){if("none"===this.settings.replacements)return new Promise(function(s){s(this.urls)}.bind(this));var b=this.urls.map(s=>{var w=this.settings.resolver(s);return this.createUrl(w).catch(N=>(console.error(N),null))});return Promise.all(b).then(s=>(this.replacementUrls=s.filter(w=>"string"==typeof w),s))}replaceCss(b,s){var w=[];return b=b||this.settings.archive,s=s||this.settings.resolver,this.cssUrls.forEach(function(N){var z=this.createCssFile(N,b,s).then(function($){var it=this.urls.indexOf(N);it>-1&&(this.replacementUrls[it]=$)}.bind(this));w.push(z)}.bind(this)),Promise.all(w)}createCssFile(b){if(e.a.isAbsolute(b))return new Promise(function(z){z()});var s,w=this.settings.resolver(b);s=this.settings.archive?this.settings.archive.getText(w):this.settings.request(w,"text");var N=this.urls.map(z=>{var $=this.settings.resolver(z);return new i.a(w).relative($)});return s?s.then(z=>(z=Object(p.e)(z,N,this.replacementUrls),"base64"===this.settings.replacements?Object(m.createBase64Url)(z,"text/css"):Object(m.createBlobUrl)(z,"text/css")),z=>new Promise(function($){$()})):new Promise(function(z){z()})}relativeTo(b,s){return s=s||this.settings.resolver,this.urls.map(function(w){var N=s(w);return new i.a(b).relative(N)}.bind(this))}get(b){var s=this.urls.indexOf(b);if(-1!==s)return this.replacementUrls.length?new Promise(function(w,N){w(this.replacementUrls[s])}.bind(this)):this.createUrl(b)}substitute(b,s){var w;return w=s?this.relativeTo(s):this.urls,Object(p.e)(b,w,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&"none"!=this.settings.replacements?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(w=>{console.error(w)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(s){let w=s.navPath||s.ncxPath,N=s.toc;return N?new Promise((z,$)=>{this.navigation=new W(N),s.pageList&&(this.pageList=new St(s.pageList)),z(this.navigation)}):w?this.load(w,"xml").then(z=>(this.navigation=new W(z),this.pageList=new St(z),this.navigation)):new Promise((z,$)=>{this.navigation=new W,this.pageList=new St,z(this.navigation)})}section(s){return this.spine.get(s)}renderTo(s,w){return this.rendition=new _t.a(this,w),this.rendition.attachTo(s),this.rendition}setRequestCredentials(s){this.settings.requestCredentials=s}setRequestHeaders(s){this.settings.requestHeaders=s}unarchive(s,w){return this.archive=new class{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new jt.a}catch{throw new Error("JSZip lib not loaded")}}open(b,s){return this.zip.loadAsync(b,{base64:s})}openUrl(b,s){return E(b,"binary").then(function(w){return this.zip.loadAsync(w,{base64:s})}.bind(this))}request(b,s){var w,N=new m.defer,z=new i.a(b);return s||(s=z.extension),(w="blob"==s?this.getBlob(b):this.getText(b))?w.then(function($){let it=this.handleResponse($,s);N.resolve(it)}.bind(this)):N.reject({message:"File not found in the epub: "+b,stack:(new Error).stack}),N.promise}handleResponse(b,s){return"json"==s?JSON.parse(b):Object(m.isXml)(s)?Object(m.parse)(b,"text/xml"):"xhtml"==s?Object(m.parse)(b,"application/xhtml+xml"):"html"==s||"htm"==s?Object(m.parse)(b,"text/html"):b}getBlob(b,s){var w=window.decodeURIComponent(b.substr(1)),N=this.zip.file(w);if(N)return s=s||rt_lookup(N.name),N.async("uint8array").then(function(z){return new Blob([z],{type:s})})}getText(b,s){var w=window.decodeURIComponent(b.substr(1)),N=this.zip.file(w);if(N)return N.async("string").then(function(z){return z})}getBase64(b,s){var w=window.decodeURIComponent(b.substr(1)),N=this.zip.file(w);if(N)return s=s||rt_lookup(N.name),N.async("base64").then(function(z){return"data:"+s+";base64,"+z})}createUrl(b,s){var w,N,z=new m.defer,$=window.URL||window.webkitURL||window.mozURL,it=s&&s.base64;return b in this.urlCache?(z.resolve(this.urlCache[b]),z.promise):(it?(N=this.getBase64(b))&&N.then(function(vt){this.urlCache[b]=vt,z.resolve(vt)}.bind(this)):(N=this.getBlob(b))&&N.then(function(vt){w=$.createObjectURL(vt),this.urlCache[b]=w,z.resolve(w)}.bind(this)),N||z.reject({message:"File not found in the epub: "+b,stack:(new Error).stack}),z.promise)}revokeUrl(b){var s=window.URL||window.webkitURL||window.mozURL,w=this.urlCache[b];w&&s.revokeObjectURL(w)}destroy(){var b=window.URL||window.webkitURL||window.mozURL;for(let s in this.urlCache)b.revokeObjectURL(s);this.zip=void 0,this.urlCache={}}},this.archive.open(s,w)}store(s){let w=this.settings.replacements&&"none"!==this.settings.replacements,N=this.url,z=this.settings.requestMethod||E.bind(this);return this.storage=new H(s,z,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let $=(it,vt)=>{vt.output=this.resources.substitute(it,vt.url)};this.resources.settings.replacements=w||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new d.a("/",""),this.spine.hooks.serialize.register($)}),this.storage.on("online",()=>{this.url=N,this.spine.hooks.serialize.deregister($)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((s,w)=>{w.output=this.resources.substitute(s,w.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(s){var w=new o.a(s),N=this.spine.get(w.spinePos),z=this.load.bind(this);return N?N.load(z).then(function($){return w.toRange(N.document)}):new Promise(($,it)=>{it("CFI could not be found")})}key(s){return`epubjs:${a.b}:${s||this.packaging.metadata.identifier||this.url.filename}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}C()(At.prototype),q.a=At},function(P,q,r){"use strict";var x={}.propertyIsEnumerable,C=Object.getOwnPropertyDescriptor,m=C&&!x.call({1:2},1);q.f=m?function(d){var i=C(this,d);return!!i&&i.enumerable}:x},function(P,q,r){var x=r(12),C=r(10),m=r(71);P.exports=!x&&!C(function(){return 7!=Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a})},function(P,q,r){var x=r(4),C=r(15),m=x.document,d=C(m)&&C(m.createElement);P.exports=function(i){return d?m.createElement(i):{}}},function(P,q,r){var x=r(73),C=Function.toString;"function"!=typeof x.inspectSource&&(x.inspectSource=function(m){return C.call(m)}),P.exports=x.inspectSource},function(P,q,r){var x=r(4),C=r(53),m=x["__core-js_shared__"]||C("__core-js_shared__",{});P.exports=m},function(P,q,r){var x=r(41),C=r(73);(P.exports=function(m,d){return C[m]||(C[m]=void 0!==d?d:{})})("versions",[]).push({version:"3.6.5",mode:x?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(P,q,r){var x=r(9),C=r(37),m=r(101).indexOf,d=r(56);P.exports=function(i,o){var l,p=C(i),E=0,g=[];for(l in p)!x(d,l)&&x(p,l)&&g.push(l);for(;o.length>E;)x(p,l=o[E++])&&(~m(g,l)||g.push(l));return g}},function(P,q,r){var x=r(22),C=Math.max,m=Math.min;P.exports=function(d,i){var o=x(d);return o<0?C(o+i,0):m(o,i)}},function(P,q){q.f=Object.getOwnPropertySymbols},function(P,q,r){var x=r(10);P.exports=!!Object.getOwnPropertySymbols&&!x(function(){return!String(Symbol())})},function(P,q,r){"use strict";var x=r(37),C=r(109),m=r(31),d=r(21),i=r(82),o=d.set,l=d.getterFor("Array Iterator");P.exports=i(Array,"Array",function(p,E){o(this,{type:"Array Iterator",target:x(p),index:0,kind:E})},function(){var p=l(this),E=p.target,g=p.kind,v=p.index++;return!E||v>=E.length?(p.target=void 0,{value:void 0,done:!0}):"keys"==g?{value:v,done:!1}:"values"==g?{value:E[v],done:!1}:{value:[v,E[v]],done:!1}},"values"),m.Arguments=m.Array,C("keys"),C("values"),C("entries")},function(P,q,r){var x=r(12),C=r(16),m=r(17),d=r(81);P.exports=x?Object.defineProperties:function(i,o){m(i);for(var l,p=d(o),E=p.length,g=0;E>g;)C.f(i,l=p[g++],o[l]);return i}},function(P,q,r){var x=r(75),C=r(58);P.exports=Object.keys||function(m){return x(m,C)}},function(P,q,r){"use strict";var x=r(30),C=r(83),m=r(44),d=r(33),i=r(32),o=r(13),l=r(20),p=r(5),E=r(41),g=r(31),v=r(84),S=v.IteratorPrototype,f=v.BUGGY_SAFARI_ITERATORS,a=p("iterator"),_=function(){return this};P.exports=function(j,A,e,T,R,W,K){C(e,A,T);var at,rt,dt,St=function(M){if(M===R&&u)return u;if(!f&&M in jt)return jt[M];switch(M){case"keys":case"values":case"entries":return function(){return new e(this,M)}}return function(){return new e(this)}},_t=A+" Iterator",qt=!1,jt=j.prototype,c=jt[a]||jt["@@iterator"]||R&&jt[R],u=!f&&c||St(R),D="Array"==A&&jt.entries||c;if(D&&(at=m(D.call(new j)),S!==Object.prototype&&at.next&&(E||m(at)===S||(d?d(at,S):"function"!=typeof at[a]&&o(at,a,_)),i(at,_t,!0,!0),E&&(g[_t]=_))),"values"==R&&c&&"values"!==c.name&&(qt=!0,u=function(){return c.call(this)}),E&&!K||jt[a]===u||o(jt,a,u),g[A]=u,R)if(rt={values:St("values"),keys:W?u:St("keys"),entries:St("entries")},K)for(dt in rt)(f||qt||!(dt in jt))&&l(jt,dt,rt[dt]);else x({target:A,proto:!0,forced:f||qt},rt);return rt}},function(P,q,r){"use strict";var x=r(84).IteratorPrototype,C=r(43),m=r(24),d=r(32),i=r(31),o=function(){return this};P.exports=function(l,p,E){var g=p+" Iterator";return l.prototype=C(x,{next:m(1,E)}),d(l,g,!1,!0),i[g]=o,l}},function(P,q,r){"use strict";var x,C,m,d=r(44),i=r(13),o=r(9),l=r(5),p=r(41),E=l("iterator"),g=!1;[].keys&&("next"in(m=[].keys())?(C=d(d(m)))!==Object.prototype&&(x=C):g=!0),null==x&&(x={}),p||o(x,E)||i(x,E,function(){return this}),P.exports={IteratorPrototype:x,BUGGY_SAFARI_ITERATORS:g}},function(P,q,r){var x=r(10),C=r(5),m=r(41),d=C("iterator");P.exports=!x(function(){var i=new URL("b?a=1&b=2&c=3","http://a"),o=i.searchParams,l="";return i.pathname="c%20d",o.forEach(function(p,E){o.delete("b"),l+=E+p}),m&&!i.toJSON||!o.sort||"http://a/c%20d?a=1&c=3"!==i.href||"3"!==o.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!o[d]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==l||"x"!==new URL("http://x",void 0).host})},function(P,q,r){var x=r(5),C=r(31),m=x("iterator"),d=Array.prototype;P.exports=function(i){return void 0!==i&&(C.Array===i||d[m]===i)}},function(P,q,r){var x=r(20);P.exports=function(C,m,d){for(var i in m)x(C,i,m[i],d);return C}},function(P,q){P.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},function(P,q,r){var x=r(22),C=r(19);P.exports=function(m){if(void 0===m)return 0;var d=x(m),i=C(d);if(d!==i)throw RangeError("Wrong length or index");return i}},function(P,q,r){var x=r(156),C="object"==typeof self&&self&&self.Object===Object&&self,m=x||C||Function("return this")();P.exports=m},function(P,q,r){var x=r(90).Symbol;P.exports=x},function(P,q,r){var x=r(65),C=r(63);P.exports=function(m,d,i){var o=!0,l=!0;if("function"!=typeof m)throw new TypeError("Expected a function");return C(i)&&(o="leading"in i?!!i.leading:o,l="trailing"in i?!!i.trailing:l),x(m,d,{leading:o,maxWait:d,trailing:l})}},function(P,q){P.exports=oe},function(P,q,r){"use strict";r.r(q),function(x){var C=r(68),m=r(50),d=r(2),i=r(34),o=r(0),l=r(1);function p(E,g,v){return new C.a(E,g,v)}r(64),r(27),r(66),p.VERSION=l.b,void 0!==x&&(x.EPUBJS_VERSION=l.b),p.Book=C.a,p.Rendition=m.a,p.Contents=i.a,p.CFI=d.a,p.utils=o,q.default=p}.call(this,r(36))},function(P,q,r){"use strict";r(96);var x=r(20),C=r(10),m=r(5),d=r(59),i=r(13),o=m("species"),l=!C(function(){var S=/./;return S.exec=function(){var f=[];return f.groups={a:"7"},f},"7"!=="".replace(S,"$<a>")}),p="$0"==="a".replace(/./,"$0"),E=m("replace"),g=!!/./[E]&&""===/./[E]("a","$0"),v=!C(function(){var S=/(?:)/,f=S.exec;S.exec=function(){return f.apply(this,arguments)};var a="ab".split(S);return 2!==a.length||"a"!==a[0]||"b"!==a[1]});P.exports=function(S,f,a,_){var j=m(S),A=!C(function(){var at={};return at[j]=function(){return 7},7!=""[S](at)}),e=A&&!C(function(){var at=!1,rt=/a/;return"split"===S&&((rt={}).constructor={},rt.constructor[o]=function(){return rt},rt.flags="",rt[j]=/./[j]),rt.exec=function(){return at=!0,null},rt[j](""),!at});if(!A||!e||"replace"===S&&(!l||!p||g)||"split"===S&&!v){var T=/./[j],R=a(j,""[S],function(at,rt,dt,St,_t){return rt.exec===d?A&&!_t?{done:!0,value:T.call(rt,dt,St)}:{done:!0,value:at.call(dt,rt,St)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:g}),K=R[1];x(String.prototype,S,R[0]),x(RegExp.prototype,j,2==f?function(at,rt){return K.call(at,this,rt)}:function(at){return K.call(at,this)})}_&&i(RegExp.prototype[j],"sham",!0)}},function(P,q,r){"use strict";var x=r(30),C=r(59);x({target:"RegExp",proto:!0,forced:/./.exec!==C},{exec:C})},function(P,q,r){var x=r(4),C=r(72),m=x.WeakMap;P.exports="function"==typeof m&&/native code/.test(C(m))},function(P,q,r){var x=r(9),C=r(99),m=r(51),d=r(16);P.exports=function(i,o){for(var l=C(o),p=d.f,E=m.f,g=0;g<l.length;g++){var v=l[g];x(i,v)||p(i,v,E(o,v))}}},function(P,q,r){var x=r(42),C=r(57),m=r(77),d=r(17);P.exports=x("Reflect","ownKeys")||function(i){var o=C.f(d(i)),l=m.f;return l?o.concat(l(i)):o}},function(P,q,r){var x=r(4);P.exports=x},function(P,q,r){var x=r(37),C=r(19),m=r(76),d=function(i){return function(o,l,p){var E,g=x(o),v=C(g.length),S=m(p,v);if(i&&l!=l){for(;v>S;)if((E=g[S++])!=E)return!0}else for(;v>S;S++)if((i||S in g)&&g[S]===l)return i||S||0;return!i&&-1}};P.exports={includes:d(!0),indexOf:d(!1)}},function(P,q,r){var x=r(10),C=/#|\.prototype\./,m=function(p,E){var g=i[d(p)];return g==l||g!=o&&("function"==typeof E?x(E):!!E)},d=m.normalize=function(p){return String(p).replace(C,".").toLowerCase()},i=m.data={},o=m.NATIVE="N",l=m.POLYFILL="P";P.exports=m},function(P,q,r){"use strict";var x=r(17);P.exports=function(){var C=x(this),m="";return C.global&&(m+="g"),C.ignoreCase&&(m+="i"),C.multiline&&(m+="m"),C.dotAll&&(m+="s"),C.unicode&&(m+="u"),C.sticky&&(m+="y"),m}},function(P,q,r){"use strict";var x=r(10);function C(m,d){return RegExp(m,d)}q.UNSUPPORTED_Y=x(function(){var m=C("a","y");return m.lastIndex=2,null!=m.exec("abcd")}),q.BROKEN_CARET=x(function(){var m=C("^r","gy");return m.lastIndex=2,null!=m.exec("str")})},function(P,q,r){var x=r(78);P.exports=x&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(P,q,r){"use strict";var x=r(60).charAt;P.exports=function(C,m,d){return m+(d?x(C,m).length:1)}},function(P,q,r){var x=r(38),C=r(59);P.exports=function(m,d){var i=m.exec;if("function"==typeof i){var o=i.call(m,d);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==x(m))throw TypeError("RegExp#exec called on incompatible receiver");return C.call(m,d)}},function(P,q){P.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(P,q,r){var x=r(5),C=r(43),m=r(16),d=x("unscopables"),i=Array.prototype;null==i[d]&&m.f(i,d,{configurable:!0,value:C(null)}),P.exports=function(o){i[d][o]=!0}},function(P,q,r){var x=r(42);P.exports=x("document","documentElement")},function(P,q,r){var x=r(10);P.exports=!x(function(){function C(){}return C.prototype.constructor=null,Object.getPrototypeOf(new C)!==C.prototype})},function(P,q,r){var x=r(15);P.exports=function(C){if(!x(C)&&null!==C)throw TypeError("Can't set "+String(C)+" as a prototype");return C}},function(P,q,r){"use strict";var x=r(114),C=r(122),m=r(123),d=r(124);(P.exports=function(i,o){var l,p,E,g,v;return arguments.length<2||"string"!=typeof i?(g=o,o=i,i=null):g=arguments[2],null==i?(l=E=!0,p=!1):(l=d.call(i,"c"),p=d.call(i,"e"),E=d.call(i,"w")),v={value:o,configurable:l,enumerable:p,writable:E},g?x(C(g),v):v}).gs=function(i,o,l){var p,E,g,v;return"string"!=typeof i?(g=l,l=o,o=i,i=null):g=arguments[3],null==o?o=void 0:m(o)?null==l?l=void 0:m(l)||(g=l,l=void 0):(g=o,o=l=void 0),null==i?(p=!0,E=!1):(p=d.call(i,"c"),E=d.call(i,"e")),v={get:o,set:l,configurable:p,enumerable:E},g?x(C(g),v):v}},function(P,q,r){"use strict";P.exports=r(115)()?Object.assign:r(116)},function(P,q,r){"use strict";P.exports=function(){var x,C=Object.assign;return"function"==typeof C&&(C(x={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),x.foo+x.bar+x.trzy==="razdwatrzy")}},function(P,q,r){"use strict";var x=r(117),C=r(121),m=Math.max;P.exports=function(d,i){var o,l,p,E=m(arguments.length,2);for(d=Object(C(d)),p=function(g){try{d[g]=i[g]}catch(v){o||(o=v)}},l=1;l<E;++l)x(i=arguments[l]).forEach(p);if(void 0!==o)throw o;return d}},function(P,q,r){"use strict";P.exports=r(118)()?Object.keys:r(119)},function(P,q,r){"use strict";P.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},function(P,q,r){"use strict";var x=r(61),C=Object.keys;P.exports=function(m){return C(x(m)?Object(m):m)}},function(P,q,r){"use strict";P.exports=function(){}},function(P,q,r){"use strict";var x=r(61);P.exports=function(C){if(!x(C))throw new TypeError("Cannot use null or undefined");return C}},function(P,q,r){"use strict";var x=r(61),C=Array.prototype.forEach,m=Object.create;P.exports=function(i){var o=m(null);return C.call(arguments,function(l){x(l)&&function(i,o){var l;for(l in i)o[l]=i[l]}(Object(l),o)}),o}},function(P,q,r){"use strict";P.exports=function(x){return"function"==typeof x}},function(P,q,r){"use strict";P.exports=r(125)()?String.prototype.contains:r(126)},function(P,q,r){"use strict";var x="razdwatrzy";P.exports=function(){return"function"==typeof x.contains&&!0===x.contains("dwa")&&!1===x.contains("foo")}},function(P,q,r){"use strict";var x=String.prototype.indexOf;P.exports=function(C){return x.call(this,C,arguments[1])>-1}},function(P,q,r){"use strict";P.exports=function(x){if("function"!=typeof x)throw new TypeError(x+" is not a function");return x}},function(P,q,r){"use strict";var x=r(60).charAt,C=r(21),m=r(82),d=C.set,i=C.getterFor("String Iterator");m(String,"String",function(o){d(this,{type:"String Iterator",string:String(o),index:0})},function(){var o,l=i(this),p=l.string,E=l.index;return E>=p.length?{value:void 0,done:!0}:(o=x(p,E),l.index+=o.length,{value:o,done:!1})})},function(P,q,r){"use strict";var x=r(12),C=r(10),m=r(81),d=r(77),i=r(69),o=r(23),l=r(52),p=Object.assign,E=Object.defineProperty;P.exports=!p||C(function(){if(x&&1!==p({b:1},p(E({},"a",{enumerable:!0,get:function(){E(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var g={},v={},S=Symbol();return g[S]=7,"abcdefghijklmnopqrst".split("").forEach(function(f){v[f]=f}),7!=p({},g)[S]||"abcdefghijklmnopqrst"!=m(p({},v)).join("")})?function(g,v){for(var S=o(g),f=arguments.length,a=1,_=d.f,j=i.f;f>a;)for(var A,e=l(arguments[a++]),T=_?m(e).concat(_(e)):m(e),R=T.length,W=0;R>W;)A=T[W++],x&&!j.call(e,A)||(S[A]=e[A]);return S}:p},function(P,q,r){"use strict";var x=r(46),C=r(23),m=r(132),d=r(86),i=r(19),o=r(133),l=r(47);P.exports=function(p){var E,g,v,S,f,a,_=C(p),j="function"==typeof this?this:Array,A=arguments.length,e=A>1?arguments[1]:void 0,T=void 0!==e,R=l(_),W=0;if(T&&(e=x(e,A>2?arguments[2]:void 0,2)),null==R||j==Array&&d(R))for(g=new j(E=i(_.length));E>W;W++)a=T?e(_[W],W):_[W],o(g,W,a);else for(f=(S=R.call(_)).next,g=new j;!(v=f.call(S)).done;W++)a=T?m(S,e,[v.value,W],!0):v.value,o(g,W,a);return g.length=W,g}},function(P,q){P.exports=function(r){if("function"!=typeof r)throw TypeError(String(r)+" is not a function");return r}},function(P,q,r){var x=r(17);P.exports=function(C,m,d,i){try{return i?m(x(d)[0],d[1]):m(d)}catch(l){var o=C.return;throw void 0!==o&&x(o.call(C)),l}}},function(P,q,r){"use strict";var x=r(40),C=r(16),m=r(24);P.exports=function(d,i,o){var l=x(i);l in d?C.f(d,l,m(0,o)):d[l]=o}},function(P,q,r){var x={};x[r(5)("toStringTag")]="z",P.exports="[object z]"===String(x)},function(P,q,r){"use strict";var x=/[^\0-\u007E]/,C=/[.\u3002\uFF0E\uFF61]/g,m="Overflow: input needs wider integers to process",d=Math.floor,i=String.fromCharCode,o=function(E){return E+22+75*(E<26)},l=function(E,g,v){var S=0;for(E=v?d(E/700):E>>1,E+=d(E/g);E>455;S+=36)E=d(E/35);return d(S+36*E/(E+38))},p=function(E){var g,v,S=[],f=(E=function(St){for(var _t=[],qt=0,jt=St.length;qt<jt;){var c=St.charCodeAt(qt++);if(c>=55296&&c<=56319&&qt<jt){var u=St.charCodeAt(qt++);56320==(64512&u)?_t.push(((1023&c)<<10)+(1023&u)+65536):(_t.push(c),qt--)}else _t.push(c)}return _t}(E)).length,a=128,_=0,j=72;for(g=0;g<E.length;g++)(v=E[g])<128&&S.push(i(v));var A=S.length,e=A;for(A&&S.push("-");e<f;){var T=2147483647;for(g=0;g<E.length;g++)(v=E[g])>=a&&v<T&&(T=v);var R=e+1;if(T-a>d((2147483647-_)/R))throw RangeError(m);for(_+=(T-a)*R,a=T,g=0;g<E.length;g++){if((v=E[g])<a&&++_>2147483647)throw RangeError(m);if(v==a){for(var W=_,K=36;;K+=36){var at=K<=j?1:K>=j+26?26:K-j;if(W<at)break;var rt=W-at,dt=36-at;S.push(i(o(at+rt%dt))),W=d(rt/dt)}S.push(i(o(W))),j=l(_,R,e==A),_=0,++e}}++_,++a}return S.join("")};P.exports=function(E){var g,v,S=[],f=E.toLowerCase().replace(C,".").split(".");for(g=0;g<f.length;g++)S.push(x.test(v=f[g])?"xn--"+p(v):v);return S.join(".")}},function(P,q,r){"use strict";r(79);var x=r(30),C=r(42),m=r(85),d=r(20),i=r(87),o=r(32),l=r(83),p=r(21),E=r(45),g=r(9),v=r(46),S=r(48),f=r(17),a=r(15),_=r(43),j=r(24),A=r(137),e=r(47),T=r(5),R=C("fetch"),W=C("Headers"),K=T("iterator"),at=p.set,rt=p.getterFor("URLSearchParams"),dt=p.getterFor("URLSearchParamsIterator"),St=/\+/g,_t=Array(4),qt=function(Ot){return _t[Ot-1]||(_t[Ot-1]=RegExp("((?:%[\\da-f]{2}){"+Ot+"})","gi"))},jt=function(Ot){try{return decodeURIComponent(Ot)}catch{return Ot}},c=function(Ot){var At=Ot.replace(St," "),b=4;try{return decodeURIComponent(At)}catch{for(;b;)At=At.replace(qt(b--),jt);return At}},u=/[!'()~]|%20/g,D={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},M=function(Ot){return D[Ot]},H=function(Ot){return encodeURIComponent(Ot).replace(u,M)},nt=function(Ot,At){if(At)for(var b,s,w=At.split("&"),N=0;N<w.length;)(b=w[N++]).length&&(s=b.split("="),Ot.push({key:c(s.shift()),value:c(s.join("="))}))},kt=function(Ot){this.entries.length=0,nt(this.entries,Ot)},Tt=function(Ot,At){if(Ot<At)throw TypeError("Not enough arguments")},Lt=l(function(Ot,At){at(this,{type:"URLSearchParamsIterator",iterator:A(rt(Ot).entries),kind:At})},"Iterator",function(){var Ot=dt(this),At=Ot.kind,b=Ot.iterator.next(),s=b.value;return b.done||(b.value="keys"===At?s.key:"values"===At?s.value:[s.key,s.value]),b}),Vt=function(){E(this,Vt,"URLSearchParams");var Ot,At,b,s,w,N,z,$,it,vt=arguments.length>0?arguments[0]:void 0,Mt=[];if(at(this,{type:"URLSearchParams",entries:Mt,updateURL:function(){},updateSearchParams:kt}),void 0!==vt)if(a(vt))if("function"==typeof(Ot=e(vt)))for(b=(At=Ot.call(vt)).next;!(s=b.call(At)).done;){if((z=(N=(w=A(f(s.value))).next).call(w)).done||($=N.call(w)).done||!N.call(w).done)throw TypeError("Expected sequence with length 2");Mt.push({key:z.value+"",value:$.value+""})}else for(it in vt)g(vt,it)&&Mt.push({key:it,value:vt[it]+""});else nt(Mt,"string"==typeof vt?"?"===vt.charAt(0)?vt.slice(1):vt:vt+"")},Ht=Vt.prototype;i(Ht,{append:function(Ot,At){Tt(arguments.length,2);var b=rt(this);b.entries.push({key:Ot+"",value:At+""}),b.updateURL()},delete:function(Ot){Tt(arguments.length,1);for(var At=rt(this),b=At.entries,s=Ot+"",w=0;w<b.length;)b[w].key===s?b.splice(w,1):w++;At.updateURL()},get:function(Ot){Tt(arguments.length,1);for(var At=rt(this).entries,b=Ot+"",s=0;s<At.length;s++)if(At[s].key===b)return At[s].value;return null},getAll:function(Ot){Tt(arguments.length,1);for(var At=rt(this).entries,b=Ot+"",s=[],w=0;w<At.length;w++)At[w].key===b&&s.push(At[w].value);return s},has:function(Ot){Tt(arguments.length,1);for(var At=rt(this).entries,b=Ot+"",s=0;s<At.length;)if(At[s++].key===b)return!0;return!1},set:function(Ot,At){Tt(arguments.length,1);for(var b,s=rt(this),w=s.entries,N=!1,z=Ot+"",$=At+"",it=0;it<w.length;it++)(b=w[it]).key===z&&(N?w.splice(it--,1):(N=!0,b.value=$));N||w.push({key:z,value:$}),s.updateURL()},sort:function(){var Ot,At,b,s=rt(this),w=s.entries,N=w.slice();for(w.length=0,b=0;b<N.length;b++){for(Ot=N[b],At=0;At<b;At++)if(w[At].key>Ot.key){w.splice(At,0,Ot);break}At===b&&w.push(Ot)}s.updateURL()},forEach:function(Ot){for(var At,b=rt(this).entries,s=v(Ot,arguments.length>1?arguments[1]:void 0,3),w=0;w<b.length;)s((At=b[w++]).value,At.key,this)},keys:function(){return new Lt(this,"keys")},values:function(){return new Lt(this,"values")},entries:function(){return new Lt(this,"entries")}},{enumerable:!0}),d(Ht,K,Ht.entries),d(Ht,"toString",function(){for(var Ot,At=rt(this).entries,b=[],s=0;s<At.length;)Ot=At[s++],b.push(H(Ot.key)+"="+H(Ot.value));return b.join("&")},{enumerable:!0}),o(Vt,"URLSearchParams"),x({global:!0,forced:!m},{URLSearchParams:Vt}),m||"function"!=typeof R||"function"!=typeof W||x({global:!0,enumerable:!0,forced:!0},{fetch:function(Ot){var At,b,s,w=[Ot];return arguments.length>1&&(a(At=arguments[1])&&"URLSearchParams"===S(b=At.body)&&((s=At.headers?new W(At.headers):new W).has("content-type")||s.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),At=_(At,{body:j(0,String(b)),headers:j(0,s)})),w.push(At)),R.apply(this,w)}}),P.exports={URLSearchParams:Vt,getState:rt}},function(P,q,r){var x=r(17),C=r(47);P.exports=function(m){var d=C(m);if("function"!=typeof d)throw TypeError(String(m)+" is not iterable");return x(d.call(m))}},function(P,q,r){r(139)("Uint8",function(x){return function(C,m,d){return x(this,C,m,d)}})},function(P,q,r){"use strict";var x=r(30),C=r(4),m=r(12),d=r(140),i=r(62),o=r(142),l=r(45),p=r(24),E=r(13),g=r(19),v=r(89),S=r(145),f=r(40),a=r(9),_=r(48),j=r(15),A=r(43),e=r(33),T=r(57).f,R=r(147),W=r(148).forEach,K=r(151),at=r(16),rt=r(51),dt=r(21),St=r(152),_t=dt.get,qt=dt.set,jt=at.f,c=rt.f,u=Math.round,D=C.RangeError,M=o.ArrayBuffer,H=o.DataView,nt=i.NATIVE_ARRAY_BUFFER_VIEWS,kt=i.TYPED_ARRAY_TAG,Tt=i.TypedArray,Lt=i.TypedArrayPrototype,Vt=i.aTypedArrayConstructor,Ht=i.isTypedArray,Ot=function(z,$){for(var it=0,vt=$.length,Et=new(Vt(z))(vt);vt>it;)Et[it]=$[it++];return Et},At=function(z,$){jt(z,$,{get:function(){return _t(this)[$]}})},b=function(z){var $;return z instanceof M||"ArrayBuffer"==($=_(z))||"SharedArrayBuffer"==$},s=function(z,$){return Ht(z)&&"symbol"!=typeof $&&$ in z&&String(+$)==String($)},w=function(z,$){return s(z,$=f($,!0))?p(2,z[$]):c(z,$)},N=function(z,$,it){return!(s(z,$=f($,!0))&&j(it)&&a(it,"value"))||a(it,"get")||a(it,"set")||it.configurable||a(it,"writable")&&!it.writable||a(it,"enumerable")&&!it.enumerable?jt(z,$,it):(z[$]=it.value,z)};m?(nt||(rt.f=w,at.f=N,At(Lt,"buffer"),At(Lt,"byteOffset"),At(Lt,"byteLength"),At(Lt,"length")),x({target:"Object",stat:!0,forced:!nt},{getOwnPropertyDescriptor:w,defineProperty:N}),P.exports=function(z,$,it){var vt=z.match(/\d+$/)[0]/8,Et=z+(it?"Clamped":"")+"Array",Mt="get"+z,$t="set"+z,Ct=C[Et],zt=Ct,se=zt&&zt.prototype,L={},B=function(F,Y){jt(F,Y,{get:function(){return Q=Y,(st=_t(this)).view[Mt](Q*vt+st.byteOffset,!0);var Q,st},set:function(Z){return st=Y,ct=Z,ft=_t(this),it&&(ct=(ct=u(ct))<0?0:ct>255?255:255&ct),void ft.view[$t](st*vt+ft.byteOffset,ct,!0);var st,ct,ft},enumerable:!0})};nt?d&&(zt=$(function(F,Y,Z,Q){return l(F,zt,Et),St(j(Y)?b(Y)?void 0!==Q?new Ct(Y,S(Z,vt),Q):void 0!==Z?new Ct(Y,S(Z,vt)):new Ct(Y):Ht(Y)?Ot(zt,Y):R.call(zt,Y):new Ct(v(Y)),F,zt)}),e&&e(zt,Tt),W(T(Ct),function(F){F in zt||E(zt,F,Ct[F])}),zt.prototype=se):(zt=$(function(F,Y,Z,Q){l(F,zt,Et);var st,ct,ft,mt=0,Rt=0;if(j(Y)){if(!b(Y))return Ht(Y)?Ot(zt,Y):R.call(zt,Y);st=Y,Rt=S(Z,vt);var Nt=Y.byteLength;if(void 0===Q){if(Nt%vt||(ct=Nt-Rt)<0)throw D("Wrong length")}else if((ct=g(Q)*vt)+Rt>Nt)throw D("Wrong length");ft=ct/vt}else ft=v(Y),st=new M(ct=ft*vt);for(qt(F,{buffer:st,byteOffset:Rt,byteLength:ct,length:ft,view:new H(st)});mt<ft;)B(F,mt++)}),e&&e(zt,Tt),se=zt.prototype=A(Lt)),se.constructor!==zt&&E(se,"constructor",zt),kt&&E(se,kt,Et),L[Et]=zt,x({global:!0,forced:zt!=Ct,sham:!nt},L),"BYTES_PER_ELEMENT"in zt||E(zt,"BYTES_PER_ELEMENT",vt),"BYTES_PER_ELEMENT"in se||E(se,"BYTES_PER_ELEMENT",vt),K(Et)}):P.exports=function(){}},function(P,q,r){var x=r(4),C=r(10),m=r(141),d=r(62).NATIVE_ARRAY_BUFFER_VIEWS,i=x.ArrayBuffer,o=x.Int8Array;P.exports=!d||!C(function(){o(1)})||!C(function(){new o(-1)})||!m(function(l){new o,new o(null),new o(1.5),new o(l)},!0)||C(function(){return 1!==new o(new i(2),1,void 0).length})},function(P,q,r){var x=r(5)("iterator"),C=!1;try{var m=0,d={next:function(){return{done:!!m++}},return:function(){C=!0}};d[x]=function(){return this},Array.from(d,function(){throw 2})}catch{}P.exports=function(i,o){if(!o&&!C)return!1;var l=!1;try{var p={};p[x]=function(){return{next:function(){return{done:l=!0}}}},i(p)}catch{}return l}},function(P,q,r){"use strict";var x=r(4),C=r(12),m=r(88),d=r(13),i=r(87),o=r(10),l=r(45),p=r(22),E=r(19),g=r(89),v=r(143),S=r(44),f=r(33),a=r(57).f,_=r(16).f,j=r(144),A=r(32),e=r(21),T=e.get,R=e.set,W=x.ArrayBuffer,K=W,at=x.DataView,rt=at&&at.prototype,dt=Object.prototype,St=x.RangeError,_t=v.pack,qt=v.unpack,jt=function(s){return[255&s]},c=function(s){return[255&s,s>>8&255]},u=function(s){return[255&s,s>>8&255,s>>16&255,s>>24&255]},D=function(s){return s[3]<<24|s[2]<<16|s[1]<<8|s[0]},M=function(s){return _t(s,23,4)},H=function(s){return _t(s,52,8)},nt=function(s,w){_(s.prototype,w,{get:function(){return T(this)[w]}})},kt=function(s,w,N,z){var $=g(N),it=T(s);if($+w>it.byteLength)throw St("Wrong index");var vt=T(it.buffer).bytes,Et=$+it.byteOffset,Mt=vt.slice(Et,Et+w);return z?Mt:Mt.reverse()},Tt=function(s,w,N,z,$,it){var vt=g(N),Et=T(s);if(vt+w>Et.byteLength)throw St("Wrong index");for(var Mt=T(Et.buffer).bytes,$t=vt+Et.byteOffset,Ct=z(+$),zt=0;zt<w;zt++)Mt[$t+zt]=Ct[it?zt:w-zt-1]};if(m){if(!o(function(){W(1)})||!o(function(){new W(-1)})||o(function(){return new W,new W(1.5),new W(NaN),"ArrayBuffer"!=W.name})){for(var Lt,Vt=(K=function(s){return l(this,K),new W(g(s))}).prototype=W.prototype,Ht=a(W),Ot=0;Ht.length>Ot;)(Lt=Ht[Ot++])in K||d(K,Lt,W[Lt]);Vt.constructor=K}f&&S(rt)!==dt&&f(rt,dt);var At=new at(new K(2)),b=rt.setInt8;At.setInt8(0,2147483648),At.setInt8(1,2147483649),!At.getInt8(0)&&At.getInt8(1)||i(rt,{setInt8:function(s,w){b.call(this,s,w<<24>>24)},setUint8:function(s,w){b.call(this,s,w<<24>>24)}},{unsafe:!0})}else K=function(s){l(this,K,"ArrayBuffer");var w=g(s);R(this,{bytes:j.call(new Array(w),0),byteLength:w}),C||(this.byteLength=w)},at=function(s,w,N){l(this,at,"DataView"),l(s,K,"DataView");var z=T(s).byteLength,$=p(w);if($<0||$>z)throw St("Wrong offset");if($+(N=void 0===N?z-$:E(N))>z)throw St("Wrong length");R(this,{buffer:s,byteLength:N,byteOffset:$}),C||(this.buffer=s,this.byteLength=N,this.byteOffset=$)},C&&(nt(K,"byteLength"),nt(at,"buffer"),nt(at,"byteLength"),nt(at,"byteOffset")),i(at.prototype,{getInt8:function(s){return kt(this,1,s)[0]<<24>>24},getUint8:function(s){return kt(this,1,s)[0]},getInt16:function(s){var w=kt(this,2,s,arguments.length>1?arguments[1]:void 0);return(w[1]<<8|w[0])<<16>>16},getUint16:function(s){var w=kt(this,2,s,arguments.length>1?arguments[1]:void 0);return w[1]<<8|w[0]},getInt32:function(s){return D(kt(this,4,s,arguments.length>1?arguments[1]:void 0))},getUint32:function(s){return D(kt(this,4,s,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(s){return qt(kt(this,4,s,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(s){return qt(kt(this,8,s,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(s,w){Tt(this,1,s,jt,w)},setUint8:function(s,w){Tt(this,1,s,jt,w)},setInt16:function(s,w){Tt(this,2,s,c,w,arguments.length>2?arguments[2]:void 0)},setUint16:function(s,w){Tt(this,2,s,c,w,arguments.length>2?arguments[2]:void 0)},setInt32:function(s,w){Tt(this,4,s,u,w,arguments.length>2?arguments[2]:void 0)},setUint32:function(s,w){Tt(this,4,s,u,w,arguments.length>2?arguments[2]:void 0)},setFloat32:function(s,w){Tt(this,4,s,M,w,arguments.length>2?arguments[2]:void 0)},setFloat64:function(s,w){Tt(this,8,s,H,w,arguments.length>2?arguments[2]:void 0)}});A(K,"ArrayBuffer"),A(at,"DataView"),P.exports={ArrayBuffer:K,DataView:at}},function(P,q){var r=Math.abs,x=Math.pow,C=Math.floor,m=Math.log,d=Math.LN2;P.exports={pack:function(i,o,l){var p,E,g,v=new Array(l),S=8*l-o-1,f=(1<<S)-1,a=f>>1,_=23===o?x(2,-24)-x(2,-77):0,j=i<0||0===i&&1/i<0?1:0,A=0;for((i=r(i))!=i||i===1/0?(E=i!=i?1:0,p=f):(p=C(m(i)/d),i*(g=x(2,-p))<1&&(p--,g*=2),(i+=p+a>=1?_/g:_*x(2,1-a))*g>=2&&(p++,g/=2),p+a>=f?(E=0,p=f):p+a>=1?(E=(i*g-1)*x(2,o),p+=a):(E=i*x(2,a-1)*x(2,o),p=0));o>=8;v[A++]=255&E,E/=256,o-=8);for(p=p<<o|E,S+=o;S>0;v[A++]=255&p,p/=256,S-=8);return v[--A]|=128*j,v},unpack:function(i,o){var l,p=i.length,E=8*p-o-1,g=(1<<E)-1,v=g>>1,S=E-7,f=p-1,a=i[f--],_=127&a;for(a>>=7;S>0;_=256*_+i[f],f--,S-=8);for(l=_&(1<<-S)-1,_>>=-S,S+=o;S>0;l=256*l+i[f],f--,S-=8);if(0===_)_=1-v;else{if(_===g)return l?NaN:a?-1/0:1/0;l+=x(2,o),_-=v}return(a?-1:1)*l*x(2,_-o)}}},function(P,q,r){"use strict";var x=r(23),C=r(76),m=r(19);P.exports=function(d){for(var i=x(this),o=m(i.length),l=arguments.length,p=C(l>1?arguments[1]:void 0,o),E=l>2?arguments[2]:void 0,g=void 0===E?o:C(E,o);g>p;)i[p++]=d;return i}},function(P,q,r){var x=r(146);P.exports=function(C,m){var d=x(C);if(d%m)throw RangeError("Wrong offset");return d}},function(P,q,r){var x=r(22);P.exports=function(C){var m=x(C);if(m<0)throw RangeError("The argument can't be less than 0");return m}},function(P,q,r){var x=r(23),C=r(19),m=r(47),d=r(86),i=r(46),o=r(62).aTypedArrayConstructor;P.exports=function(l){var p,E,g,v,S,f,a=x(l),_=arguments.length,j=_>1?arguments[1]:void 0,A=void 0!==j,e=m(a);if(null!=e&&!d(e))for(f=(S=e.call(a)).next,a=[];!(v=f.call(S)).done;)a.push(v.value);for(A&&_>2&&(j=i(j,arguments[2],2)),E=C(a.length),g=new(o(this))(E),p=0;E>p;p++)g[p]=A?j(a[p],p):a[p];return g}},function(P,q,r){var x=r(46),C=r(52),m=r(23),d=r(19),i=r(149),o=[].push,l=function(p){var E=1==p,g=2==p,v=3==p,S=4==p,f=6==p,a=5==p||f;return function(_,j,A,e){for(var T,R,W=m(_),K=C(W),at=x(j,A,3),rt=d(K.length),dt=0,St=e||i,_t=E?St(_,rt):g?St(_,0):void 0;rt>dt;dt++)if((a||dt in K)&&(R=at(T=K[dt],dt,W),p))if(E)_t[dt]=R;else if(R)switch(p){case 3:return!0;case 5:return T;case 6:return dt;case 2:o.call(_t,T)}else if(S)return!1;return f?-1:v||S?S:_t}};P.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},function(P,q,r){var x=r(15),C=r(150),m=r(5)("species");P.exports=function(d,i){var o;return C(d)&&("function"!=typeof(o=d.constructor)||o!==Array&&!C(o.prototype)?x(o)&&null===(o=o[m])&&(o=void 0):o=void 0),new(void 0===o?Array:o)(0===i?0:i)}},function(P,q,r){var x=r(38);P.exports=Array.isArray||function(C){return"Array"==x(C)}},function(P,q,r){"use strict";var x=r(42),C=r(16),m=r(5),d=r(12),i=m("species");P.exports=function(o){var l=x(o);d&&l&&!l[i]&&(0,C.f)(l,i,{configurable:!0,get:function(){return this}})}},function(P,q,r){var x=r(15),C=r(33);P.exports=function(m,d,i){var o,l;return C&&"function"==typeof(o=d.constructor)&&o!==i&&x(l=o.prototype)&&l!==i.prototype&&C(m,l),m}},function(P,q,r){"use strict";function x(C){return document.createElementNS("http://www.w3.org/2000/svg",C)}Object.defineProperty(q,"__esModule",{value:!0}),q.createElement=x,q.default={createElement:x}},function(P,q,r){"use strict";function x(d,i){function o(g){for(var v=i.length-1;v>=0;v--){var S=i[v],f=g.clientX,a=g.clientY;if(g.touches&&g.touches.length&&(f=g.touches[0].clientX,a=g.touches[0].clientY),m(S,d,f,a)){S.dispatchEvent(C(g));break}}}if("iframe"===d.nodeName||"IFRAME"===d.nodeName)try{this.target=d.contentDocument}catch{this.target=d}else this.target=d;for(var l=["mouseup","mousedown","click","touchstart"],p=0;p<l.length;p++)this.target.addEventListener(l[p],function(g){return o(g)},!1)}function C(d){var i=Object.assign({},d,{bubbles:!1});try{return new MouseEvent(d.type,i)}catch{var o=document.createEvent("MouseEvents");return o.initMouseEvent(d.type,!1,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget),o}}function m(d,i,o,l){var p=i.getBoundingClientRect();function E(f,a,_){var j=f.top-p.top,A=f.left-p.left;return j<=_&&A<=a&&j+f.height>_&&A+f.width>a}if(!E(d.getBoundingClientRect(),o,l))return!1;for(var g=d.getClientRects(),v=0,S=g.length;v<S;v++)if(E(g[v],o,l))return!0;return!1}Object.defineProperty(q,"__esModule",{value:!0}),q.proxyMouse=x,q.clone=C,q.default={proxyMouse:x}},function(P,q,r){var x=r(90);P.exports=function(){return x.Date.now()}},function(P,q,r){(function(x){P.exports="object"==typeof x&&x&&x.Object===Object&&x}).call(this,r(36))},function(P,q,r){var x=r(63),C=r(158),m=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;P.exports=function(p){if("number"==typeof p)return p;if(C(p))return NaN;if(x(p)){var E="function"==typeof p.valueOf?p.valueOf():p;p=x(E)?E+"":E}if("string"!=typeof p)return 0===p?p:+p;p=p.replace(m,"");var g=i.test(p);return g||o.test(p)?l(p.slice(2),g?2:8):d.test(p)?NaN:+p}},function(P,q,r){var x=r(159),C=r(162);P.exports=function(m){return"symbol"==typeof m||C(m)&&"[object Symbol]"==x(m)}},function(P,q,r){var x=r(91),C=r(160),m=r(161),d=x?x.toStringTag:void 0;P.exports=function(i){return null==i?void 0===i?"[object Undefined]":"[object Null]":d&&d in Object(i)?C(i):m(i)}},function(P,q,r){var x=r(91),C=Object.prototype,m=C.hasOwnProperty,d=C.toString,i=x?x.toStringTag:void 0;P.exports=function(o){var l=m.call(o,i),p=o[i];try{o[i]=void 0;var E=!0}catch{}var g=d.call(o);return E&&(l?o[i]=p:delete o[i]),g}},function(P,q){var r=Object.prototype.toString;P.exports=function(x){return r.call(x)}},function(P,q){P.exports=function(r){return null!=r&&"object"==typeof r}}]).default}),function(tt,oe){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=tt.document?oe(tt,!0):function(P){if(!P.document)throw new Error("jQuery requires a window with a document");return oe(P)}:oe(tt)}(typeof window<"u"?window:this,function(tt,oe){"use strict";var P=[],q=Object.getPrototypeOf,r=P.slice,x=P.flat?function(t){return P.flat.call(t)}:function(t){return P.concat.apply([],t)},C=P.push,m=P.indexOf,d={},i=d.toString,o=d.hasOwnProperty,l=o.toString,p=l.call(Object),E={},g=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},v=function(t){return null!=t&&t===t.window},S=tt.document,f={type:!0,src:!0,nonce:!0,noModule:!0};function a(t,n,h){var y,k,O=(h=h||S).createElement("script");if(O.text=t,n)for(y in f)(k=n[y]||n.getAttribute&&n.getAttribute(y))&&O.setAttribute(y,k);h.head.appendChild(O).parentNode.removeChild(O)}function _(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?d[i.call(t)]||"object":typeof t}var j="3.7.1",A=/HTML$/i,e=function(t,n){return new e.fn.init(t,n)};function T(t){var n=!!t&&"length"in t&&t.length,h=_(t);return!g(t)&&!v(t)&&("array"===h||0===n||"number"==typeof n&&0<n&&n-1 in t)}function R(t,n){return t.nodeName&&t.nodeName.toLowerCase()===n.toLowerCase()}e.fn=e.prototype={jquery:j,constructor:e,length:0,toArray:function(){return r.call(this)},get:function(t){return null==t?r.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var n=e.merge(this.constructor(),t);return n.prevObject=this,n},each:function(t){return e.each(this,t)},map:function(t){return this.pushStack(e.map(this,function(n,h){return t.call(n,h,n)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(e.grep(this,function(t,n){return(n+1)%2}))},odd:function(){return this.pushStack(e.grep(this,function(t,n){return n%2}))},eq:function(t){var n=this.length,h=+t+(t<0?n:0);return this.pushStack(0<=h&&h<n?[this[h]]:[])},end:function(){return this.prevObject||this.constructor()},push:C,sort:P.sort,splice:P.splice},e.extend=e.fn.extend=function(){var t,n,h,y,k,O,I=arguments[0]||{},G=1,X=arguments.length,et=!1;for("boolean"==typeof I&&(et=I,I=arguments[G]||{},G++),"object"==typeof I||g(I)||(I={}),G===X&&(I=this,G--);G<X;G++)if(null!=(t=arguments[G]))for(n in t)y=t[n],"__proto__"!==n&&I!==y&&(et&&y&&(e.isPlainObject(y)||(k=Array.isArray(y)))?(h=I[n],O=k&&!Array.isArray(h)?[]:k||e.isPlainObject(h)?h:{},k=!1,I[n]=e.extend(et,O,y)):void 0!==y&&(I[n]=y));return I},e.extend({expando:"jQuery"+(j+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var n,h;return!(!t||"[object Object]"!==i.call(t)||(n=q(t))&&("function"!=typeof(h=o.call(n,"constructor")&&n.constructor)||l.call(h)!==p))},isEmptyObject:function(t){var n;for(n in t)return!1;return!0},globalEval:function(t,n,h){a(t,{nonce:n&&n.nonce},h)},each:function(t,n){var h,y=0;if(T(t))for(h=t.length;y<h&&!1!==n.call(t[y],y,t[y]);y++);else for(y in t)if(!1===n.call(t[y],y,t[y]))break;return t},text:function(t){var n,h="",y=0,k=t.nodeType;if(!k)for(;n=t[y++];)h+=e.text(n);return 1===k||11===k?t.textContent:9===k?t.documentElement.textContent:3===k||4===k?t.nodeValue:h},makeArray:function(t,n){var h=n||[];return null!=t&&(T(Object(t))?e.merge(h,"string"==typeof t?[t]:t):C.call(h,t)),h},inArray:function(t,n,h){return null==n?-1:m.call(n,t,h)},isXMLDoc:function(t){var h=t&&(t.ownerDocument||t).documentElement;return!A.test(t&&t.namespaceURI||h&&h.nodeName||"HTML")},merge:function(t,n){for(var h=+n.length,y=0,k=t.length;y<h;y++)t[k++]=n[y];return t.length=k,t},grep:function(t,n,h){for(var y=[],k=0,O=t.length,I=!h;k<O;k++)!n(t[k],k)!==I&&y.push(t[k]);return y},map:function(t,n,h){var y,k,O=0,I=[];if(T(t))for(y=t.length;O<y;O++)null!=(k=n(t[O],O,h))&&I.push(k);else for(O in t)null!=(k=n(t[O],O,h))&&I.push(k);return x(I)},guid:1,support:E}),"function"==typeof Symbol&&(e.fn[Symbol.iterator]=P[Symbol.iterator]),e.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,n){d["[object "+n+"]"]=n.toLowerCase()});var W=P.pop,K=P.sort,at=P.splice,rt="[\\x20\\t\\r\\n\\f]",dt=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g");e.contains=function(t,n){var h=n&&n.parentNode;return t===h||!(!h||1!==h.nodeType||!(t.contains?t.contains(h):t.compareDocumentPosition&&16&t.compareDocumentPosition(h)))};var St=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function _t(t,n){return n?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}e.escapeSelector=function(t){return(t+"").replace(St,_t)};var qt=S,jt=C;!function(){var t,n,h,y,k,O,I,G,X,et,lt=jt,gt=e.expando,ot=0,wt=0,Yt=Se(),te=Se(),ee=Se(),Ee=Se(),Oe=function(U,J){return U===J&&(k=!0),0},Xe="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ye="(?:\\\\[\\da-fA-F]{1,6}"+rt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",he="\\["+rt+"*("+Ye+")(?:"+rt+"*([*^$|!~]?=)"+rt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Ye+"))|)"+rt+"*\\]",sn=":("+Ye+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+he+")*)|.*)\\)|)",ce=new RegExp(rt+"+","g"),xe=new RegExp("^"+rt+"*,"+rt+"*"),Tn=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),Xn=new RegExp(rt+"|>"),Ge=new RegExp(sn),_n=new RegExp("^"+Ye+"$"),$e={ID:new RegExp("^#("+Ye+")"),CLASS:new RegExp("^\\.("+Ye+")"),TAG:new RegExp("^("+Ye+"|[*])"),ATTR:new RegExp("^"+he),PSEUDO:new RegExp("^"+sn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:new RegExp("^(?:"+Xe+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},Je=/^(?:input|select|textarea|button)$/i,pn=/^h\d$/i,Be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ae=/[+~]/,_e=new RegExp("\\\\[\\da-fA-F]{1,6}"+rt+"?|\\\\([^\\r\\n\\f])","g"),Le=function(U,J){var ht="0x"+U.slice(1)-65536;return J||(ht<0?String.fromCharCode(ht+65536):String.fromCharCode(ht>>10|55296,1023&ht|56320))},Qe=function(){tn()},Pe=In(function(U){return!0===U.disabled&&R(U,"fieldset")},{dir:"parentNode",next:"legend"});try{lt.apply(P=r.call(qt.childNodes),qt.childNodes)}catch{lt={apply:function(J,ht){jt.apply(J,r.call(ht))},call:function(J){jt.apply(J,r.call(arguments,1))}}}function Kt(U,J,ht,ut){var bt,Ut,Wt,Xt,Ft,de,ne,re=J&&J.ownerDocument,le=J?J.nodeType:9;if(ht=ht||[],"string"!=typeof U||!U||1!==le&&9!==le&&11!==le)return ht;if(!ut&&(tn(J),J=J||O,G)){if(11!==le&&(Ft=Be.exec(U)))if(bt=Ft[1]){if(9===le){if(!(Wt=J.getElementById(bt)))return ht;if(Wt.id===bt)return lt.call(ht,Wt),ht}else if(re&&(Wt=re.getElementById(bt))&&Kt.contains(J,Wt)&&Wt.id===bt)return lt.call(ht,Wt),ht}else{if(Ft[2])return lt.apply(ht,J.getElementsByTagName(U)),ht;if((bt=Ft[3])&&J.getElementsByClassName)return lt.apply(ht,J.getElementsByClassName(bt)),ht}if(!(Ee[U+" "]||X&&X.test(U))){if(ne=U,re=J,1===le&&(Xn.test(U)||Tn.test(U))){for((re=Ae.test(U)&&Yn(J.parentNode)||J)==J&&E.scope||((Xt=J.getAttribute("id"))?Xt=e.escapeSelector(Xt):J.setAttribute("id",Xt=gt)),Ut=(de=Cn(U)).length;Ut--;)de[Ut]=(Xt?"#"+Xt:":scope")+" "+Nn(de[Ut]);ne=de.join(",")}try{return lt.apply(ht,re.querySelectorAll(ne)),ht}catch{Ee(U,!0)}finally{Xt===gt&&J.removeAttribute("id")}}}return fi(U.replace(dt,"$1"),J,ht,ut)}function Se(){var U=[];return function J(ht,ut){return U.push(ht+" ")>n.cacheLength&&delete J[U.shift()],J[ht+" "]=ut}}function Te(U){return U[gt]=!0,U}function ye(U){var J=O.createElement("fieldset");try{return!!U(J)}catch{return!1}finally{J.parentNode&&J.parentNode.removeChild(J),J=null}}function Ze(U){return function(J){return R(J,"input")&&J.type===U}}function gn(U){return function(J){return(R(J,"input")||R(J,"button"))&&J.type===U}}function Pn(U){return function(J){return"form"in J?J.parentNode&&!1===J.disabled?"label"in J?"label"in J.parentNode?J.parentNode.disabled===U:J.disabled===U:J.isDisabled===U||J.isDisabled!==!U&&Pe(J)===U:J.disabled===U:"label"in J&&J.disabled===U}}function on(U){return Te(function(J){return J=+J,Te(function(ht,ut){for(var bt,Ut=U([],ht.length,J),Wt=Ut.length;Wt--;)ht[bt=Ut[Wt]]&&(ht[bt]=!(ut[bt]=ht[bt]))})})}function Yn(U){return U&&typeof U.getElementsByTagName<"u"&&U}function tn(U){var J,ht=U?U.ownerDocument||U:qt;return ht!=O&&9===ht.nodeType&&ht.documentElement&&(I=(O=ht).documentElement,G=!e.isXMLDoc(O),et=I.matches||I.webkitMatchesSelector||I.msMatchesSelector,I.msMatchesSelector&&qt!=O&&(J=O.defaultView)&&J.top!==J&&J.addEventListener("unload",Qe),E.getById=ye(function(ut){return I.appendChild(ut).id=e.expando,!O.getElementsByName||!O.getElementsByName(e.expando).length}),E.disconnectedMatch=ye(function(ut){return et.call(ut,"*")}),E.scope=ye(function(){return O.querySelectorAll(":scope")}),E.cssHas=ye(function(){try{return O.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),E.getById?(n.filter.ID=function(ut){var bt=ut.replace(_e,Le);return function(Ut){return Ut.getAttribute("id")===bt}},n.find.ID=function(ut,bt){if(typeof bt.getElementById<"u"&&G){var Ut=bt.getElementById(ut);return Ut?[Ut]:[]}}):(n.filter.ID=function(ut){var bt=ut.replace(_e,Le);return function(Ut){var Wt=typeof Ut.getAttributeNode<"u"&&Ut.getAttributeNode("id");return Wt&&Wt.value===bt}},n.find.ID=function(ut,bt){if(typeof bt.getElementById<"u"&&G){var Ut,Wt,Xt,Ft=bt.getElementById(ut);if(Ft){if((Ut=Ft.getAttributeNode("id"))&&Ut.value===ut)return[Ft];for(Xt=bt.getElementsByName(ut),Wt=0;Ft=Xt[Wt++];)if((Ut=Ft.getAttributeNode("id"))&&Ut.value===ut)return[Ft]}return[]}}),n.find.TAG=function(ut,bt){return typeof bt.getElementsByTagName<"u"?bt.getElementsByTagName(ut):bt.querySelectorAll(ut)},n.find.CLASS=function(ut,bt){if(typeof bt.getElementsByClassName<"u"&&G)return bt.getElementsByClassName(ut)},X=[],ye(function(ut){var bt;I.appendChild(ut).innerHTML="<a id='"+gt+"' href='' disabled='disabled'></a><select id='"+gt+"-\r\\' disabled='disabled'><option selected=''></option></select>",ut.querySelectorAll("[selected]").length||X.push("\\["+rt+"*(?:value|"+Xe+")"),ut.querySelectorAll("[id~="+gt+"-]").length||X.push("~="),ut.querySelectorAll("a#"+gt+"+*").length||X.push(".#.+[+~]"),ut.querySelectorAll(":checked").length||X.push(":checked"),(bt=O.createElement("input")).setAttribute("type","hidden"),ut.appendChild(bt).setAttribute("name","D"),I.appendChild(ut).disabled=!0,2!==ut.querySelectorAll(":disabled").length&&X.push(":enabled",":disabled"),(bt=O.createElement("input")).setAttribute("name",""),ut.appendChild(bt),ut.querySelectorAll("[name='']").length||X.push("\\["+rt+"*name"+rt+"*="+rt+"*(?:''|\"\")")}),E.cssHas||X.push(":has"),X=X.length&&new RegExp(X.join("|")),Oe=function(ut,bt){if(ut===bt)return k=!0,0;var Ut=!ut.compareDocumentPosition-!bt.compareDocumentPosition;return Ut||(1&(Ut=(ut.ownerDocument||ut)==(bt.ownerDocument||bt)?ut.compareDocumentPosition(bt):1)||!E.sortDetached&&bt.compareDocumentPosition(ut)===Ut?ut===O||ut.ownerDocument==qt&&Kt.contains(qt,ut)?-1:bt===O||bt.ownerDocument==qt&&Kt.contains(qt,bt)?1:y?m.call(y,ut)-m.call(y,bt):0:4&Ut?-1:1)}),O}for(t in Kt.matches=function(U,J){return Kt(U,null,null,J)},Kt.matchesSelector=function(U,J){if(tn(U),G&&!Ee[J+" "]&&(!X||!X.test(J)))try{var ht=et.call(U,J);if(ht||E.disconnectedMatch||U.document&&11!==U.document.nodeType)return ht}catch{Ee(J,!0)}return 0<Kt(J,O,null,[U]).length},Kt.contains=function(U,J){return(U.ownerDocument||U)!=O&&tn(U),e.contains(U,J)},Kt.attr=function(U,J){(U.ownerDocument||U)!=O&&tn(U);var ht=n.attrHandle[J.toLowerCase()],ut=ht&&o.call(n.attrHandle,J.toLowerCase())?ht(U,J,!G):void 0;return void 0!==ut?ut:U.getAttribute(J)},Kt.error=function(U){throw new Error("Syntax error, unrecognized expression: "+U)},e.uniqueSort=function(U){var J,ht=[],ut=0,bt=0;if(k=!E.sortStable,y=!E.sortStable&&r.call(U,0),K.call(U,Oe),k){for(;J=U[bt++];)J===U[bt]&&(ut=ht.push(bt));for(;ut--;)at.call(U,ht[ut],1)}return y=null,U},e.fn.uniqueSort=function(){return this.pushStack(e.uniqueSort(r.apply(this)))},(n=e.expr={cacheLength:50,createPseudo:Te,match:$e,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(U){return U[1]=U[1].replace(_e,Le),U[3]=(U[3]||U[4]||U[5]||"").replace(_e,Le),"~="===U[2]&&(U[3]=" "+U[3]+" "),U.slice(0,4)},CHILD:function(U){return U[1]=U[1].toLowerCase(),"nth"===U[1].slice(0,3)?(U[3]||Kt.error(U[0]),U[4]=+(U[4]?U[5]+(U[6]||1):2*("even"===U[3]||"odd"===U[3])),U[5]=+(U[7]+U[8]||"odd"===U[3])):U[3]&&Kt.error(U[0]),U},PSEUDO:function(U){var J,ht=!U[6]&&U[2];return $e.CHILD.test(U[0])?null:(U[3]?U[2]=U[4]||U[5]||"":ht&&Ge.test(ht)&&(J=Cn(ht,!0))&&(J=ht.indexOf(")",ht.length-J)-ht.length)&&(U[0]=U[0].slice(0,J),U[2]=ht.slice(0,J)),U.slice(0,3))}},filter:{TAG:function(U){var J=U.replace(_e,Le).toLowerCase();return"*"===U?function(){return!0}:function(ht){return R(ht,J)}},CLASS:function(U){var J=Yt[U+" "];return J||(J=new RegExp("(^|"+rt+")"+U+"("+rt+"|$)"))&&Yt(U,function(ht){return J.test("string"==typeof ht.className&&ht.className||typeof ht.getAttribute<"u"&&ht.getAttribute("class")||"")})},ATTR:function(U,J,ht){return function(ut){var bt=Kt.attr(ut,U);return null==bt?"!="===J:!J||(bt+="","="===J?bt===ht:"!="===J?bt!==ht:"^="===J?ht&&0===bt.indexOf(ht):"*="===J?ht&&-1<bt.indexOf(ht):"$="===J?ht&&bt.slice(-ht.length)===ht:"~="===J?-1<(" "+bt.replace(ce," ")+" ").indexOf(ht):"|="===J&&(bt===ht||bt.slice(0,ht.length+1)===ht+"-"))}},CHILD:function(U,J,ht,ut,bt){var Ut="nth"!==U.slice(0,3),Wt="last"!==U.slice(-4),Xt="of-type"===J;return 1===ut&&0===bt?function(Ft){return!!Ft.parentNode}:function(Ft,de,ne){var re,le,Qt,Ce,Re,je=Ut!==Wt?"nextSibling":"previousSibling",De=Ft.parentNode,qe=Xt&&Ft.nodeName.toLowerCase(),He=!ne&&!Xt,be=!1;if(De){if(Ut){for(;je;){for(Qt=Ft;Qt=Qt[je];)if(Xt?R(Qt,qe):1===Qt.nodeType)return!1;Re=je="only"===U&&!Re&&"nextSibling"}return!0}if(Re=[Wt?De.firstChild:De.lastChild],Wt&&He){for(be=(Ce=(re=(le=De[gt]||(De[gt]={}))[U]||[])[0]===ot&&re[1])&&re[2],Qt=Ce&&De.childNodes[Ce];Qt=++Ce&&Qt&&Qt[je]||(be=Ce=0)||Re.pop();)if(1===Qt.nodeType&&++be&&Qt===Ft){le[U]=[ot,Ce,be];break}}else if(He&&(be=Ce=(re=(le=Ft[gt]||(Ft[gt]={}))[U]||[])[0]===ot&&re[1]),!1===be)for(;(Qt=++Ce&&Qt&&Qt[je]||(be=Ce=0)||Re.pop())&&(!(Xt?R(Qt,qe):1===Qt.nodeType)||!++be||(He&&((le=Qt[gt]||(Qt[gt]={}))[U]=[ot,be]),Qt!==Ft)););return(be-=bt)===ut||be%ut==0&&0<=be/ut}}},PSEUDO:function(U,J){var ht,ut=n.pseudos[U]||n.setFilters[U.toLowerCase()]||Kt.error("unsupported pseudo: "+U);return ut[gt]?ut(J):1<ut.length?(ht=[U,U,"",J],n.setFilters.hasOwnProperty(U.toLowerCase())?Te(function(bt,Ut){for(var Wt,Xt=ut(bt,J),Ft=Xt.length;Ft--;)bt[Wt=m.call(bt,Xt[Ft])]=!(Ut[Wt]=Xt[Ft])}):function(bt){return ut(bt,0,ht)}):ut}},pseudos:{not:Te(function(U){var J=[],ht=[],ut=$n(U.replace(dt,"$1"));return ut[gt]?Te(function(bt,Ut,Wt,Xt){for(var Ft,de=ut(bt,null,Xt,[]),ne=bt.length;ne--;)(Ft=de[ne])&&(bt[ne]=!(Ut[ne]=Ft))}):function(bt,Ut,Wt){return J[0]=bt,ut(J,null,Wt,ht),J[0]=null,!ht.pop()}}),has:Te(function(U){return function(J){return 0<Kt(U,J).length}}),contains:Te(function(U){return U=U.replace(_e,Le),function(J){return-1<(J.textContent||e.text(J)).indexOf(U)}}),lang:Te(function(U){return _n.test(U||"")||Kt.error("unsupported lang: "+U),U=U.replace(_e,Le).toLowerCase(),function(J){var ht;do{if(ht=G?J.lang:J.getAttribute("xml:lang")||J.getAttribute("lang"))return(ht=ht.toLowerCase())===U||0===ht.indexOf(U+"-")}while((J=J.parentNode)&&1===J.nodeType);return!1}}),target:function(U){var J=tt.location&&tt.location.hash;return J&&J.slice(1)===U.id},root:function(U){return U===I},focus:function(U){return U===function(){try{return O.activeElement}catch{}}()&&O.hasFocus()&&!!(U.type||U.href||~U.tabIndex)},enabled:Pn(!1),disabled:Pn(!0),checked:function(U){return R(U,"input")&&!!U.checked||R(U,"option")&&!!U.selected},selected:function(U){return!0===U.selected},empty:function(U){for(U=U.firstChild;U;U=U.nextSibling)if(U.nodeType<6)return!1;return!0},parent:function(U){return!n.pseudos.empty(U)},header:function(U){return pn.test(U.nodeName)},input:function(U){return Je.test(U.nodeName)},button:function(U){return R(U,"input")&&"button"===U.type||R(U,"button")},text:function(U){var J;return R(U,"input")&&"text"===U.type&&(null==(J=U.getAttribute("type"))||"text"===J.toLowerCase())},first:on(function(){return[0]}),last:on(function(U,J){return[J-1]}),eq:on(function(U,J,ht){return[ht<0?ht+J:ht]}),even:on(function(U,J){for(var ht=0;ht<J;ht+=2)U.push(ht);return U}),odd:on(function(U,J){for(var ht=1;ht<J;ht+=2)U.push(ht);return U}),lt:on(function(U,J,ht){var ut;for(ut=ht<0?ht+J:J<ht?J:ht;0<=--ut;)U.push(ut);return U}),gt:on(function(U,J,ht){for(var ut=ht<0?ht+J:ht;++ut<J;)U.push(ut);return U})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=Ze(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=gn(t);function di(){}function Cn(U,J){var ht,ut,bt,Ut,Wt,Xt,Ft,de=te[U+" "];if(de)return J?0:de.slice(0);for(Wt=U,Xt=[],Ft=n.preFilter;Wt;){for(Ut in ht&&!(ut=xe.exec(Wt))||(ut&&(Wt=Wt.slice(ut[0].length)||Wt),Xt.push(bt=[])),ht=!1,(ut=Tn.exec(Wt))&&(ht=ut.shift(),bt.push({value:ht,type:ut[0].replace(dt," ")}),Wt=Wt.slice(ht.length)),n.filter)!(ut=$e[Ut].exec(Wt))||Ft[Ut]&&!(ut=Ft[Ut](ut))||(ht=ut.shift(),bt.push({value:ht,type:Ut,matches:ut}),Wt=Wt.slice(ht.length));if(!ht)break}return J?Wt.length:Wt?Kt.error(U):te(U,Xt).slice(0)}function Nn(U){for(var J=0,ht=U.length,ut="";J<ht;J++)ut+=U[J].value;return ut}function In(U,J,ht){var ut=J.dir,bt=J.next,Ut=bt||ut,Wt=ht&&"parentNode"===Ut,Xt=wt++;return J.first?function(Ft,de,ne){for(;Ft=Ft[ut];)if(1===Ft.nodeType||Wt)return U(Ft,de,ne);return!1}:function(Ft,de,ne){var re,le,Qt=[ot,Xt];if(ne){for(;Ft=Ft[ut];)if((1===Ft.nodeType||Wt)&&U(Ft,de,ne))return!0}else for(;Ft=Ft[ut];)if(1===Ft.nodeType||Wt)if(le=Ft[gt]||(Ft[gt]={}),bt&&R(Ft,bt))Ft=Ft[ut]||Ft;else{if((re=le[Ut])&&re[0]===ot&&re[1]===Xt)return Qt[2]=re[2];if((le[Ut]=Qt)[2]=U(Ft,de,ne))return!0}return!1}}function Gn(U){return 1<U.length?function(J,ht,ut){for(var bt=U.length;bt--;)if(!U[bt](J,ht,ut))return!1;return!0}:U[0]}function Dn(U,J,ht,ut,bt){for(var Ut,Wt=[],Xt=0,Ft=U.length,de=null!=J;Xt<Ft;Xt++)(Ut=U[Xt])&&(ht&&!ht(Ut,ut,bt)||(Wt.push(Ut),de&&J.push(Xt)));return Wt}function Zn(U,J,ht,ut,bt,Ut){return ut&&!ut[gt]&&(ut=Zn(ut)),bt&&!bt[gt]&&(bt=Zn(bt,Ut)),Te(function(Wt,Xt,Ft,de){var ne,re,le,Qt,Ce=[],Re=[],je=Xt.length,De=Wt||function(He,be,an){for(var Ve=0,zn=be.length;Ve<zn;Ve++)Kt(He,be[Ve],an);return an}(J||"*",Ft.nodeType?[Ft]:Ft,[]),qe=!U||!Wt&&J?De:Dn(De,Ce,U,Ft,de);if(ht?ht(qe,Qt=bt||(Wt?U:je||ut)?[]:Xt,Ft,de):Qt=qe,ut)for(ne=Dn(Qt,Re),ut(ne,[],Ft,de),re=ne.length;re--;)(le=ne[re])&&(Qt[Re[re]]=!(qe[Re[re]]=le));if(Wt){if(bt||U){if(bt){for(ne=[],re=Qt.length;re--;)(le=Qt[re])&&ne.push(qe[re]=le);bt(null,Qt=[],ne,de)}for(re=Qt.length;re--;)(le=Qt[re])&&-1<(ne=bt?m.call(Wt,le):Ce[re])&&(Wt[ne]=!(Xt[ne]=le))}}else Qt=Dn(Qt===Xt?Qt.splice(je,Qt.length):Qt),bt?bt(null,Xt,Qt,de):lt.apply(Xt,Qt)})}function Kn(U){for(var J,ht,ut,bt=U.length,Ut=n.relative[U[0].type],Wt=Ut||n.relative[" "],Xt=Ut?1:0,Ft=In(function(re){return re===J},Wt,!0),de=In(function(re){return-1<m.call(J,re)},Wt,!0),ne=[function(re,le,Qt){var Ce=!Ut&&(Qt||le!=h)||((J=le).nodeType?Ft(re,le,Qt):de(re,le,Qt));return J=null,Ce}];Xt<bt;Xt++)if(ht=n.relative[U[Xt].type])ne=[In(Gn(ne),ht)];else{if((ht=n.filter[U[Xt].type].apply(null,U[Xt].matches))[gt]){for(ut=++Xt;ut<bt&&!n.relative[U[ut].type];ut++);return Zn(1<Xt&&Gn(ne),1<Xt&&Nn(U.slice(0,Xt-1).concat({value:" "===U[Xt-2].type?"*":""})).replace(dt,"$1"),ht,Xt<ut&&Kn(U.slice(Xt,ut)),ut<bt&&Kn(U=U.slice(ut)),ut<bt&&Nn(U))}ne.push(ht)}return Gn(ne)}function $n(U,J){var ht,ut,bt,Ut,Wt,Xt,Ft=[],de=[],ne=ee[U+" "];if(!ne){for(J||(J=Cn(U)),ht=J.length;ht--;)(ne=Kn(J[ht]))[gt]?Ft.push(ne):de.push(ne);(ne=ee(U,(ut=de,Ut=0<(bt=Ft).length,Wt=0<ut.length,Xt=function(re,le,Qt,Ce,Re){var je,De,qe,He=0,be="0",an=re&&[],Ve=[],zn=h,pi=re||Wt&&n.find.TAG("*",Re),gi=ot+=null==zn?1:Math.random()||.1,Ni=pi.length;for(Re&&(h=le==O||le||Re);be!==Ni&&null!=(je=pi[be]);be++){if(Wt&&je){for(De=0,le||je.ownerDocument==O||(tn(je),Qt=!G);qe=ut[De++];)if(qe(je,le||O,Qt)){lt.call(Ce,je);break}Re&&(ot=gi)}Ut&&((je=!qe&&je)&&He--,re&&an.push(je))}if(He+=be,Ut&&be!==He){for(De=0;qe=bt[De++];)qe(an,Ve,le,Qt);if(re){if(0<He)for(;be--;)an[be]||Ve[be]||(Ve[be]=W.call(Ce));Ve=Dn(Ve)}lt.apply(Ce,Ve),Re&&!re&&0<Ve.length&&1<He+bt.length&&e.uniqueSort(Ce)}return Re&&(ot=gi,h=zn),an},Ut?Te(Xt):Xt))).selector=U}return ne}function fi(U,J,ht,ut){var bt,Ut,Wt,Xt,Ft,de="function"==typeof U&&U,ne=!ut&&Cn(U=de.selector||U);if(ht=ht||[],1===ne.length){if(2<(Ut=ne[0]=ne[0].slice(0)).length&&"ID"===(Wt=Ut[0]).type&&9===J.nodeType&&G&&n.relative[Ut[1].type]){if(!(J=(n.find.ID(Wt.matches[0].replace(_e,Le),J)||[])[0]))return ht;de&&(J=J.parentNode),U=U.slice(Ut.shift().value.length)}for(bt=$e.needsContext.test(U)?0:Ut.length;bt--&&!n.relative[Xt=(Wt=Ut[bt]).type];)if((Ft=n.find[Xt])&&(ut=Ft(Wt.matches[0].replace(_e,Le),Ae.test(Ut[0].type)&&Yn(J.parentNode)||J))){if(Ut.splice(bt,1),!(U=ut.length&&Nn(Ut)))return lt.apply(ht,ut),ht;break}}return(de||$n(U,ne))(ut,J,!G,ht,!J||Ae.test(U)&&Yn(J.parentNode)||J),ht}di.prototype=n.filters=n.pseudos,n.setFilters=new di,E.sortStable=gt.split("").sort(Oe).join("")===gt,tn(),E.sortDetached=ye(function(U){return 1&U.compareDocumentPosition(O.createElement("fieldset"))}),e.find=Kt,e.expr[":"]=e.expr.pseudos,e.unique=e.uniqueSort,Kt.compile=$n,Kt.select=fi,Kt.setDocument=tn,Kt.tokenize=Cn,Kt.escape=e.escapeSelector,Kt.getText=e.text,Kt.isXML=e.isXMLDoc,Kt.selectors=e.expr,Kt.support=e.support,Kt.uniqueSort=e.uniqueSort}();var c=function(t,n,h){for(var y=[],k=void 0!==h;(t=t[n])&&9!==t.nodeType;)if(1===t.nodeType){if(k&&e(t).is(h))break;y.push(t)}return y},u=function(t,n){for(var h=[];t;t=t.nextSibling)1===t.nodeType&&t!==n&&h.push(t);return h},D=e.expr.match.needsContext,M=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function H(t,n,h){return g(n)?e.grep(t,function(y,k){return!!n.call(y,k,y)!==h}):n.nodeType?e.grep(t,function(y){return y===n!==h}):"string"!=typeof n?e.grep(t,function(y){return-1<m.call(n,y)!==h}):e.filter(n,t,h)}e.filter=function(t,n,h){var y=n[0];return h&&(t=":not("+t+")"),1===n.length&&1===y.nodeType?e.find.matchesSelector(y,t)?[y]:[]:e.find.matches(t,e.grep(n,function(k){return 1===k.nodeType}))},e.fn.extend({find:function(t){var n,h,y=this.length,k=this;if("string"!=typeof t)return this.pushStack(e(t).filter(function(){for(n=0;n<y;n++)if(e.contains(k[n],this))return!0}));for(h=this.pushStack([]),n=0;n<y;n++)e.find(t,k[n],h);return 1<y?e.uniqueSort(h):h},filter:function(t){return this.pushStack(H(this,t||[],!1))},not:function(t){return this.pushStack(H(this,t||[],!0))},is:function(t){return!!H(this,"string"==typeof t&&D.test(t)?e(t):t||[],!1).length}});var nt,kt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(e.fn.init=function(t,n,h){var y,k;if(!t)return this;if(h=h||nt,"string"==typeof t){if(!(y="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:kt.exec(t))||!y[1]&&n)return!n||n.jquery?(n||h).find(t):this.constructor(n).find(t);if(y[1]){if(e.merge(this,e.parseHTML(y[1],(n=n instanceof e?n[0]:n)&&n.nodeType?n.ownerDocument||n:S,!0)),M.test(y[1])&&e.isPlainObject(n))for(y in n)g(this[y])?this[y](n[y]):this.attr(y,n[y]);return this}return(k=S.getElementById(y[2]))&&(this[0]=k,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):g(t)?void 0!==h.ready?h.ready(t):t(e):e.makeArray(t,this)}).prototype=e.fn,nt=e(S);var Tt=/^(?:parents|prev(?:Until|All))/,Lt={children:!0,contents:!0,next:!0,prev:!0};function Vt(t,n){for(;(t=t[n])&&1!==t.nodeType;);return t}e.fn.extend({has:function(t){var n=e(t,this),h=n.length;return this.filter(function(){for(var y=0;y<h;y++)if(e.contains(this,n[y]))return!0})},closest:function(t,n){var h,y=0,k=this.length,O=[],I="string"!=typeof t&&e(t);if(!D.test(t))for(;y<k;y++)for(h=this[y];h&&h!==n;h=h.parentNode)if(h.nodeType<11&&(I?-1<I.index(h):1===h.nodeType&&e.find.matchesSelector(h,t))){O.push(h);break}return this.pushStack(1<O.length?e.uniqueSort(O):O)},index:function(t){return t?"string"==typeof t?m.call(e(t),this[0]):m.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,n){return this.pushStack(e.uniqueSort(e.merge(this.get(),e(t,n))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),e.each({parent:function(t){var n=t.parentNode;return n&&11!==n.nodeType?n:null},parents:function(t){return c(t,"parentNode")},parentsUntil:function(t,n,h){return c(t,"parentNode",h)},next:function(t){return Vt(t,"nextSibling")},prev:function(t){return Vt(t,"previousSibling")},nextAll:function(t){return c(t,"nextSibling")},prevAll:function(t){return c(t,"previousSibling")},nextUntil:function(t,n,h){return c(t,"nextSibling",h)},prevUntil:function(t,n,h){return c(t,"previousSibling",h)},siblings:function(t){return u((t.parentNode||{}).firstChild,t)},children:function(t){return u(t.firstChild)},contents:function(t){return null!=t.contentDocument&&q(t.contentDocument)?t.contentDocument:(R(t,"template")&&(t=t.content||t),e.merge([],t.childNodes))}},function(t,n){e.fn[t]=function(h,y){var k=e.map(this,n,h);return"Until"!==t.slice(-5)&&(y=h),y&&"string"==typeof y&&(k=e.filter(y,k)),1<this.length&&(Lt[t]||e.uniqueSort(k),Tt.test(t)&&k.reverse()),this.pushStack(k)}});var Ht=/[^\x20\t\r\n\f]+/g;function Ot(t){return t}function At(t){throw t}function b(t,n,h,y){var k;try{t&&g(k=t.promise)?k.call(t).done(n).fail(h):t&&g(k=t.then)?k.call(t,n,h):n.apply(void 0,[t].slice(y))}catch(O){h.apply(void 0,[O])}}e.Callbacks=function(t){var h;t="string"==typeof t?(h={},e.each(t.match(Ht)||[],function(ot,wt){h[wt]=!0}),h):e.extend({},t);var y,k,O,I,G=[],X=[],et=-1,lt=function(){for(I=I||t.once,O=y=!0;X.length;et=-1)for(k=X.shift();++et<G.length;)!1===G[et].apply(k[0],k[1])&&t.stopOnFalse&&(et=G.length,k=!1);t.memory||(k=!1),y=!1,I&&(G=k?[]:"")},gt={add:function(){return G&&(k&&!y&&(et=G.length-1,X.push(k)),function ot(wt){e.each(wt,function(Yt,te){g(te)?t.unique&&gt.has(te)||G.push(te):te&&te.length&&"string"!==_(te)&&ot(te)})}(arguments),k&&!y&&lt()),this},remove:function(){return e.each(arguments,function(ot,wt){for(var Yt;-1<(Yt=e.inArray(wt,G,Yt));)G.splice(Yt,1),Yt<=et&&et--}),this},has:function(ot){return ot?-1<e.inArray(ot,G):0<G.length},empty:function(){return G&&(G=[]),this},disable:function(){return I=X=[],G=k="",this},disabled:function(){return!G},lock:function(){return I=X=[],k||y||(G=k=""),this},locked:function(){return!!I},fireWith:function(ot,wt){return I||(wt=[ot,(wt=wt||[]).slice?wt.slice():wt],X.push(wt),y||lt()),this},fire:function(){return gt.fireWith(this,arguments),this},fired:function(){return!!O}};return gt},e.extend({Deferred:function(t){var n=[["notify","progress",e.Callbacks("memory"),e.Callbacks("memory"),2],["resolve","done",e.Callbacks("once memory"),e.Callbacks("once memory"),0,"resolved"],["reject","fail",e.Callbacks("once memory"),e.Callbacks("once memory"),1,"rejected"]],h="pending",y={state:function(){return h},always:function(){return k.done(arguments).fail(arguments),this},catch:function(O){return y.then(null,O)},pipe:function(){var O=arguments;return e.Deferred(function(I){e.each(n,function(G,X){var et=g(O[X[4]])&&O[X[4]];k[X[1]](function(){var lt=et&&et.apply(this,arguments);lt&&g(lt.promise)?lt.promise().progress(I.notify).done(I.resolve).fail(I.reject):I[X[0]+"With"](this,et?[lt]:arguments)})}),O=null}).promise()},then:function(O,I,G){var X=0;function et(lt,gt,ot,wt){return function(){var Yt=this,te=arguments,ee=function(){var Oe,Xe;if(!(lt<X)){if((Oe=ot.apply(Yt,te))===gt.promise())throw new TypeError("Thenable self-resolution");g(Xe=Oe&&("object"==typeof Oe||"function"==typeof Oe)&&Oe.then)?wt?Xe.call(Oe,et(X,gt,Ot,wt),et(X,gt,At,wt)):(X++,Xe.call(Oe,et(X,gt,Ot,wt),et(X,gt,At,wt),et(X,gt,Ot,gt.notifyWith))):(ot!==Ot&&(Yt=void 0,te=[Oe]),(wt||gt.resolveWith)(Yt,te))}},Ee=wt?ee:function(){try{ee()}catch(Oe){e.Deferred.exceptionHook&&e.Deferred.exceptionHook(Oe,Ee.error),X<=lt+1&&(ot!==At&&(Yt=void 0,te=[Oe]),gt.rejectWith(Yt,te))}};lt?Ee():(e.Deferred.getErrorHook?Ee.error=e.Deferred.getErrorHook():e.Deferred.getStackHook&&(Ee.error=e.Deferred.getStackHook()),tt.setTimeout(Ee))}}return e.Deferred(function(lt){n[0][3].add(et(0,lt,g(G)?G:Ot,lt.notifyWith)),n[1][3].add(et(0,lt,g(O)?O:Ot)),n[2][3].add(et(0,lt,g(I)?I:At))}).promise()},promise:function(O){return null!=O?e.extend(O,y):y}},k={};return e.each(n,function(O,I){var G=I[2],X=I[5];y[I[1]]=G.add,X&&G.add(function(){h=X},n[3-O][2].disable,n[3-O][3].disable,n[0][2].lock,n[0][3].lock),G.add(I[3].fire),k[I[0]]=function(){return k[I[0]+"With"](this===k?void 0:this,arguments),this},k[I[0]+"With"]=G.fireWith}),y.promise(k),t&&t.call(k,k),k},when:function(t){var n=arguments.length,h=n,y=Array(h),k=r.call(arguments),O=e.Deferred(),I=function(G){return function(X){y[G]=this,k[G]=1<arguments.length?r.call(arguments):X,--n||O.resolveWith(y,k)}};if(n<=1&&(b(t,O.done(I(h)).resolve,O.reject,!n),"pending"===O.state()||g(k[h]&&k[h].then)))return O.then();for(;h--;)b(k[h],I(h),O.reject);return O.promise()}});var s=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;e.Deferred.exceptionHook=function(t,n){tt.console&&tt.console.warn&&t&&s.test(t.name)&&tt.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},e.readyException=function(t){tt.setTimeout(function(){throw t})};var w=e.Deferred();function N(){S.removeEventListener("DOMContentLoaded",N),tt.removeEventListener("load",N),e.ready()}e.fn.ready=function(t){return w.then(t).catch(function(n){e.readyException(n)}),this},e.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--e.readyWait:e.isReady)||(e.isReady=!0)!==t&&0<--e.readyWait||w.resolveWith(S,[e])}}),e.ready.then=w.then,"complete"===S.readyState||"loading"!==S.readyState&&!S.documentElement.doScroll?tt.setTimeout(e.ready):(S.addEventListener("DOMContentLoaded",N),tt.addEventListener("load",N));var z=function(t,n,h,y,k,O,I){var G=0,X=t.length,et=null==h;if("object"===_(h))for(G in k=!0,h)z(t,n,G,h[G],!0,O,I);else if(void 0!==y&&(k=!0,g(y)||(I=!0),et&&(I?(n.call(t,y),n=null):(et=n,n=function(lt,gt,ot){return et.call(e(lt),ot)})),n))for(;G<X;G++)n(t[G],h,I?y:y.call(t[G],G,n(t[G],h)));return k?t:et?n.call(t):X?n(t[0],h):O},$=/^-ms-/,it=/-([a-z])/g;function vt(t,n){return n.toUpperCase()}function Et(t){return t.replace($,"ms-").replace(it,vt)}var Mt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function $t(){this.expando=e.expando+$t.uid++}$t.uid=1,$t.prototype={cache:function(t){var n=t[this.expando];return n||(n={},Mt(t)&&(t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,configurable:!0}))),n},set:function(t,n,h){var y,k=this.cache(t);if("string"==typeof n)k[Et(n)]=h;else for(y in n)k[Et(y)]=n[y];return k},get:function(t,n){return void 0===n?this.cache(t):t[this.expando]&&t[this.expando][Et(n)]},access:function(t,n,h){return void 0===n||n&&"string"==typeof n&&void 0===h?this.get(t,n):(this.set(t,n,h),void 0!==h?h:n)},remove:function(t,n){var h,y=t[this.expando];if(void 0!==y){if(void 0!==n)for((h=(n=Array.isArray(n)?n.map(Et):(n=Et(n))in y?[n]:n.match(Ht)||[]).length);h--;)delete y[n[h]];(void 0===n||e.isEmptyObject(y))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var n=t[this.expando];return void 0!==n&&!e.isEmptyObject(n)}};var Ct=new $t,zt=new $t,se=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,L=/[A-Z]/g;function B(t,n,h){var y,k;if(void 0===h&&1===t.nodeType)if(y="data-"+n.replace(L,"-$&").toLowerCase(),"string"==typeof(h=t.getAttribute(y))){try{h="true"===(k=h)||"false"!==k&&("null"===k?null:k===+k+""?+k:se.test(k)?JSON.parse(k):k)}catch{}zt.set(t,n,h)}else h=void 0;return h}e.extend({hasData:function(t){return zt.hasData(t)||Ct.hasData(t)},data:function(t,n,h){return zt.access(t,n,h)},removeData:function(t,n){zt.remove(t,n)},_data:function(t,n,h){return Ct.access(t,n,h)},_removeData:function(t,n){Ct.remove(t,n)}}),e.fn.extend({data:function(t,n){var h,y,k,O=this[0],I=O&&O.attributes;if(void 0===t){if(this.length&&(k=zt.get(O),1===O.nodeType&&!Ct.get(O,"hasDataAttrs"))){for(h=I.length;h--;)I[h]&&0===(y=I[h].name).indexOf("data-")&&(y=Et(y.slice(5)),B(O,y,k[y]));Ct.set(O,"hasDataAttrs",!0)}return k}return"object"==typeof t?this.each(function(){zt.set(this,t)}):z(this,function(G){var X;if(O&&void 0===G)return void 0!==(X=zt.get(O,t))||void 0!==(X=B(O,t))?X:void 0;this.each(function(){zt.set(this,t,G)})},null,n,1<arguments.length,null,!0)},removeData:function(t){return this.each(function(){zt.remove(this,t)})}}),e.extend({queue:function(t,n,h){var y;if(t)return y=Ct.get(t,n=(n||"fx")+"queue"),h&&(!y||Array.isArray(h)?y=Ct.access(t,n,e.makeArray(h)):y.push(h)),y||[]},dequeue:function(t,n){var h=e.queue(t,n=n||"fx"),y=h.length,k=h.shift(),O=e._queueHooks(t,n);"inprogress"===k&&(k=h.shift(),y--),k&&("fx"===n&&h.unshift("inprogress"),delete O.stop,k.call(t,function(){e.dequeue(t,n)},O)),!y&&O&&O.empty.fire()},_queueHooks:function(t,n){var h=n+"queueHooks";return Ct.get(t,h)||Ct.access(t,h,{empty:e.Callbacks("once memory").add(function(){Ct.remove(t,[n+"queue",h])})})}}),e.fn.extend({queue:function(t,n){var h=2;return"string"!=typeof t&&(n=t,t="fx",h--),arguments.length<h?e.queue(this[0],t):void 0===n?this:this.each(function(){var y=e.queue(this,t,n);e._queueHooks(this,t),"fx"===t&&"inprogress"!==y[0]&&e.dequeue(this,t)})},dequeue:function(t){return this.each(function(){e.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){var h,y=1,k=e.Deferred(),O=this,I=this.length,G=function(){--y||k.resolveWith(O,[O])};for("string"!=typeof t&&(n=t,t=void 0),t=t||"fx";I--;)(h=Ct.get(O[I],t+"queueHooks"))&&h.empty&&(y++,h.empty.add(G));return G(),k.promise(n)}});var F=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Y=new RegExp("^(?:([+-])=|)("+F+")([a-z%]*)$","i"),Z=["Top","Right","Bottom","Left"],Q=S.documentElement,st=function(t){return e.contains(t.ownerDocument,t)},ct={composed:!0};Q.getRootNode&&(st=function(t){return e.contains(t.ownerDocument,t)||t.getRootNode(ct)===t.ownerDocument});var ft=function(t,n){return"none"===(t=n||t).style.display||""===t.style.display&&st(t)&&"none"===e.css(t,"display")};function mt(t,n,h,y){var k,O,I=20,G=y?function(){return y.cur()}:function(){return e.css(t,n,"")},X=G(),et=h&&h[3]||(e.cssNumber[n]?"":"px"),lt=t.nodeType&&(e.cssNumber[n]||"px"!==et&&+X)&&Y.exec(e.css(t,n));if(lt&&lt[3]!==et){for(et=et||lt[3],lt=+(X/=2)||1;I--;)e.style(t,n,lt+et),(1-O)*(1-(O=G()/X||.5))<=0&&(I=0),lt/=O;e.style(t,n,(lt*=2)+et),h=h||[]}return h&&(lt=+lt||+X||0,k=h[1]?lt+(h[1]+1)*h[2]:+h[2],y&&(y.unit=et,y.start=lt,y.end=k)),k}var Rt={};function Nt(t,n){for(var h,y,k,O,I,G,X,et=[],lt=0,gt=t.length;lt<gt;lt++)(y=t[lt]).style&&(h=y.style.display,n?("none"===h&&(et[lt]=Ct.get(y,"display")||null,et[lt]||(y.style.display="")),""===y.style.display&&ft(y)&&(et[lt]=(X=I=O=void 0,I=(k=y).ownerDocument,(X=Rt[G=k.nodeName])||(O=I.body.appendChild(I.createElement(G)),X=e.css(O,"display"),O.parentNode.removeChild(O),"none"===X&&(X="block"),Rt[G]=X)))):"none"!==h&&(et[lt]="none",Ct.set(y,"display",h)));for(lt=0;lt<gt;lt++)null!=et[lt]&&(t[lt].style.display=et[lt]);return t}e.fn.extend({show:function(){return Nt(this,!0)},hide:function(){return Nt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){ft(this)?e(this).show():e(this).hide()})}});var Pt,Gt,Bt=/^(?:checkbox|radio)$/i,ie=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ge=/^$|^module$|\/(?:java|ecma)script/i;Pt=S.createDocumentFragment().appendChild(S.createElement("div")),(Gt=S.createElement("input")).setAttribute("type","radio"),Gt.setAttribute("checked","checked"),Gt.setAttribute("name","t"),Pt.appendChild(Gt),E.checkClone=Pt.cloneNode(!0).cloneNode(!0).lastChild.checked,Pt.innerHTML="<textarea>x</textarea>",E.noCloneChecked=!!Pt.cloneNode(!0).lastChild.defaultValue,Pt.innerHTML="<option></option>",E.option=!!Pt.lastChild;var ue={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(t,n){var h;return h=typeof t.getElementsByTagName<"u"?t.getElementsByTagName(n||"*"):typeof t.querySelectorAll<"u"?t.querySelectorAll(n||"*"):[],void 0===n||n&&R(t,n)?e.merge([t],h):h}function ke(t,n){for(var h=0,y=t.length;h<y;h++)Ct.set(t[h],"globalEval",!n||Ct.get(n[h],"globalEval"))}ue.tbody=ue.tfoot=ue.colgroup=ue.caption=ue.thead,ue.th=ue.td,E.option||(ue.optgroup=ue.option=[1,"<select multiple='multiple'>","</select>"]);var ze=/<|&#?\w+;/;function Fe(t,n,h,y,k){for(var O,I,G,X,et,lt,gt=n.createDocumentFragment(),ot=[],wt=0,Yt=t.length;wt<Yt;wt++)if((O=t[wt])||0===O)if("object"===_(O))e.merge(ot,O.nodeType?[O]:O);else if(ze.test(O)){for(I=I||gt.appendChild(n.createElement("div")),G=(ie.exec(O)||["",""])[1].toLowerCase(),I.innerHTML=(X=ue[G]||ue._default)[1]+e.htmlPrefilter(O)+X[2],lt=X[0];lt--;)I=I.lastChild;e.merge(ot,I.childNodes),(I=gt.firstChild).textContent=""}else ot.push(n.createTextNode(O));for(gt.textContent="",wt=0;O=ot[wt++];)if(y&&-1<e.inArray(O,y))k&&k.push(O);else if(et=st(O),I=me(gt.appendChild(O),"script"),et&&ke(I),h)for(lt=0;O=I[lt++];)ge.test(O.type||"")&&h.push(O);return gt}var Me=/^([^.]*)(?:\.(.+)|)/;function Ne(){return!0}function Ke(){return!1}function hn(t,n,h,y,k,O){var I,G;if("object"==typeof n){for(G in"string"!=typeof h&&(y=y||h,h=void 0),n)hn(t,G,h,y,n[G],O);return t}if(null==y&&null==k?(k=h,y=h=void 0):null==k&&("string"==typeof h?(k=y,y=void 0):(k=y,y=h,h=void 0)),!1===k)k=Ke;else if(!k)return t;return 1===O&&(I=k,(k=function(X){return e().off(X),I.apply(this,arguments)}).guid=I.guid||(I.guid=e.guid++)),t.each(function(){e.event.add(this,n,k,y,h)})}function en(t,n,h){h?(Ct.set(t,n,!1),e.event.add(t,n,{namespace:!1,handler:function(y){var k,O=Ct.get(this,n);if(1&y.isTrigger&&this[n]){if(O)(e.event.special[n]||{}).delegateType&&y.stopPropagation();else if(O=r.call(arguments),Ct.set(this,n,O),this[n](),k=Ct.get(this,n),Ct.set(this,n,!1),O!==k)return y.stopImmediatePropagation(),y.preventDefault(),k}else O&&(Ct.set(this,n,e.event.trigger(O[0],O.slice(1),this)),y.stopPropagation(),y.isImmediatePropagationStopped=Ne)}})):void 0===Ct.get(t,n)&&e.event.add(t,n,Ne)}e.event={global:{},add:function(t,n,h,y,k){var O,I,G,X,et,lt,gt,ot,wt,Yt,te,ee=Ct.get(t);if(Mt(t))for(h.handler&&(h=(O=h).handler,k=O.selector),k&&e.find.matchesSelector(Q,k),h.guid||(h.guid=e.guid++),(X=ee.events)||(X=ee.events=Object.create(null)),(I=ee.handle)||(I=ee.handle=function(Ee){return typeof e<"u"&&e.event.triggered!==Ee.type?e.event.dispatch.apply(t,arguments):void 0}),et=(n=(n||"").match(Ht)||[""]).length;et--;)wt=te=(G=Me.exec(n[et])||[])[1],Yt=(G[2]||"").split(".").sort(),wt&&(gt=e.event.special[wt]||{},gt=e.event.special[wt=(k?gt.delegateType:gt.bindType)||wt]||{},lt=e.extend({type:wt,origType:te,data:y,handler:h,guid:h.guid,selector:k,needsContext:k&&e.expr.match.needsContext.test(k),namespace:Yt.join(".")},O),(ot=X[wt])||((ot=X[wt]=[]).delegateCount=0,gt.setup&&!1!==gt.setup.call(t,y,Yt,I)||t.addEventListener&&t.addEventListener(wt,I)),gt.add&&(gt.add.call(t,lt),lt.handler.guid||(lt.handler.guid=h.guid)),k?ot.splice(ot.delegateCount++,0,lt):ot.push(lt),e.event.global[wt]=!0)},remove:function(t,n,h,y,k){var O,I,G,X,et,lt,gt,ot,wt,Yt,te,ee=Ct.hasData(t)&&Ct.get(t);if(ee&&(X=ee.events)){for(et=(n=(n||"").match(Ht)||[""]).length;et--;)if(wt=te=(G=Me.exec(n[et])||[])[1],Yt=(G[2]||"").split(".").sort(),wt){for(gt=e.event.special[wt]||{},ot=X[wt=(y?gt.delegateType:gt.bindType)||wt]||[],G=G[2]&&new RegExp("(^|\\.)"+Yt.join("\\.(?:.*\\.|)")+"(\\.|$)"),I=O=ot.length;O--;)lt=ot[O],!k&&te!==lt.origType||h&&h.guid!==lt.guid||G&&!G.test(lt.namespace)||y&&y!==lt.selector&&("**"!==y||!lt.selector)||(ot.splice(O,1),lt.selector&&ot.delegateCount--,gt.remove&&gt.remove.call(t,lt));I&&!ot.length&&(gt.teardown&&!1!==gt.teardown.call(t,Yt,ee.handle)||e.removeEvent(t,wt,ee.handle),delete X[wt])}else for(wt in X)e.event.remove(t,wt+n[et],h,y,!0);e.isEmptyObject(X)&&Ct.remove(t,"handle events")}},dispatch:function(t){var n,h,y,k,O,I,G=new Array(arguments.length),X=e.event.fix(t),et=(Ct.get(this,"events")||Object.create(null))[X.type]||[],lt=e.event.special[X.type]||{};for(G[0]=X,n=1;n<arguments.length;n++)G[n]=arguments[n];if(X.delegateTarget=this,!lt.preDispatch||!1!==lt.preDispatch.call(this,X)){for(I=e.event.handlers.call(this,X,et),n=0;(k=I[n++])&&!X.isPropagationStopped();)for(X.currentTarget=k.elem,h=0;(O=k.handlers[h++])&&!X.isImmediatePropagationStopped();)X.rnamespace&&!1!==O.namespace&&!X.rnamespace.test(O.namespace)||(X.handleObj=O,X.data=O.data,void 0!==(y=((e.event.special[O.origType]||{}).handle||O.handler).apply(k.elem,G))&&!1===(X.result=y)&&(X.preventDefault(),X.stopPropagation()));return lt.postDispatch&&lt.postDispatch.call(this,X),X.result}},handlers:function(t,n){var h,y,k,O,I,G=[],X=n.delegateCount,et=t.target;if(X&&et.nodeType&&!("click"===t.type&&1<=t.button))for(;et!==this;et=et.parentNode||this)if(1===et.nodeType&&("click"!==t.type||!0!==et.disabled)){for(O=[],I={},h=0;h<X;h++)void 0===I[k=(y=n[h]).selector+" "]&&(I[k]=y.needsContext?-1<e(k,this).index(et):e.find(k,this,null,[et]).length),I[k]&&O.push(y);O.length&&G.push({elem:et,handlers:O})}return et=this,X<n.length&&G.push({elem:et,handlers:n.slice(X)}),G},addProp:function(t,n){Object.defineProperty(e.Event.prototype,t,{enumerable:!0,configurable:!0,get:g(n)?function(){if(this.originalEvent)return n(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(h){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:h})}})},fix:function(t){return t[e.expando]?t:new e.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var n=this||t;return Bt.test(n.type)&&n.click&&R(n,"input")&&en(n,"click",!0),!1},trigger:function(t){var n=this||t;return Bt.test(n.type)&&n.click&&R(n,"input")&&en(n,"click"),!0},_default:function(t){var n=t.target;return Bt.test(n.type)&&n.click&&R(n,"input")&&Ct.get(n,"click")||R(n,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},e.removeEvent=function(t,n,h){t.removeEventListener&&t.removeEventListener(n,h)},e.Event=function(t,n){if(!(this instanceof e.Event))return new e.Event(t,n);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Ne:Ke,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,n&&e.extend(this,n),this.timeStamp=t&&t.timeStamp||Date.now(),this[e.expando]=!0},e.Event.prototype={constructor:e.Event,isDefaultPrevented:Ke,isPropagationStopped:Ke,isImmediatePropagationStopped:Ke,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Ne,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Ne,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Ne,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},e.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},e.event.addProp),e.each({focus:"focusin",blur:"focusout"},function(t,n){function h(y){if(S.documentMode){var k=Ct.get(this,"handle"),O=e.event.fix(y);O.type="focusin"===y.type?"focus":"blur",O.isSimulated=!0,k(y),O.target===O.currentTarget&&k(O)}else e.event.simulate(n,y.target,e.event.fix(y))}e.event.special[t]={setup:function(){var y;if(en(this,t,!0),!S.documentMode)return!1;(y=Ct.get(this,n))||this.addEventListener(n,h),Ct.set(this,n,(y||0)+1)},trigger:function(){return en(this,t),!0},teardown:function(){var y;if(!S.documentMode)return!1;(y=Ct.get(this,n)-1)?Ct.set(this,n,y):(this.removeEventListener(n,h),Ct.remove(this,n))},_default:function(y){return Ct.get(y.target,t)},delegateType:n},e.event.special[n]={setup:function(){var y=this.ownerDocument||this.document||this,k=S.documentMode?this:y,O=Ct.get(k,n);O||(S.documentMode?this.addEventListener(n,h):y.addEventListener(t,h,!0)),Ct.set(k,n,(O||0)+1)},teardown:function(){var y=this.ownerDocument||this.document||this,k=S.documentMode?this:y,O=Ct.get(k,n)-1;O?Ct.set(k,n,O):(S.documentMode?this.removeEventListener(n,h):y.removeEventListener(t,h,!0),Ct.remove(k,n))}}}),e.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,n){e.event.special[t]={delegateType:n,bindType:n,handle:function(h){var y,k=h.relatedTarget,O=h.handleObj;return k&&(k===this||e.contains(this,k))||(h.type=O.origType,y=O.handler.apply(this,arguments),h.type=n),y}}}),e.fn.extend({on:function(t,n,h,y){return hn(this,t,n,h,y)},one:function(t,n,h,y){return hn(this,t,n,h,y,1)},off:function(t,n,h){var y,k;if(t&&t.preventDefault&&t.handleObj)return y=t.handleObj,e(t.delegateTarget).off(y.namespace?y.origType+"."+y.namespace:y.origType,y.selector,y.handler),this;if("object"==typeof t){for(k in t)this.off(k,n,t[k]);return this}return!1!==n&&"function"!=typeof n||(h=n,n=void 0),!1===h&&(h=Ke),this.each(function(){e.event.remove(this,t,h,n)})}});var kn=/<script|<style|<link/i,On=/checked\s*(?:[^=]|=\s*.checked.)/i,An=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function vn(t,n){return R(t,"table")&&R(11!==n.nodeType?n:n.firstChild,"tr")&&e(t).children("tbody")[0]||t}function Ie(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function jn(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function mn(t,n){var h,y,k,O,I,G;if(1===n.nodeType){if(Ct.hasData(t)&&(G=Ct.get(t).events))for(k in Ct.remove(n,"handle events"),G)for(h=0,y=G[k].length;h<y;h++)e.event.add(n,k,G[k][h]);zt.hasData(t)&&(O=zt.access(t),I=e.extend({},O),zt.set(n,I))}}function V(t,n,h,y){n=x(n);var k,O,I,G,X,et,lt=0,gt=t.length,ot=gt-1,wt=n[0],Yt=g(wt);if(Yt||1<gt&&"string"==typeof wt&&!E.checkClone&&On.test(wt))return t.each(function(te){var ee=t.eq(te);Yt&&(n[0]=wt.call(this,te,ee.html())),V(ee,n,h,y)});if(gt&&(O=(k=Fe(n,t[0].ownerDocument,!1,t,y)).firstChild,1===k.childNodes.length&&(k=O),O||y)){for(G=(I=e.map(me(k,"script"),Ie)).length;lt<gt;lt++)X=k,lt!==ot&&(X=e.clone(X,!0,!0),G&&e.merge(I,me(X,"script"))),h.call(t[lt],X,lt);if(G)for(et=I[I.length-1].ownerDocument,e.map(I,jn),lt=0;lt<G;lt++)ge.test((X=I[lt]).type||"")&&!Ct.access(X,"globalEval")&&e.contains(et,X)&&(X.src&&"module"!==(X.type||"").toLowerCase()?e._evalUrl&&!X.noModule&&e._evalUrl(X.src,{nonce:X.nonce||X.getAttribute("nonce")},et):a(X.textContent.replace(An,""),X,et))}return t}function xt(t,n,h){for(var y,k=n?e.filter(n,t):t,O=0;null!=(y=k[O]);O++)h||1!==y.nodeType||e.cleanData(me(y)),y.parentNode&&(h&&st(y)&&ke(me(y,"script")),y.parentNode.removeChild(y));return t}e.extend({htmlPrefilter:function(t){return t},clone:function(t,n,h){var y,k,O,I,G,X,et,lt=t.cloneNode(!0),gt=st(t);if(!(E.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||e.isXMLDoc(t)))for(I=me(lt),y=0,k=(O=me(t)).length;y<k;y++)G=O[y],"input"===(et=(X=I[y]).nodeName.toLowerCase())&&Bt.test(G.type)?X.checked=G.checked:"input"!==et&&"textarea"!==et||(X.defaultValue=G.defaultValue);if(n)if(h)for(O=O||me(t),I=I||me(lt),y=0,k=O.length;y<k;y++)mn(O[y],I[y]);else mn(t,lt);return 0<(I=me(lt,"script")).length&&ke(I,!gt&&me(t,"script")),lt},cleanData:function(t){for(var n,h,y,k=e.event.special,O=0;void 0!==(h=t[O]);O++)if(Mt(h)){if(n=h[Ct.expando]){if(n.events)for(y in n.events)k[y]?e.event.remove(h,y):e.removeEvent(h,y,n.handle);h[Ct.expando]=void 0}h[zt.expando]&&(h[zt.expando]=void 0)}}}),e.fn.extend({detach:function(t){return xt(this,t,!0)},remove:function(t){return xt(this,t)},text:function(t){return z(this,function(n){return void 0===n?e.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=n)})},null,t,arguments.length)},append:function(){return V(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||vn(this,t).appendChild(t)})},prepend:function(){return V(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var n=vn(this,t);n.insertBefore(t,n.firstChild)}})},before:function(){return V(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return V(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,n=0;null!=(t=this[n]);n++)1===t.nodeType&&(e.cleanData(me(t,!1)),t.textContent="");return this},clone:function(t,n){return t=null!=t&&t,n=n??t,this.map(function(){return e.clone(this,t,n)})},html:function(t){return z(this,function(n){var h=this[0]||{},y=0,k=this.length;if(void 0===n&&1===h.nodeType)return h.innerHTML;if("string"==typeof n&&!kn.test(n)&&!ue[(ie.exec(n)||["",""])[1].toLowerCase()]){n=e.htmlPrefilter(n);try{for(;y<k;y++)1===(h=this[y]||{}).nodeType&&(e.cleanData(me(h,!1)),h.innerHTML=n);h=0}catch{}}h&&this.empty().append(n)},null,t,arguments.length)},replaceWith:function(){var t=[];return V(this,arguments,function(n){var h=this.parentNode;e.inArray(this,t)<0&&(e.cleanData(me(this)),h&&h.replaceChild(n,this))},t)}}),e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,n){e.fn[t]=function(h){for(var y,k=[],O=e(h),I=O.length-1,G=0;G<=I;G++)y=G===I?this:this.clone(!0),e(O[G])[n](y),C.apply(k,y.get());return this.pushStack(k)}});var It=new RegExp("^("+F+")(?!px)[a-z%]+$","i"),pt=/^--/,Jt=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=tt),n.getComputedStyle(t)},yt=function(t,n,h){var y,k,O={};for(k in n)O[k]=t.style[k],t.style[k]=n[k];for(k in y=h.call(t),n)t.style[k]=O[k];return y},fe=new RegExp(Z.join("|"),"i");function pe(t,n,h){var y,k,O,I,G=pt.test(n),X=t.style;return(h=h||Jt(t))&&(I=h.getPropertyValue(n)||h[n],G&&I&&(I=I.replace(dt,"$1")||void 0),""!==I||st(t)||(I=e.style(t,n)),!E.pixelBoxStyles()&&It.test(I)&&fe.test(n)&&(y=X.width,k=X.minWidth,O=X.maxWidth,X.minWidth=X.maxWidth=X.width=I,I=h.width,X.width=y,X.minWidth=k,X.maxWidth=O)),void 0!==I?I+"":I}function ae(t,n){return{get:function(){if(!t())return(this.get=n).apply(this,arguments);delete this.get}}}!function(){function t(){if(et){X.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",et.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Q.appendChild(X).appendChild(et);var lt=tt.getComputedStyle(et);h="1%"!==lt.top,G=12===n(lt.marginLeft),et.style.right="60%",O=36===n(lt.right),y=36===n(lt.width),et.style.position="absolute",k=12===n(et.offsetWidth/3),Q.removeChild(X),et=null}}function n(lt){return Math.round(parseFloat(lt))}var h,y,k,O,I,G,X=S.createElement("div"),et=S.createElement("div");et.style&&(et.style.backgroundClip="content-box",et.cloneNode(!0).style.backgroundClip="",E.clearCloneStyle="content-box"===et.style.backgroundClip,e.extend(E,{boxSizingReliable:function(){return t(),y},pixelBoxStyles:function(){return t(),O},pixelPosition:function(){return t(),h},reliableMarginLeft:function(){return t(),G},scrollboxSize:function(){return t(),k},reliableTrDimensions:function(){var lt,gt,ot,wt;return null==I&&(lt=S.createElement("table"),gt=S.createElement("tr"),ot=S.createElement("div"),lt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",gt.style.cssText="box-sizing:content-box;border:1px solid",gt.style.height="1px",ot.style.height="9px",ot.style.display="block",Q.appendChild(lt).appendChild(gt).appendChild(ot),wt=tt.getComputedStyle(gt),I=parseInt(wt.height,10)+parseInt(wt.borderTopWidth,10)+parseInt(wt.borderBottomWidth,10)===gt.offsetHeight,Q.removeChild(lt)),I}}))}();var Dt=["Webkit","Moz","ms"],ve=S.createElement("div").style,Zt={};function we(t){return e.cssProps[t]||Zt[t]||(t in ve?t:Zt[t]=function(h){for(var y=h[0].toUpperCase()+h.slice(1),k=Dt.length;k--;)if((h=Dt[k]+y)in ve)return h}(t)||t)}var yn=/^(none|table(?!-c[ea]).+)/,bn={position:"absolute",visibility:"hidden",display:"block"},ln={letterSpacing:"0",fontWeight:"400"};function wn(t,n,h){var y=Y.exec(n);return y?Math.max(0,y[2]-(h||0))+(y[3]||"px"):n}function un(t,n,h,y,k,O){var I="width"===n?1:0,G=0,X=0,et=0;if(h===(y?"border":"content"))return 0;for(;I<4;I+=2)"margin"===h&&(et+=e.css(t,h+Z[I],!0,k)),y?("content"===h&&(X-=e.css(t,"padding"+Z[I],!0,k)),"margin"!==h&&(X-=e.css(t,"border"+Z[I]+"Width",!0,k))):(X+=e.css(t,"padding"+Z[I],!0,k),"padding"!==h?X+=e.css(t,"border"+Z[I]+"Width",!0,k):G+=e.css(t,"border"+Z[I]+"Width",!0,k));return!y&&0<=O&&(X+=Math.max(0,Math.ceil(t["offset"+n[0].toUpperCase()+n.slice(1)]-O-X-G-.5))||0),X+et}function cn(t,n,h){var y=Jt(t),k=(!E.boxSizingReliable()||h)&&"border-box"===e.css(t,"boxSizing",!1,y),O=k,I=pe(t,n,y),G="offset"+n[0].toUpperCase()+n.slice(1);if(It.test(I)){if(!h)return I;I="auto"}return(!E.boxSizingReliable()&&k||!E.reliableTrDimensions()&&R(t,"tr")||"auto"===I||!parseFloat(I)&&"inline"===e.css(t,"display",!1,y))&&t.getClientRects().length&&(k="border-box"===e.css(t,"boxSizing",!1,y),(O=G in t)&&(I=t[G])),(I=parseFloat(I)||0)+un(t,n,h||(k?"border":"content"),O,y,I)+"px"}function Ue(t,n,h,y,k){return new Ue.prototype.init(t,n,h,y,k)}e.extend({cssHooks:{opacity:{get:function(t,n){if(n){var h=pe(t,"opacity");return""===h?"1":h}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,n,h,y){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var k,O,I,G=Et(n),X=pt.test(n),et=t.style;if(X||(n=we(G)),I=e.cssHooks[n]||e.cssHooks[G],void 0===h)return I&&"get"in I&&void 0!==(k=I.get(t,!1,y))?k:et[n];"string"==(O=typeof h)&&(k=Y.exec(h))&&k[1]&&(h=mt(t,n,k),O="number"),null!=h&&h==h&&("number"!==O||X||(h+=k&&k[3]||(e.cssNumber[G]?"":"px")),E.clearCloneStyle||""!==h||0!==n.indexOf("background")||(et[n]="inherit"),I&&"set"in I&&void 0===(h=I.set(t,h,y))||(X?et.setProperty(n,h):et[n]=h))}},css:function(t,n,h,y){var k,O,I,G=Et(n);return pt.test(n)||(n=we(G)),(I=e.cssHooks[n]||e.cssHooks[G])&&"get"in I&&(k=I.get(t,!0,h)),void 0===k&&(k=pe(t,n,y)),"normal"===k&&n in ln&&(k=ln[n]),""===h||h?(O=parseFloat(k),!0===h||isFinite(O)?O||0:k):k}}),e.each(["height","width"],function(t,n){e.cssHooks[n]={get:function(h,y,k){if(y)return!yn.test(e.css(h,"display"))||h.getClientRects().length&&h.getBoundingClientRect().width?cn(h,n,k):yt(h,bn,function(){return cn(h,n,k)})},set:function(h,y,k){var O,I=Jt(h),G=!E.scrollboxSize()&&"absolute"===I.position,X=(G||k)&&"border-box"===e.css(h,"boxSizing",!1,I),et=k?un(h,n,k,X,I):0;return X&&G&&(et-=Math.ceil(h["offset"+n[0].toUpperCase()+n.slice(1)]-parseFloat(I[n])-un(h,n,"border",!1,I)-.5)),et&&(O=Y.exec(y))&&"px"!==(O[3]||"px")&&(h.style[n]=y,y=e.css(h,n)),wn(0,y,et)}}}),e.cssHooks.marginLeft=ae(E.reliableMarginLeft,function(t,n){if(n)return(parseFloat(pe(t,"marginLeft"))||t.getBoundingClientRect().left-yt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),e.each({margin:"",padding:"",border:"Width"},function(t,n){e.cssHooks[t+n]={expand:function(h){for(var y=0,k={},O="string"==typeof h?h.split(" "):[h];y<4;y++)k[t+Z[y]+n]=O[y]||O[y-2]||O[0];return k}},"margin"!==t&&(e.cssHooks[t+n].set=wn)}),e.fn.extend({css:function(t,n){return z(this,function(h,y,k){var O,I,G={},X=0;if(Array.isArray(y)){for(O=Jt(h),I=y.length;X<I;X++)G[y[X]]=e.css(h,y[X],!1,O);return G}return void 0!==k?e.style(h,y,k):e.css(h,y)},t,n,1<arguments.length)}}),((e.Tween=Ue).prototype={constructor:Ue,init:function(t,n,h,y,k,O){this.elem=t,this.prop=h,this.easing=k||e.easing._default,this.options=n,this.start=this.now=this.cur(),this.end=y,this.unit=O||(e.cssNumber[h]?"":"px")},cur:function(){var t=Ue.propHooks[this.prop];return t&&t.get?t.get(this):Ue.propHooks._default.get(this)},run:function(t){var n,h=Ue.propHooks[this.prop];return this.pos=n=this.options.duration?e.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*n+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),h&&h.set?h.set(this):Ue.propHooks._default.set(this),this}}).init.prototype=Ue.prototype,(Ue.propHooks={_default:{get:function(t){var n;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(n=e.css(t.elem,t.prop,""))&&"auto"!==n?n:0},set:function(t){e.fx.step[t.prop]?e.fx.step[t.prop](t):1!==t.elem.nodeType||!e.cssHooks[t.prop]&&null==t.elem.style[we(t.prop)]?t.elem[t.prop]=t.now:e.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=Ue.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},e.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},e.fx=Ue.prototype.init,e.fx.step={};var dn,Rn,fn,Jn,vi=/^(?:toggle|show|hide)$/,mi=/queueHooks$/;function Mn(){Rn&&(!1===S.hidden&&tt.requestAnimationFrame?tt.requestAnimationFrame(Mn):tt.setTimeout(Mn,e.fx.interval),e.fx.tick())}function Qn(){return tt.setTimeout(function(){dn=void 0}),dn=Date.now()}function Ln(t,n){var h,y=0,k={height:t};for(n=n?1:0;y<4;y+=2-n)k["margin"+(h=Z[y])]=k["padding"+h]=t;return n&&(k.opacity=k.width=t),k}function ti(t,n,h){for(var y,k=(We.tweeners[n]||[]).concat(We.tweeners["*"]),O=0,I=k.length;O<I;O++)if(y=k[O].call(h,n,t))return y}function We(t,n,h){var y,k,O=0,I=We.prefilters.length,G=e.Deferred().always(function(){delete X.elem}),X=function(){if(k)return!1;for(var gt=dn||Qn(),ot=Math.max(0,et.startTime+et.duration-gt),wt=1-(ot/et.duration||0),Yt=0,te=et.tweens.length;Yt<te;Yt++)et.tweens[Yt].run(wt);return G.notifyWith(t,[et,wt,ot]),wt<1&&te?ot:(te||G.notifyWith(t,[et,1,0]),G.resolveWith(t,[et]),!1)},et=G.promise({elem:t,props:e.extend({},n),opts:e.extend(!0,{specialEasing:{},easing:e.easing._default},h),originalProperties:n,originalOptions:h,startTime:dn||Qn(),duration:h.duration,tweens:[],createTween:function(gt,ot){var wt=e.Tween(t,et.opts,gt,ot,et.opts.specialEasing[gt]||et.opts.easing);return et.tweens.push(wt),wt},stop:function(gt){var ot=0,wt=gt?et.tweens.length:0;if(k)return this;for(k=!0;ot<wt;ot++)et.tweens[ot].run(1);return gt?(G.notifyWith(t,[et,1,0]),G.resolveWith(t,[et,gt])):G.rejectWith(t,[et,gt]),this}}),lt=et.props;for(function(gt,ot){var wt,Yt,te,ee,Ee;for(wt in gt)if(te=ot[Yt=Et(wt)],ee=gt[wt],Array.isArray(ee)&&(te=ee[1],ee=gt[wt]=ee[0]),wt!==Yt&&(gt[Yt]=ee,delete gt[wt]),(Ee=e.cssHooks[Yt])&&"expand"in Ee)for(wt in ee=Ee.expand(ee),delete gt[Yt],ee)wt in gt||(gt[wt]=ee[wt],ot[wt]=te);else ot[Yt]=te}(lt,et.opts.specialEasing);O<I;O++)if(y=We.prefilters[O].call(et,t,lt,et.opts))return g(y.stop)&&(e._queueHooks(et.elem,et.opts.queue).stop=y.stop.bind(y)),y;return e.map(lt,ti,et),g(et.opts.start)&&et.opts.start.call(t,et),et.progress(et.opts.progress).done(et.opts.done,et.opts.complete).fail(et.opts.fail).always(et.opts.always),e.fx.timer(e.extend(X,{elem:t,anim:et,queue:et.opts.queue})),et}e.Animation=e.extend(We,{tweeners:{"*":[function(t,n){var h=this.createTween(t,n);return mt(h.elem,t,Y.exec(n),h),h}]},tweener:function(t,n){g(t)?(n=t,t=["*"]):t=t.match(Ht);for(var h,y=0,k=t.length;y<k;y++)(We.tweeners[h=t[y]]=We.tweeners[h]||[]).unshift(n)},prefilters:[function(t,n,h){var y,k,O,I,G,X,et,lt,gt="width"in n||"height"in n,ot=this,wt={},Yt=t.style,te=t.nodeType&&ft(t),ee=Ct.get(t,"fxshow");for(y in h.queue||(null==(I=e._queueHooks(t,"fx")).unqueued&&(I.unqueued=0,G=I.empty.fire,I.empty.fire=function(){I.unqueued||G()}),I.unqueued++,ot.always(function(){ot.always(function(){I.unqueued--,e.queue(t,"fx").length||I.empty.fire()})})),n)if(vi.test(k=n[y])){if(delete n[y],O=O||"toggle"===k,k===(te?"hide":"show")){if("show"!==k||!ee||void 0===ee[y])continue;te=!0}wt[y]=ee&&ee[y]||e.style(t,y)}if((X=!e.isEmptyObject(n))||!e.isEmptyObject(wt))for(y in gt&&1===t.nodeType&&(h.overflow=[Yt.overflow,Yt.overflowX,Yt.overflowY],null==(et=ee&&ee.display)&&(et=Ct.get(t,"display")),"none"===(lt=e.css(t,"display"))&&(et?lt=et:(Nt([t],!0),et=t.style.display||et,lt=e.css(t,"display"),Nt([t]))),("inline"===lt||"inline-block"===lt&&null!=et)&&"none"===e.css(t,"float")&&(X||(ot.done(function(){Yt.display=et}),null==et&&(et="none"===(lt=Yt.display)?"":lt)),Yt.display="inline-block")),h.overflow&&(Yt.overflow="hidden",ot.always(function(){Yt.overflow=h.overflow[0],Yt.overflowX=h.overflow[1],Yt.overflowY=h.overflow[2]})),X=!1,wt)X||(ee?"hidden"in ee&&(te=ee.hidden):ee=Ct.access(t,"fxshow",{display:et}),O&&(ee.hidden=!te),te&&Nt([t],!0),ot.done(function(){for(y in te||Nt([t]),Ct.remove(t,"fxshow"),wt)e.style(t,y,wt[y])})),X=ti(te?ee[y]:0,y,ot),y in ee||(ee[y]=X.start,te&&(X.end=X.start,X.start=0))}],prefilter:function(t,n){n?We.prefilters.unshift(t):We.prefilters.push(t)}}),e.speed=function(t,n,h){var y=t&&"object"==typeof t?e.extend({},t):{complete:h||!h&&n||g(t)&&t,duration:t,easing:h&&n||n&&!g(n)&&n};return e.fx.off?y.duration=0:"number"!=typeof y.duration&&(y.duration=y.duration in e.fx.speeds?e.fx.speeds[y.duration]:e.fx.speeds._default),null!=y.queue&&!0!==y.queue||(y.queue="fx"),y.old=y.complete,y.complete=function(){g(y.old)&&y.old.call(this),y.queue&&e.dequeue(this,y.queue)},y},e.fn.extend({fadeTo:function(t,n,h,y){return this.filter(ft).css("opacity",0).show().end().animate({opacity:n},t,h,y)},animate:function(t,n,h,y){var k=e.isEmptyObject(t),O=e.speed(n,h,y),I=function(){var G=We(this,e.extend({},t),O);(k||Ct.get(this,"finish"))&&G.stop(!0)};return I.finish=I,k||!1===O.queue?this.each(I):this.queue(O.queue,I)},stop:function(t,n,h){var y=function(k){var O=k.stop;delete k.stop,O(h)};return"string"!=typeof t&&(h=n,n=t,t=void 0),n&&this.queue(t||"fx",[]),this.each(function(){var k=!0,O=null!=t&&t+"queueHooks",I=e.timers,G=Ct.get(this);if(O)G[O]&&G[O].stop&&y(G[O]);else for(O in G)G[O]&&G[O].stop&&mi.test(O)&&y(G[O]);for(O=I.length;O--;)I[O].elem!==this||null!=t&&I[O].queue!==t||(I[O].anim.stop(h),k=!1,I.splice(O,1));!k&&h||e.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var n,h=Ct.get(this),y=h[t+"queue"],k=h[t+"queueHooks"],O=e.timers,I=y?y.length:0;for(h.finish=!0,e.queue(this,t,[]),k&&k.stop&&k.stop.call(this,!0),n=O.length;n--;)O[n].elem===this&&O[n].queue===t&&(O[n].anim.stop(!0),O.splice(n,1));for(n=0;n<I;n++)y[n]&&y[n].finish&&y[n].finish.call(this);delete h.finish})}}),e.each(["toggle","show","hide"],function(t,n){var h=e.fn[n];e.fn[n]=function(y,k,O){return null==y||"boolean"==typeof y?h.apply(this,arguments):this.animate(Ln(n,!0),y,k,O)}}),e.each({slideDown:Ln("show"),slideUp:Ln("hide"),slideToggle:Ln("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,n){e.fn[t]=function(h,y,k){return this.animate(n,h,y,k)}}),e.timers=[],e.fx.tick=function(){var t,n=0,h=e.timers;for(dn=Date.now();n<h.length;n++)(t=h[n])()||h[n]!==t||h.splice(n--,1);h.length||e.fx.stop(),dn=void 0},e.fx.timer=function(t){e.timers.push(t),e.fx.start()},e.fx.interval=13,e.fx.start=function(){Rn||(Rn=!0,Mn())},e.fx.stop=function(){Rn=null},e.fx.speeds={slow:600,fast:200,_default:400},e.fn.delay=function(t,n){return t=e.fx&&e.fx.speeds[t]||t,this.queue(n=n||"fx",function(h,y){var k=tt.setTimeout(h,t);y.stop=function(){tt.clearTimeout(k)}})},fn=S.createElement("input"),Jn=S.createElement("select").appendChild(S.createElement("option")),fn.type="checkbox",E.checkOn=""!==fn.value,E.optSelected=Jn.selected,(fn=S.createElement("input")).value="t",fn.type="radio",E.radioValue="t"===fn.value;var ei,xn=e.expr.attrHandle;e.fn.extend({attr:function(t,n){return z(this,e.attr,t,n,1<arguments.length)},removeAttr:function(t){return this.each(function(){e.removeAttr(this,t)})}}),e.extend({attr:function(t,n,h){var y,k,O=t.nodeType;if(3!==O&&8!==O&&2!==O)return typeof t.getAttribute>"u"?e.prop(t,n,h):(1===O&&e.isXMLDoc(t)||(k=e.attrHooks[n.toLowerCase()]||(e.expr.match.bool.test(n)?ei:void 0)),void 0!==h?null===h?void e.removeAttr(t,n):k&&"set"in k&&void 0!==(y=k.set(t,h,n))?y:(t.setAttribute(n,h+""),h):k&&"get"in k&&null!==(y=k.get(t,n))?y:null==(y=e.find.attr(t,n))?void 0:y)},attrHooks:{type:{set:function(t,n){if(!E.radioValue&&"radio"===n&&R(t,"input")){var h=t.value;return t.setAttribute("type",n),h&&(t.value=h),n}}}},removeAttr:function(t,n){var h,y=0,k=n&&n.match(Ht);if(k&&1===t.nodeType)for(;h=k[y++];)t.removeAttribute(h)}}),ei={set:function(t,n,h){return!1===n?e.removeAttr(t,h):t.setAttribute(h,h),h}},e.each(e.expr.match.bool.source.match(/\w+/g),function(t,n){var h=xn[n]||e.find.attr;xn[n]=function(y,k,O){var I,G,X=k.toLowerCase();return O||(G=xn[X],xn[X]=I,I=null!=h(y,k,O)?X:null,xn[X]=G),I}});var yi=/^(?:input|select|textarea|button)$/i,bi=/^(?:a|area)$/i;function nn(t){return(t.match(Ht)||[]).join(" ")}function rn(t){return t.getAttribute&&t.getAttribute("class")||""}function qn(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(Ht)||[]}e.fn.extend({prop:function(t,n){return z(this,e.prop,t,n,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[e.propFix[t]||t]})}}),e.extend({prop:function(t,n,h){var y,k,O=t.nodeType;if(3!==O&&8!==O&&2!==O)return 1===O&&e.isXMLDoc(t)||(k=e.propHooks[n=e.propFix[n]||n]),void 0!==h?k&&"set"in k&&void 0!==(y=k.set(t,h,n))?y:t[n]=h:k&&"get"in k&&null!==(y=k.get(t,n))?y:t[n]},propHooks:{tabIndex:{get:function(t){var n=e.find.attr(t,"tabindex");return n?parseInt(n,10):yi.test(t.nodeName)||bi.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),E.optSelected||(e.propHooks.selected={get:function(t){return null},set:function(t){}}),e.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){e.propFix[this.toLowerCase()]=this}),e.fn.extend({addClass:function(t){var n,h,y,k,O,I;return g(t)?this.each(function(G){e(this).addClass(t.call(this,G,rn(this)))}):(n=qn(t)).length?this.each(function(){if(y=rn(this),h=1===this.nodeType&&" "+nn(y)+" "){for(O=0;O<n.length;O++)h.indexOf(" "+(k=n[O])+" ")<0&&(h+=k+" ");I=nn(h),y!==I&&this.setAttribute("class",I)}}):this},removeClass:function(t){var n,h,y,k,O,I;return g(t)?this.each(function(G){e(this).removeClass(t.call(this,G,rn(this)))}):arguments.length?(n=qn(t)).length?this.each(function(){if(y=rn(this),h=1===this.nodeType&&" "+nn(y)+" "){for(O=0;O<n.length;O++)for(k=n[O];-1<h.indexOf(" "+k+" ");)h=h.replace(" "+k+" "," ");I=nn(h),y!==I&&this.setAttribute("class",I)}}):this:this.attr("class","")},toggleClass:function(t,n){var h,y,k,O,I=typeof t,G="string"===I||Array.isArray(t);return g(t)?this.each(function(X){e(this).toggleClass(t.call(this,X,rn(this),n),n)}):"boolean"==typeof n&&G?n?this.addClass(t):this.removeClass(t):(h=qn(t),this.each(function(){if(G)for(O=e(this),k=0;k<h.length;k++)O.hasClass(y=h[k])?O.removeClass(y):O.addClass(y);else void 0!==t&&"boolean"!==I||((y=rn(this))&&Ct.set(this,"__className__",y),this.setAttribute&&this.setAttribute("class",y||!1===t?"":Ct.get(this,"__className__")||""))}))},hasClass:function(t){var n,h,y=0;for(n=" "+t+" ";h=this[y++];)if(1===h.nodeType&&-1<(" "+nn(rn(h))+" ").indexOf(n))return!0;return!1}});var wi=/\r/g;e.fn.extend({val:function(t){var n,h,y,k=this[0];return arguments.length?(y=g(t),this.each(function(O){var I;1===this.nodeType&&(null==(I=y?t.call(this,O,e(this).val()):t)?I="":"number"==typeof I?I+="":Array.isArray(I)&&(I=e.map(I,function(G){return null==G?"":G+""})),(n=e.valHooks[this.type]||e.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,I,"value")||(this.value=I))})):k?(n=e.valHooks[k.type]||e.valHooks[k.nodeName.toLowerCase()])&&"get"in n&&void 0!==(h=n.get(k,"value"))?h:"string"==typeof(h=k.value)?h.replace(wi,""):h??"":void 0}}),e.extend({valHooks:{option:{get:function(t){return e.find.attr(t,"value")??nn(e.text(t))}},select:{get:function(t){var n,h,y,k=t.options,O=t.selectedIndex,I="select-one"===t.type,G=I?null:[],X=I?O+1:k.length;for(y=O<0?X:I?O:0;y<X;y++)if(((h=k[y]).selected||y===O)&&!h.disabled&&(!h.parentNode.disabled||!R(h.parentNode,"optgroup"))){if(n=e(h).val(),I)return n;G.push(n)}return G},set:function(t,n){for(var h,y,k=t.options,O=e.makeArray(n),I=k.length;I--;)((y=k[I]).selected=-1<e.inArray(e.valHooks.option.get(y),O))&&(h=!0);return h||(t.selectedIndex=-1),O}}}}),e.each(["radio","checkbox"],function(){e.valHooks[this]={set:function(t,n){if(Array.isArray(n))return t.checked=-1<e.inArray(e(t).val(),n)}},E.checkOn||(e.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var En=tt.location,ni={guid:Date.now()},Bn=/\?/;e.parseXML=function(t){var n,h;if(!t||"string"!=typeof t)return null;try{n=(new tt.DOMParser).parseFromString(t,"text/xml")}catch{}return h=n&&n.getElementsByTagName("parsererror")[0],n&&!h||e.error("Invalid XML: "+(h?e.map(h.childNodes,function(y){return y.textContent}).join("\n"):t)),n};var ii=/^(?:focusinfocus|focusoutblur)$/,ri=function(t){t.stopPropagation()};e.extend(e.event,{trigger:function(t,n,h,y){var k,O,I,G,X,et,lt,gt,ot=[h||S],wt=o.call(t,"type")?t.type:t,Yt=o.call(t,"namespace")?t.namespace.split("."):[];if(O=gt=I=h=h||S,3!==h.nodeType&&8!==h.nodeType&&!ii.test(wt+e.event.triggered)&&(-1<wt.indexOf(".")&&(wt=(Yt=wt.split(".")).shift(),Yt.sort()),X=wt.indexOf(":")<0&&"on"+wt,(t=t[e.expando]?t:new e.Event(wt,"object"==typeof t&&t)).isTrigger=y?2:3,t.namespace=Yt.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+Yt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=h),n=null==n?[t]:e.makeArray(n,[t]),lt=e.event.special[wt]||{},y||!lt.trigger||!1!==lt.trigger.apply(h,n))){if(!y&&!lt.noBubble&&!v(h)){for(ii.test((G=lt.delegateType||wt)+wt)||(O=O.parentNode);O;O=O.parentNode)ot.push(O),I=O;I===(h.ownerDocument||S)&&ot.push(I.defaultView||I.parentWindow||tt)}for(k=0;(O=ot[k++])&&!t.isPropagationStopped();)gt=O,t.type=1<k?G:lt.bindType||wt,(et=(Ct.get(O,"events")||Object.create(null))[t.type]&&Ct.get(O,"handle"))&&et.apply(O,n),(et=X&&O[X])&&et.apply&&Mt(O)&&(t.result=et.apply(O,n),!1===t.result&&t.preventDefault());return t.type=wt,y||t.isDefaultPrevented()||lt._default&&!1!==lt._default.apply(ot.pop(),n)||!Mt(h)||X&&g(h[wt])&&!v(h)&&((I=h[X])&&(h[X]=null),e.event.triggered=wt,t.isPropagationStopped()&&gt.addEventListener(wt,ri),h[wt](),t.isPropagationStopped()&&gt.removeEventListener(wt,ri),e.event.triggered=void 0,I&&(h[X]=I)),t.result}},simulate:function(t,n,h){var y=e.extend(new e.Event,h,{type:t,isSimulated:!0});e.event.trigger(y,null,n)}}),e.fn.extend({trigger:function(t,n){return this.each(function(){e.event.trigger(t,n,this)})},triggerHandler:function(t,n){var h=this[0];if(h)return e.event.trigger(t,n,h,!0)}});var xi=/\[\]$/,si=/\r?\n/g,Ei=/^(?:submit|button|image|reset|file)$/i,Si=/^(?:input|select|textarea|keygen)/i;function Fn(t,n,h,y){var k;if(Array.isArray(n))e.each(n,function(O,I){h||xi.test(t)?y(t,I):Fn(t+"["+("object"==typeof I&&null!=I?O:"")+"]",I,h,y)});else if(h||"object"!==_(n))y(t,n);else for(k in n)Fn(t+"["+k+"]",n[k],h,y)}e.param=function(t,n){var h,y=[],k=function(O,I){var G=g(I)?I():I;y[y.length]=encodeURIComponent(O)+"="+encodeURIComponent(G??"")};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!e.isPlainObject(t))e.each(t,function(){k(this.name,this.value)});else for(h in t)Fn(h,t[h],n,k);return y.join("&")},e.fn.extend({serialize:function(){return e.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=e.prop(this,"elements");return t?e.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!e(this).is(":disabled")&&Si.test(this.nodeName)&&!Ei.test(t)&&(this.checked||!Bt.test(t))}).map(function(t,n){var h=e(this).val();return null==h?null:Array.isArray(h)?e.map(h,function(y){return{name:n.name,value:y.replace(si,"\r\n")}}):{name:n.name,value:h.replace(si,"\r\n")}}).get()}});var Ti=/%20/g,_i=/#.*$/,Ci=/([?&])_=[^&]*/,ki=/^(.*?):[ \t]*([^\r\n]*)$/gm,Oi=/^(?:GET|HEAD)$/,Ai=/^\/\//,oi={},Un={},ai="*/".concat("*"),Wn=S.createElement("a");function hi(t){return function(n,h){"string"!=typeof n&&(h=n,n="*");var y,k=0,O=n.toLowerCase().match(Ht)||[];if(g(h))for(;y=O[k++];)"+"===y[0]?(y=y.slice(1)||"*",(t[y]=t[y]||[]).unshift(h)):(t[y]=t[y]||[]).push(h)}}function li(t,n,h,y){var k={},O=t===Un;function I(G){var X;return k[G]=!0,e.each(t[G]||[],function(et,lt){var gt=lt(n,h,y);return"string"!=typeof gt||O||k[gt]?O?!(X=gt):void 0:(n.dataTypes.unshift(gt),I(gt),!1)}),X}return I(n.dataTypes[0])||!k["*"]&&I("*")}function Hn(t,n){var h,y,k=e.ajaxSettings.flatOptions||{};for(h in n)void 0!==n[h]&&((k[h]?t:y||(y={}))[h]=n[h]);return y&&e.extend(!0,t,y),t}Wn.href=En.href,e.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:En.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(En.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ai,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":e.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,n){return n?Hn(Hn(t,e.ajaxSettings),n):Hn(e.ajaxSettings,t)},ajaxPrefilter:hi(oi),ajaxTransport:hi(Un),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0);var h,y,k,O,I,G,X,et,lt,gt,ot=e.ajaxSetup({},n=n||{}),wt=ot.context||ot,Yt=ot.context&&(wt.nodeType||wt.jquery)?e(wt):e.event,te=e.Deferred(),ee=e.Callbacks("once memory"),Ee=ot.statusCode||{},Oe={},Xe={},Ye="canceled",he={readyState:0,getResponseHeader:function(ce){var xe;if(X){if(!O)for(O={};xe=ki.exec(k);)O[xe[1].toLowerCase()+" "]=(O[xe[1].toLowerCase()+" "]||[]).concat(xe[2]);xe=O[ce.toLowerCase()+" "]}return null==xe?null:xe.join(", ")},getAllResponseHeaders:function(){return X?k:null},setRequestHeader:function(ce,xe){return null==X&&(ce=Xe[ce.toLowerCase()]=Xe[ce.toLowerCase()]||ce,Oe[ce]=xe),this},overrideMimeType:function(ce){return null==X&&(ot.mimeType=ce),this},statusCode:function(ce){var xe;if(ce)if(X)he.always(ce[he.status]);else for(xe in ce)Ee[xe]=[Ee[xe],ce[xe]];return this},abort:function(ce){var xe=ce||Ye;return h&&h.abort(xe),sn(0,xe),this}};if(te.promise(he),ot.url=((t||ot.url||En.href)+"").replace(Ai,En.protocol+"//"),ot.type=n.method||n.type||ot.method||ot.type,ot.dataTypes=(ot.dataType||"*").toLowerCase().match(Ht)||[""],null==ot.crossDomain){G=S.createElement("a");try{G.href=ot.url,G.href=G.href,ot.crossDomain=Wn.protocol+"//"+Wn.host!=G.protocol+"//"+G.host}catch{ot.crossDomain=!0}}if(ot.data&&ot.processData&&"string"!=typeof ot.data&&(ot.data=e.param(ot.data,ot.traditional)),li(oi,ot,n,he),X)return he;for(lt in(et=e.event&&ot.global)&&0==e.active++&&e.event.trigger("ajaxStart"),ot.type=ot.type.toUpperCase(),ot.hasContent=!Oi.test(ot.type),y=ot.url.replace(_i,""),ot.hasContent?ot.data&&ot.processData&&0===(ot.contentType||"").indexOf("application/x-www-form-urlencoded")&&(ot.data=ot.data.replace(Ti,"+")):(gt=ot.url.slice(y.length),ot.data&&(ot.processData||"string"==typeof ot.data)&&(y+=(Bn.test(y)?"&":"?")+ot.data,delete ot.data),!1===ot.cache&&(y=y.replace(Ci,"$1"),gt=(Bn.test(y)?"&":"?")+"_="+ni.guid+++gt),ot.url=y+gt),ot.ifModified&&(e.lastModified[y]&&he.setRequestHeader("If-Modified-Since",e.lastModified[y]),e.etag[y]&&he.setRequestHeader("If-None-Match",e.etag[y])),(ot.data&&ot.hasContent&&!1!==ot.contentType||n.contentType)&&he.setRequestHeader("Content-Type",ot.contentType),he.setRequestHeader("Accept",ot.dataTypes[0]&&ot.accepts[ot.dataTypes[0]]?ot.accepts[ot.dataTypes[0]]+("*"!==ot.dataTypes[0]?", "+ai+"; q=0.01":""):ot.accepts["*"]),ot.headers)he.setRequestHeader(lt,ot.headers[lt]);if(ot.beforeSend&&(!1===ot.beforeSend.call(wt,he,ot)||X))return he.abort();if(Ye="abort",ee.add(ot.complete),he.done(ot.success),he.fail(ot.error),h=li(Un,ot,n,he)){if(he.readyState=1,et&&Yt.trigger("ajaxSend",[he,ot]),X)return he;ot.async&&0<ot.timeout&&(I=tt.setTimeout(function(){he.abort("timeout")},ot.timeout));try{X=!1,h.send(Oe,sn)}catch(ce){if(X)throw ce;sn(-1,ce)}}else sn(-1,"No Transport");function sn(ce,xe,Tn,Xn){var Ge,_n,$e,Je,pn,Be=xe;X||(X=!0,I&&tt.clearTimeout(I),h=void 0,k=Xn||"",he.readyState=0<ce?4:0,Ge=200<=ce&&ce<300||304===ce,Tn&&(Je=function(Ae,_e,Le){for(var Qe,Pe,Kt,Se,Te=Ae.contents,ye=Ae.dataTypes;"*"===ye[0];)ye.shift(),void 0===Qe&&(Qe=Ae.mimeType||_e.getResponseHeader("Content-Type"));if(Qe)for(Pe in Te)if(Te[Pe]&&Te[Pe].test(Qe)){ye.unshift(Pe);break}if(ye[0]in Le)Kt=ye[0];else{for(Pe in Le){if(!ye[0]||Ae.converters[Pe+" "+ye[0]]){Kt=Pe;break}Se||(Se=Pe)}Kt=Kt||Se}if(Kt)return Kt!==ye[0]&&ye.unshift(Kt),Le[Kt]}(ot,he,Tn)),!Ge&&-1<e.inArray("script",ot.dataTypes)&&e.inArray("json",ot.dataTypes)<0&&(ot.converters["text script"]=function(){}),Je=function(Ae,_e,Le,Qe){var Pe,Kt,Se,Te,ye,Ze={},gn=Ae.dataTypes.slice();if(gn[1])for(Se in Ae.converters)Ze[Se.toLowerCase()]=Ae.converters[Se];for(Kt=gn.shift();Kt;)if(Ae.responseFields[Kt]&&(Le[Ae.responseFields[Kt]]=_e),!ye&&Qe&&Ae.dataFilter&&(_e=Ae.dataFilter(_e,Ae.dataType)),ye=Kt,Kt=gn.shift())if("*"===Kt)Kt=ye;else if("*"!==ye&&ye!==Kt){if(!(Se=Ze[ye+" "+Kt]||Ze["* "+Kt]))for(Pe in Ze)if((Te=Pe.split(" "))[1]===Kt&&(Se=Ze[ye+" "+Te[0]]||Ze["* "+Te[0]])){!0===Se?Se=Ze[Pe]:!0!==Ze[Pe]&&(Kt=Te[0],gn.unshift(Te[1]));break}if(!0!==Se)if(Se&&Ae.throws)_e=Se(_e);else try{_e=Se(_e)}catch(Pn){return{state:"parsererror",error:Se?Pn:"No conversion from "+ye+" to "+Kt}}}return{state:"success",data:_e}}(ot,Je,he,Ge),Ge?(ot.ifModified&&((pn=he.getResponseHeader("Last-Modified"))&&(e.lastModified[y]=pn),(pn=he.getResponseHeader("etag"))&&(e.etag[y]=pn)),204===ce||"HEAD"===ot.type?Be="nocontent":304===ce?Be="notmodified":(Be=Je.state,_n=Je.data,Ge=!($e=Je.error))):($e=Be,!ce&&Be||(Be="error",ce<0&&(ce=0))),he.status=ce,he.statusText=(xe||Be)+"",Ge?te.resolveWith(wt,[_n,Be,he]):te.rejectWith(wt,[he,Be,$e]),he.statusCode(Ee),Ee=void 0,et&&Yt.trigger(Ge?"ajaxSuccess":"ajaxError",[he,ot,Ge?_n:$e]),ee.fireWith(wt,[he,Be]),et&&(Yt.trigger("ajaxComplete",[he,ot]),--e.active||e.event.trigger("ajaxStop")))}return he},getJSON:function(t,n,h){return e.get(t,n,h,"json")},getScript:function(t,n){return e.get(t,void 0,n,"script")}}),e.each(["get","post"],function(t,n){e[n]=function(h,y,k,O){return g(y)&&(O=O||k,k=y,y=void 0),e.ajax(e.extend({url:h,type:n,dataType:O,data:y,success:k},e.isPlainObject(h)&&h))}}),e.ajaxPrefilter(function(t){var n;for(n in t.headers)"content-type"===n.toLowerCase()&&(t.contentType=t.headers[n]||"")}),e._evalUrl=function(t,n,h){return e.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(y){e.globalEval(y,n,h)}})},e.fn.extend({wrapAll:function(t){var n;return this[0]&&(g(t)&&(t=t.call(this[0])),n=e(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&n.insertBefore(this[0]),n.map(function(){for(var h=this;h.firstElementChild;)h=h.firstElementChild;return h}).append(this)),this},wrapInner:function(t){return g(t)?this.each(function(n){e(this).wrapInner(t.call(this,n))}):this.each(function(){var n=e(this),h=n.contents();h.length?h.wrapAll(t):n.append(t)})},wrap:function(t){var n=g(t);return this.each(function(h){e(this).wrapAll(n?t.call(this,h):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){e(this).replaceWith(this.childNodes)}),this}}),e.expr.pseudos.hidden=function(t){return!e.expr.pseudos.visible(t)},e.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},e.ajaxSettings.xhr=function(){try{return new tt.XMLHttpRequest}catch{}};var ji={0:200,1223:204},Sn=e.ajaxSettings.xhr();E.cors=!!Sn&&"withCredentials"in Sn,E.ajax=Sn=!!Sn,e.ajaxTransport(function(t){var n,h;if(E.cors||Sn&&!t.crossDomain)return{send:function(y,k){var O,I=t.xhr();if(I.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(O in t.xhrFields)I[O]=t.xhrFields[O];for(O in t.mimeType&&I.overrideMimeType&&I.overrideMimeType(t.mimeType),t.crossDomain||y["X-Requested-With"]||(y["X-Requested-With"]="XMLHttpRequest"),y)I.setRequestHeader(O,y[O]);n=function(G){return function(){n&&(n=h=I.onload=I.onerror=I.onabort=I.ontimeout=I.onreadystatechange=null,"abort"===G?I.abort():"error"===G?"number"!=typeof I.status?k(0,"error"):k(I.status,I.statusText):k(ji[I.status]||I.status,I.statusText,"text"!==(I.responseType||"text")||"string"!=typeof I.responseText?{binary:I.response}:{text:I.responseText},I.getAllResponseHeaders()))}},I.onload=n(),h=I.onerror=I.ontimeout=n("error"),void 0!==I.onabort?I.onabort=h:I.onreadystatechange=function(){4===I.readyState&&tt.setTimeout(function(){n&&h()})},n=n("abort");try{I.send(t.hasContent&&t.data||null)}catch(G){if(n)throw G}},abort:function(){n&&n()}}}),e.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),e.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return e.globalEval(t),t}}}),e.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),e.ajaxTransport("script",function(t){var n,h;if(t.crossDomain||t.scriptAttrs)return{send:function(y,k){n=e("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",h=function(O){n.remove(),h=null,O&&k("error"===O.type?404:200,O.type)}),S.head.appendChild(n[0])},abort:function(){h&&h()}}});var ui,ci=[],Vn=/(=)\?(?=&|$)|\?\?/;e.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ci.pop()||e.expando+"_"+ni.guid++;return this[t]=!0,t}}),e.ajaxPrefilter("json jsonp",function(t,n,h){var y,k,O,I=!1!==t.jsonp&&(Vn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vn.test(t.data)&&"data");if(I||"jsonp"===t.dataTypes[0])return y=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,I?t[I]=t[I].replace(Vn,"$1"+y):!1!==t.jsonp&&(t.url+=(Bn.test(t.url)?"&":"?")+t.jsonp+"="+y),t.converters["script json"]=function(){return O||e.error(y+" was not called"),O[0]},t.dataTypes[0]="json",k=tt[y],tt[y]=function(){O=arguments},h.always(function(){void 0===k?e(tt).removeProp(y):tt[y]=k,t[y]&&(t.jsonpCallback=n.jsonpCallback,ci.push(y)),O&&g(k)&&k(O[0]),O=k=void 0}),"script"}),E.createHTMLDocument=((ui=S.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===ui.childNodes.length),e.parseHTML=function(t,n,h){return"string"!=typeof t?[]:("boolean"==typeof n&&(h=n,n=!1),n||(E.createHTMLDocument?((y=(n=S.implementation.createHTMLDocument("")).createElement("base")).href=S.location.href,n.head.appendChild(y)):n=S),O=!h&&[],(k=M.exec(t))?[n.createElement(k[1])]:(k=Fe([t],n,O),O&&O.length&&e(O).remove(),e.merge([],k.childNodes)));var y,k,O},e.fn.load=function(t,n,h){var y,k,O,I=this,G=t.indexOf(" ");return-1<G&&(y=nn(t.slice(G)),t=t.slice(0,G)),g(n)?(h=n,n=void 0):n&&"object"==typeof n&&(k="POST"),0<I.length&&e.ajax({url:t,type:k||"GET",dataType:"html",data:n}).done(function(X){O=arguments,I.html(y?e("<div>").append(e.parseHTML(X)).find(y):X)}).always(h&&function(X,et){I.each(function(){h.apply(this,O||[X.responseText,et,X])})}),this},e.expr.pseudos.animated=function(t){return e.grep(e.timers,function(n){return t===n.elem}).length},e.offset={setOffset:function(t,n,h){var y,k,O,I,G,X,et=e.css(t,"position"),lt=e(t),gt={};"static"===et&&(t.style.position="relative"),G=lt.offset(),O=e.css(t,"top"),X=e.css(t,"left"),("absolute"===et||"fixed"===et)&&-1<(O+X).indexOf("auto")?(I=(y=lt.position()).top,k=y.left):(I=parseFloat(O)||0,k=parseFloat(X)||0),g(n)&&(n=n.call(t,h,e.extend({},G))),null!=n.top&&(gt.top=n.top-G.top+I),null!=n.left&&(gt.left=n.left-G.left+k),"using"in n?n.using.call(t,gt):lt.css(gt)}},e.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(k){e.offset.setOffset(this,t,k)});var n,h,y=this[0];return y?y.getClientRects().length?{top:(n=y.getBoundingClientRect()).top+(h=y.ownerDocument.defaultView).pageYOffset,left:n.left+h.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,n,h,y=this[0],k={top:0,left:0};if("fixed"===e.css(y,"position"))n=y.getBoundingClientRect();else{for(n=this.offset(),h=y.ownerDocument,t=y.offsetParent||h.documentElement;t&&(t===h.body||t===h.documentElement)&&"static"===e.css(t,"position");)t=t.parentNode;t&&t!==y&&1===t.nodeType&&((k=e(t).offset()).top+=e.css(t,"borderTopWidth",!0),k.left+=e.css(t,"borderLeftWidth",!0))}return{top:n.top-k.top-e.css(y,"marginTop",!0),left:n.left-k.left-e.css(y,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===e.css(t,"position");)t=t.offsetParent;return t||Q})}}),e.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var h="pageYOffset"===n;e.fn[t]=function(y){return z(this,function(k,O,I){var G;if(v(k)?G=k:9===k.nodeType&&(G=k.defaultView),void 0===I)return G?G[n]:k[O];G?G.scrollTo(h?G.pageXOffset:I,h?I:G.pageYOffset):k[O]=I},t,y,arguments.length)}}),e.each(["top","left"],function(t,n){e.cssHooks[n]=ae(E.pixelPosition,function(h,y){if(y)return y=pe(h,n),It.test(y)?e(h).position()[n]+"px":y})}),e.each({Height:"height",Width:"width"},function(t,n){e.each({padding:"inner"+t,content:n,"":"outer"+t},function(h,y){e.fn[y]=function(k,O){var I=arguments.length&&(h||"boolean"!=typeof k),G=h||(!0===k||!0===O?"margin":"border");return z(this,function(X,et,lt){var gt;return v(X)?0===y.indexOf("outer")?X["inner"+t]:X.document.documentElement["client"+t]:9===X.nodeType?(gt=X.documentElement,Math.max(X.body["scroll"+t],gt["scroll"+t],X.body["offset"+t],gt["offset"+t],gt["client"+t])):void 0===lt?e.css(X,et,G):e.style(X,et,lt,G)},n,I?k:void 0,I)}})}),e.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,n){e.fn[n]=function(h){return this.on(n,h)}}),e.fn.extend({bind:function(t,n,h){return this.on(t,null,n,h)},unbind:function(t,n){return this.off(t,null,n)},delegate:function(t,n,h,y){return this.on(n,t,h,y)},undelegate:function(t,n,h){return 1===arguments.length?this.off(t,"**"):this.off(n,t||"**",h)},hover:function(t,n){return this.on("mouseenter",t).on("mouseleave",n||t)}}),e.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,n){e.fn[n]=function(h,y){return 0<arguments.length?this.on(n,null,h,y):this.trigger(n)}});var Ri=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;e.proxy=function(t,n){var h,y,k;if("string"==typeof n&&(h=t[n],n=t,t=h),g(t))return y=r.call(arguments,2),(k=function(){return t.apply(n||this,y.concat(r.call(arguments)))}).guid=t.guid=t.guid||e.guid++,k},e.holdReady=function(t){t?e.readyWait++:e.ready(!0)},e.isArray=Array.isArray,e.parseJSON=JSON.parse,e.nodeName=R,e.isFunction=g,e.isWindow=v,e.camelCase=Et,e.type=_,e.now=Date.now,e.isNumeric=function(t){var n=e.type(t);return("number"===n||"string"===n)&&!isNaN(t-parseFloat(t))},e.trim=function(t){return null==t?"":(t+"").replace(Ri,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return e});var Li=tt.jQuery,Pi=tt.$;return e.noConflict=function(t){return tt.$===e&&(tt.$=Pi),t&&tt.jQuery===e&&(tt.jQuery=Li),e},typeof oe>"u"&&(tt.jQuery=tt.$=e),e}),function(tt){"use strict";var oe,P,q="",x=Math.PI,C=x/2,m="ontouchstart"in window,d=m?{down:"touchstart",move:"touchmove",up:"touchend",over:"touchstart",out:"touchend"}:{down:"mousedown",move:"mousemove",up:"mouseup",over:"mouseover",out:"mouseout"},i={backward:["bl","tl"],forward:["br","tr"],all:["tl","bl","tr","br","l","r"]},o=["single","double"],l=["ltr","rtl"],p={acceleration:!0,display:"double",duration:600,page:1,gradients:!0,turnCorners:"bl,br",when:null},E={cornerSize:100},v={init:function(c){oe="WebKitCSSMatrix"in window||"MozPerspective"in document.body.style,P=function T(){var c;return!(c=/AppleWebkit\/([0-9\.]+)/i.exec(navigator.userAgent))||parseFloat(c[1])>534.3}(),q=at();var u,M=0,H=this.data(),nt=this.children();if(c=tt.extend({width:this.width(),height:this.height(),direction:this.attr("dir")||this.css("direction")||"ltr"},p,c),H.opts=c,H.pageObjs={},H.pages={},H.pageWrap={},H.pageZoom={},H.pagePlace={},H.pageMv=[],H.zoom=1,H.totalPages=c.pages||0,H.eventHandlers={touchStart:tt.proxy(v._touchStart,this),touchMove:tt.proxy(v._touchMove,this),touchEnd:tt.proxy(v._touchEnd,this),start:tt.proxy(v._eventStart,this)},c.when)for(u in c.when)K(u,c.when)&&this.bind(u,c.when[u]);for(this.css({position:"relative",width:c.width,height:c.height}),this.turn("display",c.display),""!==c.direction&&this.turn("direction",c.direction),oe&&!m&&c.acceleration&&this.transform(R(0,0,!0)),u=0;u<nt.length;u++)"1"!=tt(nt[u]).attr("ignore")&&this.turn("addPage",nt[u],++M);return tt(this).bind(d.down,H.eventHandlers.touchStart).bind("end",v._eventEnd).bind("pressed",v._eventPressed).bind("released",v._eventReleased).bind("flip",v._flip),tt(this).parent().bind("start",H.eventHandlers.start),tt(document).bind(d.move,H.eventHandlers.touchMove).bind(d.up,H.eventHandlers.touchEnd),this.turn("page",c.page),H.done=!0,this},addPage:function(c,u){var D,M,H=!1,nt=this.data(),kt=nt.totalPages+1;if(nt.destroying)return!1;if((D=/\bp([0-9]+)\b/.exec(tt(c).attr("class")))&&(u=parseInt(D[1],10)),u){if(u==kt)H=!0;else if(u>kt)throw _t('Page "'+u+'" cannot be inserted')}else u=kt,H=!0;return u>=1&&u<=kt&&(M="double"==nt.display?u%2?" odd":" even":"",nt.done&&this.turn("stop"),u in nt.pageObjs&&v._movePages.call(this,u,1),H&&(nt.totalPages=kt),nt.pageObjs[u]=tt(c).css({float:"left"}).addClass("page p"+u+M),!function jt(){return-1==navigator.userAgent.indexOf("MSIE 9.0")}()&&nt.pageObjs[u].hasClass("hard")&&nt.pageObjs[u].removeClass("hard"),v._addPage.call(this,u),v._removeFromDOM.call(this)),this},_addPage:function(c){var u=this.data(),D=u.pageObjs[c];if(D)if(v._necessPage.call(this,c)){if(!u.pageWrap[c]){u.pageWrap[c]=tt("<div/>",{class:"page-wrapper",page:c,css:{position:"absolute",overflow:"hidden"}}),this.append(u.pageWrap[c]),u.pagePlace[c]||(u.pagePlace[c]=c,u.pageObjs[c].appendTo(u.pageWrap[c]));var M=v._pageSize.call(this,c,!0);D.css({width:M.width,height:M.height}),u.pageWrap[c].css(M)}u.pagePlace[c]==c&&v._makeFlip.call(this,c)}else u.pagePlace[c]=0,u.pageObjs[c]&&u.pageObjs[c].remove()},hasPage:function(c){return K(c,this.data().pageObjs)},center:function(c){var u=this.data(),D=tt(this).turn("size"),M=0;if(!u.noCenter){if("double"==u.display){var H=this.turn("view",c||u.tpage||u.page);"ltr"==u.direction?H[0]?H[1]||(M+=D.width/4):M-=D.width/4:H[0]?H[1]||(M-=D.width/4):M+=D.width/4}tt(this).css({marginLeft:M})}return this},destroy:function(){var u=this,D=this.data();if("prevented"!=St("destroying",this)){for(D.destroying=!0,tt.each(["end","first","flip","last","pressed","released","start","turning","turned","zooming","missing"],function(H,nt){u.unbind(nt)}),this.parent().unbind("start",D.eventHandlers.start),tt(document).unbind(d.move,D.eventHandlers.touchMove).unbind(d.up,D.eventHandlers.touchEnd);0!==D.totalPages;)this.turn("removePage",D.totalPages);return D.fparent&&D.fparent.remove(),D.shadow&&D.shadow.remove(),this.removeData(),D=null,this}},is:function(){return"object"==typeof this.data().pages},zoom:function(c){var u=this.data();if("number"==typeof c){if(c<.001||c>100)throw _t(c+" is not a value for zoom");if("prevented"==St("zooming",this,[c,u.zoom]))return this;var D=this.turn("size"),M=this.turn("view"),H=1/u.zoom,nt=Math.round(D.width*H*c),kt=Math.round(D.height*H*c);u.zoom=c,tt(this).turn("stop").turn("size",nt,kt),u.opts.autoCenter&&this.turn("center"),v._updateShadow.call(this);for(var Tt=0;Tt<M.length;Tt++)M[Tt]&&u.pageZoom[M[Tt]]!=u.zoom&&(this.trigger("zoomed",[M[Tt],M,u.pageZoom[M[Tt]],u.zoom]),u.pageZoom[M[Tt]]=u.zoom);return this}return u.zoom},_pageSize:function(c,u){var D=this.data(),M={};if("single"==D.display)M.width=this.width(),M.height=this.height(),u&&(M.top=0,M.left=0,M.right="auto");else{var H=this.width()/2,nt=this.height();if(D.pageObjs[c].hasClass("own-size")?(M.width=D.pageObjs[c].width(),M.height=D.pageObjs[c].height()):(M.width=H,M.height=nt),u){var kt=c%2;M.top=(nt-M.height)/2,"ltr"==D.direction?(M[kt?"right":"left"]=H-M.width,M[kt?"left":"right"]="auto"):(M[kt?"left":"right"]=H-M.width,M[kt?"right":"left"]="auto")}}return M},_makeFlip:function(c){var u=this.data();if(!u.pages[c]&&u.pagePlace[c]==c){var D="single"==u.display,M=c%2;u.pages[c]=u.pageObjs[c].css(v._pageSize.call(this,c)).flip({page:c,next:M||D?c+1:c-1,turn:this}).flip("disable",u.disabled),v._setPageLoc.call(this,c),u.pageZoom[c]=u.zoom}return u.pages[c]},_makeRange:function(){var c,u;if(!(this.data().totalPages<1))for(c=(u=this.turn("range"))[0];c<=u[1];c++)v._addPage.call(this,c)},range:function(c){var u,D,M,H,nt=this.data();if(H=v._view.call(this,c=c||nt.tpage||nt.page||1),c<1||c>nt.totalPages)throw _t('"'+c+'" is not a valid page');return H[1]=H[1]||H[0],H[0]>=1&&H[1]<=nt.totalPages?(u=Math.floor(2),nt.totalPages-H[1]>H[0]?M=2*u-(D=Math.min(H[0]-1,u)):D=2*u-(M=Math.min(nt.totalPages-H[1],u))):(D=5,M=5),[Math.max(1,H[0]-D),Math.min(nt.totalPages,H[1]+M)]},_necessPage:function(c){if(0===c)return!0;var u=this.turn("range");return this.data().pageObjs[c].hasClass("fixed")||c>=u[0]&&c<=u[1]},_removeFromDOM:function(){var c,u=this.data();for(c in u.pageWrap)K(c,u.pageWrap)&&!v._necessPage.call(this,c)&&v._removePageFromDOM.call(this,c)},_removePageFromDOM:function(c){var u=this.data();if(u.pages[c]){var D=u.pages[c].data();S._moveFoldingPage.call(u.pages[c],!1),D.f&&D.f.fwrapper&&D.f.fwrapper.remove(),u.pages[c].removeData(),u.pages[c].remove(),delete u.pages[c]}u.pageObjs[c]&&u.pageObjs[c].remove(),u.pageWrap[c]&&(u.pageWrap[c].remove(),delete u.pageWrap[c]),v._removeMv.call(this,c),delete u.pagePlace[c],delete u.pageZoom[c]},removePage:function(c){var u=this.data();if("*"==c)for(;0!==u.totalPages;)this.turn("removePage",u.totalPages);else{if(c<1||c>u.totalPages)throw _t("The page "+c+" doesn't exist");u.pageObjs[c]&&(this.turn("stop"),v._removePageFromDOM.call(this,c),delete u.pageObjs[c]),v._movePages.call(this,c,-1),u.totalPages=u.totalPages-1,u.page>u.totalPages?(u.page=null,v._fitPage.call(this,u.totalPages)):(v._makeRange.call(this),this.turn("update"))}return this},_movePages:function(c,u){var D,M=this,H=this.data(),nt="single"==H.display,kt=function(Tt){var Lt=Tt+u,Vt=Lt%2,Ht=Vt?" odd ":" even ";H.pageObjs[Tt]&&(H.pageObjs[Lt]=H.pageObjs[Tt].removeClass("p"+Tt+" odd even").addClass("p"+Lt+Ht)),H.pagePlace[Tt]&&H.pageWrap[Tt]&&(H.pagePlace[Lt]=Lt,H.pageWrap[Lt]=H.pageObjs[Lt].hasClass("fixed")?H.pageWrap[Tt].attr("page",Lt):H.pageWrap[Tt].css(v._pageSize.call(M,Lt,!0)).attr("page",Lt),H.pages[Tt]&&(H.pages[Lt]=H.pages[Tt].flip("options",{page:Lt,next:nt||Vt?Lt+1:Lt-1})),u&&(delete H.pages[Tt],delete H.pagePlace[Tt],delete H.pageZoom[Tt],delete H.pageObjs[Tt],delete H.pageWrap[Tt]))};if(u>0)for(D=H.totalPages;D>=c;D--)kt(D);else for(D=c;D<=H.totalPages;D++)kt(D)},display:function(c){var u=this.data(),D=u.display;if(void 0===c)return D;if(-1==tt.inArray(c,o))throw _t('"'+c+'" is not a value for display');switch(c){case"single":u.pageObjs[0]||(this.turn("stop").css({overflow:"hidden"}),u.pageObjs[0]=tt("<div />",{class:"page p-temporal"}).css({width:this.width(),height:this.height()}).appendTo(this)),this.addClass("shadow");break;case"double":u.pageObjs[0]&&(this.turn("stop").css({overflow:""}),u.pageObjs[0].remove(),delete u.pageObjs[0]),this.removeClass("shadow")}if(u.display=c,D){var M=this.turn("size");v._movePages.call(this,1,0),this.turn("size",M.width,M.height).turn("update")}return this},direction:function(c){var u=this.data();if(void 0===c)return u.direction;if(c=c.toLowerCase(),-1==tt.inArray(c,l))throw _t('"'+c+'" is not a value for direction');return"rtl"==c&&tt(this).attr("dir","ltr").css({direction:"ltr"}),u.direction=c,u.done&&this.turn("size",tt(this).width(),tt(this).height()),this},animating:function(){return this.data().pageMv.length>0},corner:function(){var c,u,D=this.data();for(u in D.pages)if(K(u,D.pages)&&(c=D.pages[u].flip("corner")))return c;return!1},data:function(){return this.data()},disable:function(c){var u,D=this.data(),M=this.turn("view");for(u in D.disabled=void 0===c||!0===c,D.pages)K(u,D.pages)&&D.pages[u].flip("disable",!!D.disabled||-1==tt.inArray(parseInt(u,10),M));return this},disabled:function(c){return void 0===c?!0===this.data().disabled:this.turn("disable",c)},size:function(c,u){if(void 0===c||void 0===u)return{width:this.width(),height:this.height()};this.turn("stop");var D,M,H=this.data(),nt="double"==H.display?c/2:c;for(D in this.css({width:c,height:u}),H.pageObjs[0]&&H.pageObjs[0].css({width:nt,height:u}),H.pageWrap)K(D,H.pageWrap)&&(M=v._pageSize.call(this,D,!0),H.pageObjs[D].css({width:M.width,height:M.height}),H.pageWrap[D].css(M),H.pages[D]&&H.pages[D].css({width:M.width,height:M.height}));return this.turn("resize"),this},resize:function(){var c,u=this.data();for(u.pages[0]&&(u.pageWrap[0].css({left:-this.width()}),u.pages[0].flip("resize",!0)),c=1;c<=u.totalPages;c++)u.pages[c]&&u.pages[c].flip("resize",!0);v._updateShadow.call(this),u.opts.autoCenter&&this.turn("center")},_removeMv:function(c){var u,D=this.data();for(u=0;u<D.pageMv.length;u++)if(D.pageMv[u]==c)return D.pageMv.splice(u,1),!0;return!1},_addMv:function(c){var u=this.data();v._removeMv.call(this,c),u.pageMv.push(c)},_view:function(c){var u=this.data();return c=c||u.page,"double"==u.display?c%2?[c-1,c]:[c,c+1]:[c]},view:function(c){var u=this.data(),D=v._view.call(this,c);return"double"==u.display?[D[0]>0?D[0]:0,D[1]<=u.totalPages?D[1]:0]:[D[0]>0&&D[0]<=u.totalPages?D[0]:0]},stop:function(c,u){if(this.turn("animating")){var D,M,H,nt=this.data();for(nt.tpage&&(nt.page=nt.tpage,delete nt.tpage),D=0;D<nt.pageMv.length;D++)!nt.pageMv[D]||nt.pageMv[D]===c||(M=(H=nt.pages[nt.pageMv[D]]).data().f.opts,H.flip("hideFoldedPage",u),u||S._moveFoldingPage.call(H,!1),M.force&&(M.next=M.page%2==0?M.page-1:M.page+1,delete M.force))}return this.turn("update"),this},pages:function(c){var u=this.data();if(c){if(c<u.totalPages)for(var D=u.totalPages;D>c;D--)this.turn("removePage",D);return u.totalPages=c,v._fitPage.call(this,u.page),this}return u.totalPages},_missing:function(c){var u=this.data();if(!(u.totalPages<1)){var D,M=this.turn("range",c),H=[];for(D=M[0];D<=M[1];D++)u.pageObjs[D]||H.push(D);H.length>0&&this.trigger("missing",[H])}},_fitPage:function(c){var u=this.data(),D=this.turn("view",c);if(v._missing.call(this,c),u.pageObjs[c]){u.page=c,this.turn("stop");for(var M=0;M<D.length;M++)D[M]&&u.pageZoom[D[M]]!=u.zoom&&(this.trigger("zoomed",[D[M],D,u.pageZoom[D[M]],u.zoom]),u.pageZoom[D[M]]=u.zoom);v._removeFromDOM.call(this),v._makeRange.call(this),v._updateShadow.call(this),this.trigger("turned",[c,D]),this.turn("update"),u.opts.autoCenter&&this.turn("center")}},_turnPage:function(c){var u,D,M=this.data(),H=M.pagePlace[c],nt=this.turn("view"),kt=this.turn("view",c);if(M.page!=c){var Tt=M.page;if("prevented"==St("turning",this,[c,kt]))return void(Tt==M.page&&-1!=tt.inArray(H,M.pageMv)&&M.pages[H].flip("hideFoldedPage",!0));-1!=tt.inArray(1,kt)&&this.trigger("first"),-1!=tt.inArray(M.totalPages,kt)&&this.trigger("last")}"single"==M.display?(u=nt[0],D=kt[0]):nt[1]&&c>nt[1]?(u=nt[1],D=kt[0]):nt[0]&&c<nt[0]&&(u=nt[0],D=kt[1]);var Lt=M.opts.turnCorners.split(","),Vt=M.pages[u].data().f,Ht=Vt.opts,Ot=Vt.point;v._missing.call(this,c),M.pageObjs[c]&&(this.turn("stop"),M.page=c,v._makeRange.call(this),M.tpage=D,Ht.next!=D&&(Ht.next=D,Ht.force=!0),this.turn("update"),Vt.point=Ot,M.pages[u].flip("turnPage","hard"==Vt.effect?"ltr"==M.direction?c>u?"r":"l":c>u?"l":"r":"ltr"==M.direction?Lt[c>u?1:0]:Lt[c>u?0:1]))},page:function(c){var u=this.data();if(void 0===c)return u.page;if(!u.disabled&&!u.destroying){if((c=parseInt(c,10))>0&&c<=u.totalPages)return c!=u.page&&(u.done&&-1==tt.inArray(c,this.turn("view"))?v._turnPage.call(this,c):v._fitPage.call(this,c)),this;throw _t("The page "+c+" does not exist")}},next:function(){return this.turn("page",Math.min(this.data().totalPages,v._view.call(this,this.data().page).pop()+1))},previous:function(){return this.turn("page",Math.max(1,v._view.call(this,this.data().page).shift()-1))},peel:function(c,u){var D=this.data(),M=this.turn("view");if(u=void 0===u||!0===u,!1===c)this.turn("stop",null,u);else if("single"==D.display)D.pages[D.page].flip("peel",c,u);else{var H;H="ltr"==D.direction?-1!=c.indexOf("l")?M[0]:M[1]:-1!=c.indexOf("l")?M[1]:M[0],D.pages[H]&&D.pages[H].flip("peel",c,u)}return this},_addMotionPage:function(){var c=tt(this).data().f.opts,u=c.turn;u.data(),v._addMv.call(u,c.page)},_eventStart:function(c,u,D){var M=u.turn.data(),H=M.pageZoom[u.page];c.isDefaultPrevented()||(H&&H!=M.zoom&&(u.turn.trigger("zoomed",[u.page,u.turn.turn("view",u.page),H,M.zoom]),M.pageZoom[u.page]=M.zoom),"single"==M.display&&D&&("l"==D.charAt(1)&&"ltr"==M.direction||"r"==D.charAt(1)&&"rtl"==M.direction?(u.next=u.next<u.page?u.next:u.page-1,u.force=!0):u.next=u.next>u.page?u.next:u.page+1),v._addMotionPage.call(c.target)),v._updateShadow.call(u.turn)},_eventEnd:function(c,u,D){tt(c.target).data();var nt=u.turn,kt=nt.data();if(D){var Tt=kt.tpage||kt.page;(Tt==u.next||Tt==u.page)&&(delete kt.tpage,v._fitPage.call(nt,Tt||u.next,!0))}else v._removeMv.call(nt,u.page),v._updateShadow.call(nt),nt.turn("update")},_eventPressed:function(c){var D=tt(c.target).data().f,M=D.opts.turn;return M.data().mouseAction=!0,M.turn("update"),D.time=(new Date).getTime()},_eventReleased:function(c,u){var D,M=tt(c.target),H=M.data().f,nt=H.opts.turn,kt=nt.data();D="single"==kt.display?"br"==u.corner||"tr"==u.corner?u.x<M.width()/2:u.x>M.width()/2:u.x<0||u.x>M.width(),((new Date).getTime()-H.time<200||D)&&(c.preventDefault(),v._turnPage.call(nt,H.opts.next)),kt.mouseAction=!1},_flip:function(c){c.stopPropagation();var u=tt(c.target).data().f.opts;u.turn.trigger("turn",[u.next]),u.turn.data().opts.autoCenter&&u.turn.turn("center",u.next)},_touchStart:function(){var c=this.data();for(var u in c.pages)if(K(u,c.pages)&&!1===S._eventStart.apply(c.pages[u],arguments))return!1},_touchMove:function(){var c=this.data();for(var u in c.pages)K(u,c.pages)&&S._eventMove.apply(c.pages[u],arguments)},_touchEnd:function(){var c=this.data();for(var u in c.pages)K(u,c.pages)&&S._eventEnd.apply(c.pages[u],arguments)},calculateZ:function(c){var u,D,M,H,nt,kt=this,Tt=this.data(),Lt=this.turn("view"),Vt=Lt[0]||Lt[1],Ht=c.length-1,Ot={pageZ:{},partZ:{},pageV:{}},At=function(b){var s=kt.turn("view",b);s[0]&&(Ot.pageV[s[0]]=!0),s[1]&&(Ot.pageV[s[1]]=!0)};for(u=0;u<=Ht;u++)M=Tt.pages[D=c[u]].data().f.opts.next,H=Tt.pagePlace[D],At(D),At(M),Ot.pageZ[nt=Tt.pagePlace[M]==M?M:D]=Tt.totalPages-Math.abs(Vt-nt),Ot.partZ[H]=2*Tt.totalPages-Ht+u;return Ot},update:function(){var c,u=this.data();if(this.turn("animating")&&0!==u.pageMv[0]){var D,H,nt=this.turn("calculateZ",u.pageMv),kt=this.turn("corner"),Tt=this.turn("view"),Lt=this.turn("view",u.tpage);for(c in u.pageWrap)K(c,u.pageWrap)&&(H=u.pageObjs[c].hasClass("fixed"),u.pageWrap[c].css({display:nt.pageV[c]||H?"":"none",zIndex:(u.pageObjs[c].hasClass("hard")?nt.partZ[c]:nt.pageZ[c])||(H?-1:0)}),(D=u.pages[c])&&(D.flip("z",nt.partZ[c]||null),nt.pageV[c]&&D.flip("resize"),u.tpage?D.flip("hover",!1).flip("disable",-1==tt.inArray(parseInt(c,10),u.pageMv)&&c!=Lt[0]&&c!=Lt[1]):D.flip("hover",!1===kt).flip("disable",c!=Tt[0]&&c!=Tt[1])))}else for(c in u.pageWrap)if(K(c,u.pageWrap)){var Vt=v._setPageLoc.call(this,c);u.pages[c]&&u.pages[c].flip("disable",u.disabled||1!=Vt).flip("hover",!0).flip("z",null)}return this},_updateShadow:function(){var c,u,M=this.data(),H=this.width(),nt=this.height(),kt="single"==M.display?H:H/2;c=this.turn("view"),M.shadow||(M.shadow=tt("<div />",{class:"shadow",css:a(0,0,0).css}).appendTo(this));for(var Tt=0;Tt<M.pageMv.length&&c[0]&&c[1];Tt++)c=this.turn("view",M.pages[M.pageMv[Tt]].data().f.opts.next),u=this.turn("view",M.pageMv[Tt]),c[0]=c[0]&&u[0],c[1]=c[1]&&u[1];switch(c[0]?c[1]?3:"ltr"==M.direction?2:1:"ltr"==M.direction?1:2){case 1:M.shadow.css({width:kt,height:nt,top:0,left:kt});break;case 2:M.shadow.css({width:kt,height:nt,top:0,left:0});break;case 3:M.shadow.css({width:H,height:nt,top:0,left:0})}},_setPageLoc:function(c){var u=this.data(),D=this.turn("view"),M=0;if(c==D[0]||c==D[1]?M=1:("single"==u.display&&c==D[0]+1||"double"==u.display&&c==D[0]-2||c==D[1]+2)&&(M=2),!this.turn("animating"))switch(M){case 1:u.pageWrap[c].css({zIndex:u.totalPages,display:""});break;case 2:u.pageWrap[c].css({zIndex:u.totalPages-1,display:""});break;case 0:u.pageWrap[c].css({zIndex:0,display:u.pageObjs[c].hasClass("fixed")?"":"none"})}return M},moises:function(){return this.data()},options:function(c){if(void 0===c)return this.data().opts;var u=this.data();if(tt.extend(u.opts,c),c.pages&&this.turn("pages",c.pages),c.page&&this.turn("page",c.page),c.display&&this.turn("display",c.display),c.direction&&this.turn("direction",c.direction),c.width&&c.height&&this.turn("size",c.width,c.height),c.when)for(var D in c.when)K(D,c.when)&&this.unbind(D).bind(D,c.when[D]);return this},version:function(){return"4.1.0"}},S={init:function(c){return this.data({f:{disabled:!1,hover:!1,effect:this.hasClass("hard")?"hard":"sheet"}}),this.flip("options",c),S._addPageWrapper.call(this),this},setData:function(c){var u=this.data();return u.f=tt.extend(u.f,c),this},options:function(c){var u=this.data().f;return c?(S.setData.call(this,{opts:tt.extend({},u.opts||E,c)}),this):u.opts},z:function(c){var u=this.data().f;return u.opts["z-index"]=c,u.fwrapper&&u.fwrapper.css({zIndex:c||parseInt(u.parent.css("z-index"),10)||0}),this},_cAllowed:function(){var c=this.data().f,u=c.opts.page,D=c.opts.turn.data(),M=u%2;return"hard"==c.effect?"ltr"==D.direction?[M?"r":"l"]:[M?"l":"r"]:"single"==D.display?1==u?"ltr"==D.direction?i.forward:i.backward:u==D.totalPages?"ltr"==D.direction?i.backward:i.forward:i.all:"ltr"==D.direction?i[M?"forward":"backward"]:i[M?"backward":"forward"]},_cornerActivated:function(c){var u=this.data().f,D=this.width(),M=this.height(),H={x:c.x,y:c.y,corner:""},nt=u.opts.cornerSize;if(H.x<=0||H.y<=0||H.x>=D||H.y>=M)return!1;var kt=S._cAllowed.call(this);switch(u.effect){case"hard":if(H.x>D-nt)H.corner="r";else{if(!(H.x<nt))return!1;H.corner="l"}break;case"sheet":if(H.y<nt)H.corner+="t";else{if(!(H.y>=M-nt))return!1;H.corner+="b"}if(H.x<=nt)H.corner+="l";else{if(!(H.x>=D-nt))return!1;H.corner+="r"}}return!(!H.corner||-1==tt.inArray(H.corner,kt))&&H},_isIArea:function(c){var u=this.data().f.parent.offset();return S._cornerActivated.call(this,{x:(c=m&&c.originalEvent?c.originalEvent.touches[0]:c).pageX-u.left,y:c.pageY-u.top})},_c:function(c,u){switch(u=u||0,c){case"tl":return e(u,u);case"tr":return e(this.width()-u,u);case"bl":return e(u,this.height()-u);case"br":return e(this.width()-u,this.height()-u);case"l":return e(u,0);case"r":return e(this.width()-u,0)}},_c2:function(c){switch(c){case"tl":case"l":return e(2*this.width(),0);case"tr":case"r":return e(-this.width(),0);case"bl":return e(2*this.width(),this.height());case"br":return e(-this.width(),this.height())}},_foldingPage:function(){var c=this.data().f;if(c){var u=c.opts;if(u.turn)return"single"==(c=u.turn.data()).display?u.next>1||u.page>1?c.pageObjs[0]:null:c.pageObjs[u.next]}},_backGradient:function(){var c=this.data().f,u=c.opts.turn.data(),D=u.opts.gradients&&("single"==u.display||2!=c.opts.page&&c.opts.page!=u.totalPages-1);return D&&!c.bshadow&&(c.bshadow=tt("<div/>",a(0,0,1)).css({position:"",width:this.width(),height:this.height()}).appendTo(c.parent)),D},type:function(){return this.data().f.effect},resize:function(c){var u=this.data().f,D=u.opts.turn.data(),M=this.width(),H=this.height();switch(u.effect){case"hard":c&&(u.wrapper.css({width:M,height:H}),u.fpage.css({width:M,height:H}),D.opts.gradients&&(u.ashadow.css({width:M,height:H}),u.bshadow.css({width:M,height:H})));break;case"sheet":if(c){var nt=Math.round(Math.sqrt(Math.pow(M,2)+Math.pow(H,2)));u.wrapper.css({width:nt,height:nt}),u.fwrapper.css({width:nt,height:nt}).children(":first-child").css({width:M,height:H}),u.fpage.css({width:M,height:H}),D.opts.gradients&&u.ashadow.css({width:M,height:H}),S._backGradient.call(this)&&u.bshadow.css({width:M,height:H})}if(u.parent.is(":visible")){var kt=qt(u.parent[0]);u.fwrapper.css({top:kt.top,left:kt.left}),kt=qt(u.opts.turn[0]),u.fparent.css({top:-kt.top,left:-kt.left})}this.flip("z",u.opts["z-index"])}},_addPageWrapper:function(){var u=this.data().f,D=u.opts.turn.data(),M=this.parent();if(u.parent=M,!u.wrapper)switch(u.effect){case"hard":var H={};H[q+"transform-style"]="preserve-3d",H[q+"backface-visibility"]="hidden",u.wrapper=tt("<div/>",a(0,0,2)).css(H).appendTo(M).prepend(this),u.fpage=tt("<div/>",a(0,0,1)).css(H).appendTo(M),D.opts.gradients&&(u.ashadow=tt("<div/>",a(0,0,0)).hide().appendTo(M),u.bshadow=tt("<div/>",a(0,0,0)));break;case"sheet":var nt=this.width(),kt=this.height();if(Math.round(Math.sqrt(Math.pow(nt,2)+Math.pow(kt,2))),u.fparent=u.opts.turn.data().fparent,!u.fparent){var Lt=tt("<div/>",{css:{"pointer-events":"none"}}).hide();Lt.data().flips=0,Lt.css(a(0,0,"auto","visible").css).appendTo(u.opts.turn),u.opts.turn.data().fparent=Lt,u.fparent=Lt}this.css({position:"absolute",top:0,left:0,bottom:"auto",right:"auto"}),u.wrapper=tt("<div/>",a(0,0,this.css("z-index"))).appendTo(M).prepend(this),u.fwrapper=tt("<div/>",a(M.offset().top,M.offset().left)).hide().appendTo(u.fparent),u.fpage=tt("<div/>",a(0,0,0,"visible")).css({cursor:"default"}).appendTo(u.fwrapper),D.opts.gradients&&(u.ashadow=tt("<div/>",a(0,0,1)).appendTo(u.fpage)),S.setData.call(this,u)}S.resize.call(this,!0)},_fold:function(c){var u=this.data().f,D=u.opts.turn.data(),M=S._c.call(this,c.corner),H=this.width(),nt=this.height();switch(u.effect){case"hard":c.x="l"==c.corner?Math.min(Math.max(c.x,0),2*H):Math.max(Math.min(c.x,H),-H);var kt,Tt,Lt,Vt,Ht,Ot=D.totalPages,At=u.opts["z-index"]||Ot,b={overflow:"visible"},s=M.x?(M.x-c.x)/H:c.x/H,w=90*s,N=w<90;switch(c.corner){case"l":Vt="0% 50%",Ht="100% 50%",N?(kt=0,Tt=u.opts.next-1>0,Lt=1):(kt="100%",Tt=u.opts.page+1<Ot,Lt=0);break;case"r":Vt="100% 50%",Ht="0% 50%",w=-w,H=-H,N?(kt=0,Tt=u.opts.next+1<Ot,Lt=0):(kt="-100%",Tt=1!=u.opts.page,Lt=1)}b[q+"perspective-origin"]=Ht,u.wrapper.transform("rotateY("+w+"deg)translate3d(0px, 0px, "+(this.attr("depth")||0)+"px)",Ht),u.fpage.transform("translateX("+H+"px) rotateY("+(180+w)+"deg)",Vt),u.parent.css(b),N?(s=1-s,u.wrapper.css({zIndex:At+1}),u.fpage.css({zIndex:At})):(s-=1,u.wrapper.css({zIndex:At}),u.fpage.css({zIndex:At+1})),D.opts.gradients&&(Tt?u.ashadow.css({display:"",left:kt,backgroundColor:"rgba(0,0,0,"+.5*s+")"}).transform("rotateY(0deg)"):u.ashadow.hide(),u.bshadow.css({opacity:1-s}),N?u.bshadow.parent()[0]!=u.wrapper[0]&&u.bshadow.appendTo(u.wrapper):u.bshadow.parent()[0]!=u.fpage[0]&&u.bshadow.appendTo(u.fpage),dt(u.bshadow,e(100*Lt,0),e(100*(1-Lt),0),[[0,"rgba(0,0,0,0.3)"],[1,"rgba(0,0,0,0)"]],2));break;case"sheet":var Et,Mt,$t,Ct,zt,se,L,z=this,$=0,B=e(0,0),F=e(0,0),Y=e(0,0),Z=S._foldingPage.call(this),st=(Math.tan(0),D.opts.acceleration),ct=u.wrapper.height(),ft="t"==c.corner.substr(0,1),mt="l"==c.corner.substr(1,1),Rt=function(){var Pt=e(0,0),Gt=e(0,0);Pt.x=M.x?M.x-c.x:c.x,Pt.y=P?M.y?M.y-c.y:c.y:0,Gt.x=mt?H-Pt.x/2:c.x+Pt.x/2,Gt.y=Pt.y/2;var Bt=C-Math.atan2(Pt.y,Pt.x),ie=Bt-Math.atan2(Gt.y,Gt.x),ge=Math.max(0,Math.sin(ie)*Math.sqrt(Math.pow(Gt.x,2)+Math.pow(Gt.y,2)));if($=function A(c){return c/x*180}(Bt),Y=e(ge*Math.sin(Bt),ge*Math.cos(Bt)),Bt>C&&(Y.x=Y.x+Math.abs(Y.y*Pt.y/Pt.x),Y.y=0,Math.round(Y.x*Math.tan(x-Bt))<nt))return c.y=Math.sqrt(Math.pow(nt,2)+2*Gt.x*Pt.x),ft&&(c.y=nt-c.y),Rt();if(Bt>C){var ue=x-Bt,me=ct-nt/Math.sin(ue);B=e(Math.round(me*Math.cos(ue)),Math.round(me*Math.sin(ue))),mt&&(B.x=-B.x),ft&&(B.y=-B.y)}Et=Math.round(Y.y/Math.tan(Bt)+Y.x);var ke=H-Et,ze=ke*Math.cos(2*Bt),Fe=ke*Math.sin(2*Bt);if(F=e(Math.round(mt?ke-ze:Et+ze),Math.round(ft?Fe:nt-Fe)),D.opts.gradients){zt=ke*Math.sin(Bt);var Me=S._c2.call(z,c.corner),Ne=Math.sqrt(Math.pow(Me.x-c.x,2)+Math.pow(Me.y-c.y,2))/H;L=Math.sin(C*(Ne>1?2-Ne:Ne)),se=Math.min(Ne,1),Ct=zt>100?(zt-100)/zt:0,Mt=e(zt*Math.sin(Bt)/H*100,zt*Math.cos(Bt)/nt*100),S._backGradient.call(z)&&($t=e(1.2*zt*Math.sin(Bt)/H*100,1.2*zt*Math.cos(Bt)/nt*100),mt||($t.x=100-$t.x),ft||($t.y=100-$t.y))}return Y.x=Math.round(Y.x),Y.y=Math.round(Y.y),!0},Nt=function(Pt,Gt,Bt,ie){var ge=["0","auto"],ue=(H-ct)*Bt[0]/100,me=(nt-ct)*Bt[1]/100,ke={left:ge[Gt[0]],top:ge[Gt[1]],right:ge[Gt[2]],bottom:ge[Gt[3]]},ze={},Fe=90!=ie&&-90!=ie?mt?-1:1:0,Me=Bt[0]+"% "+Bt[1]+"%";z.css(ke).transform(W(ie)+R(Pt.x+Fe,Pt.y,st),Me),u.fpage.css(ke).transform(W(ie)+R(Pt.x+F.x-B.x-H*Bt[0]/100,Pt.y+F.y-B.y-nt*Bt[1]/100,st)+W((180/ie-2)*ie),Me),u.wrapper.transform(R(-Pt.x+ue-Fe,-Pt.y+me,st)+W(-ie),Me),u.fwrapper.transform(R(-Pt.x+B.x+ue,-Pt.y+B.y+me,st)+W(-ie),Me),D.opts.gradients&&(Bt[0]&&(Mt.x=100-Mt.x),Bt[1]&&(Mt.y=100-Mt.y),ze["box-shadow"]="0 0 20px rgba(0,0,0,"+.5*L+")",Z.css(ze),dt(u.ashadow,e(mt?100:0,ft?0:100),e(Mt.x,Mt.y),[[Ct,"rgba(0,0,0,0)"],[.8*(1-Ct)+Ct,"rgba(0,0,0,"+.2*se+")"],[1,"rgba(255,255,255,"+.2*se+")"]],3),S._backGradient.call(z)&&dt(u.bshadow,e(mt?0:100,ft?0:100),e($t.x,$t.y),[[.6,"rgba(0,0,0,0)"],[.8,"rgba(0,0,0,"+.3*se+")"],[1,"rgba(0,0,0,0)"]],3))};switch(c.corner){case"l":case"r":break;case"tl":c.x=Math.max(c.x,1),Rt(),Nt(Y,[1,0,0,1],[100,0],$);break;case"tr":c.x=Math.min(c.x,H-1),Rt(),Nt(e(-Y.x,Y.y),[0,0,0,1],[0,0],-$);break;case"bl":c.x=Math.max(c.x,1),Rt(),Nt(e(Y.x,-Y.y),[1,1,0,0],[100,100],-$);break;case"br":c.x=Math.min(c.x,H-1),Rt(),Nt(e(-Y.x,-Y.y),[0,1,1,0],[0,100],$)}}u.point=c},_moveFoldingPage:function(c){var u=this.data().f;if(u){var D=u.opts.turn,M=D.data(),H=M.pagePlace;if(c){var nt=u.opts.next;H[nt]!=u.opts.page&&(u.folding&&S._moveFoldingPage.call(this,!1),S._foldingPage.call(this).appendTo(u.fpage),H[nt]=u.opts.page,u.folding=nt),D.turn("update")}else if(u.folding){if(M.pages[u.folding]){var Tt=M.pages[u.folding].data().f;M.pageObjs[u.folding].appendTo(Tt.wrapper)}else M.pageWrap[u.folding]&&M.pageObjs[u.folding].appendTo(M.pageWrap[u.folding]);u.folding in H&&(H[u.folding]=u.folding),delete u.folding}}},_showFoldedPage:function(c,u){var D=S._foldingPage.call(this),M=this.data(),H=M.f,nt=H.visible;if(D){if(!nt||!H.point||H.point.corner!=c.corner){var kt="hover"==H.status||"peel"==H.status||H.opts.turn.data().mouseAction?c.corner:null;if(nt=!1,"prevented"==St("start",this,[H.opts,kt]))return!1}if(u){var Tt=this,Lt=H.point&&H.point.corner==c.corner?H.point:S._c.call(this,c.corner,1);this.animatef({from:[Lt.x,Lt.y],to:[c.x,c.y],duration:500,frame:function(Vt){c.x=Math.round(Vt[0]),c.y=Math.round(Vt[1]),S._fold.call(Tt,c)}})}else S._fold.call(this,c),M.effect&&!M.effect.turning&&this.animatef(!1);if(!nt)switch(H.effect){case"hard":H.visible=!0,S._moveFoldingPage.call(this,!0),H.fpage.show(),H.opts.shadows&&H.bshadow.show();break;case"sheet":H.visible=!0,H.fparent.show().data().flips++,S._moveFoldingPage.call(this,!0),H.fwrapper.show(),H.bshadow&&H.bshadow.show()}return!0}return!1},hide:function(){var c=this.data().f,u=c.opts.turn.data(),D=S._foldingPage.call(this);switch(c.effect){case"hard":u.opts.gradients&&(c.bshadowLoc=0,c.bshadow.remove(),c.ashadow.hide()),c.wrapper.transform(""),c.fpage.hide();break;case"sheet":0==--c.fparent.data().flips&&c.fparent.hide(),this.css({left:0,top:0,right:"auto",bottom:"auto"}).transform(""),c.wrapper.transform(""),c.fwrapper.hide(),c.bshadow&&c.bshadow.hide(),D.transform("")}return c.visible=!1,this},hideFoldedPage:function(c){var u=this.data().f;if(u.point){var D=this,M=u.point,H=function(){u.point=null,u.status="",D.flip("hide"),D.trigger("end",[u.opts,!1])};if(c){var nt=S._c.call(this,M.corner),Tt="t"==M.corner.substr(0,1)?Math.min(0,M.y-nt.y)/2:Math.max(0,M.y-nt.y)/2,Lt=e(M.x,M.y+Tt),Vt=e(nt.x,nt.y-Tt);this.animatef({from:0,to:1,frame:function(Ht){var Ot=_(M,Lt,Vt,nt,Ht);M.x=Ot.x,M.y=Ot.y,S._fold.call(D,M)},complete:H,duration:800,hiding:!0})}else this.animatef(!1),H()}},turnPage:function(c){var u=this,D=this.data().f,M=D.opts.turn.data();c={corner:D.corner?D.corner.corner:c||S._cAllowed.call(this)[0]};var H=D.point||S._c.call(this,c.corner,D.opts.turn?M.opts.elevation:0),nt=S._c2.call(this,c.corner);this.trigger("flip").animatef({from:0,to:1,frame:function(kt){var Tt=_(H,H,nt,nt,kt);c.x=Tt.x,c.y=Tt.y,S._showFoldedPage.call(u,c)},complete:function(){u.trigger("end",[D.opts,!0])},duration:M.opts.duration,turning:!0}),D.corner=null},moving:function(){return"effect"in this.data()},isTurning:function(){return this.flip("moving")&&this.data().effect.turning},corner:function(){return this.data().f.corner},_eventStart:function(c){var u=this.data().f,D=u.opts.turn;if(!u.corner&&!u.disabled&&!this.flip("isTurning")&&u.opts.page==D.data().pagePlace[u.opts.page]){if(u.corner=S._isIArea.call(this,c),u.corner&&S._foldingPage.call(this))return this.trigger("pressed",[u.point]),S._showFoldedPage.call(this,u.corner),!1;u.corner=null}},_eventMove:function(c){var u=this.data().f;if(!u.disabled)if(c=m?c.originalEvent.touches:[c],u.corner){var D=u.parent.offset();u.corner.x=c[0].pageX-D.left,u.corner.y=c[0].pageY-D.top,S._showFoldedPage.call(this,u.corner)}else if(u.hover&&!this.data().effect&&this.is(":visible")){var M=S._isIArea.call(this,c[0]);if(M){if("sheet"==u.effect&&2==M.corner.length||"hard"==u.effect){u.status="hover";var H=S._c.call(this,M.corner,u.opts.cornerSize/2);M.x=H.x,M.y=H.y,S._showFoldedPage.call(this,M,!0)}}else"hover"==u.status&&(u.status="",S.hideFoldedPage.call(this,!0))}},_eventEnd:function(){var c=this.data().f,u=c.corner;!c.disabled&&u&&"prevented"!=St("released",this,[c.point||u])&&S.hideFoldedPage.call(this,!0),c.corner=null},disable:function(c){return S.setData.call(this,{disabled:c}),this},hover:function(c){return S.setData.call(this,{hover:c}),this},peel:function(c,u){var D=this.data().f;if(c){if(-1==tt.inArray(c,i.all))throw _t("Corner "+c+" is not permitted");if(-1!=tt.inArray(c,S._cAllowed.call(this))){var M=S._c.call(this,c,D.opts.cornerSize/2);D.status="peel",S._showFoldedPage.call(this,{corner:c,x:M.x,y:M.y},u)}}else D.status="",S.hideFoldedPage.call(this,u);return this}};function f(c,u,D){if(!D[0]||"object"==typeof D[0])return u.init.apply(c,D);if(u[D[0]])return u[D[0]].apply(c,Array.prototype.slice.call(D,1));throw _t(D[0]+" is not a method or property")}function a(c,u,D,M){return{css:{position:"absolute",top:c,left:u,overflow:M||"hidden",zIndex:D||"auto"}}}function _(c,u,D,M,H){var nt=1-H,kt=nt*nt*nt,Tt=H*H*H;return e(Math.round(kt*c.x+3*H*nt*nt*u.x+3*H*H*nt*D.x+Tt*M.x),Math.round(kt*c.y+3*H*nt*nt*u.y+3*H*H*nt*D.y+Tt*M.y))}function e(c,u){return{x:c,y:u}}function R(c,u,D){return oe&&D?" translate3d("+c+"px,"+u+"px, 0px) ":" translate("+c+"px, "+u+"px) "}function W(c){return" rotate("+c+"deg) "}function K(c,u){return Object.prototype.hasOwnProperty.call(u,c)}function at(){for(var c=["Moz","Webkit","Khtml","O","ms"],u=c.length,D="";u--;)c[u]+"Transform"in document.body.style&&(D="-"+c[u].toLowerCase()+"-");return D}function dt(c,u,D,M,H){var nt,kt=[];if("-webkit-"==q){for(nt=0;nt<H;nt++)kt.push("color-stop("+M[nt][0]+", "+M[nt][1]+")");c.css({"background-image":"-webkit-gradient(linear, "+u.x+"% "+u.y+"%,"+D.x+"% "+D.y+"%, "+kt.join(",")+" )"})}else{u={x:u.x/100*c.width(),y:u.y/100*c.height()};var Tt=(D={x:D.x/100*c.width(),y:D.y/100*c.height()}).x-u.x,Lt=D.y-u.y,Vt=Math.atan2(Lt,Tt),Ht=Vt-Math.PI/2,Ot=Math.abs(c.width()*Math.sin(Ht))+Math.abs(c.height()*Math.cos(Ht)),At=Math.sqrt(Lt*Lt+Tt*Tt),b=e(D.x<u.x?c.width():0,D.y<u.y?c.height():0),s=Math.tan(Vt),w=-1/s,N=(w*b.x-b.y-s*u.x+u.y)/(w-s),z={x:N,y:w*N-w*b.x+b.y},$=Math.sqrt(Math.pow(z.x-u.x,2)+Math.pow(z.y-u.y,2));for(nt=0;nt<H;nt++)kt.push(" "+M[nt][1]+" "+100*($+At*M[nt][0])/Ot+"%");c.css({"background-image":q+"linear-gradient("+-Vt+"rad,"+kt.join(",")+")"})}}function St(c,u,D){var M=tt.Event(c);return u.trigger(M,D),M.isDefaultPrevented()?"prevented":M.isPropagationStopped()?"stopped":""}function _t(c){function u(D){this.name="TurnJsError",this.message=D}return(u.prototype=new Error).constructor=u,new u(c)}function qt(c){var u={top:0,left:0};do{u.left+=c.offsetLeft,u.top+=c.offsetTop}while(c=c.offsetParent);return u}window.requestAnim=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c){window.setTimeout(c,1e3/60)},tt.extend(tt.fn,{flip:function(){return f(tt(this[0]),S,arguments)},turn:function(){return f(tt(this[0]),v,arguments)},transform:function(c,u){var D={};return u&&(D[q+"transform-origin"]=u),D[q+"transform"]=c,this.css(D)},animatef:function(c){var u=this.data();if(u.effect&&u.effect.stop(),c){c.to.length||(c.to=[c.to]),c.from.length||(c.from=[c.from]);for(var D=[],M=c.to.length,H=!0,nt=this,kt=(new Date).getTime(),Tt=function(){if(u.effect&&H){for(var Vt=[],Ht=Math.min(c.duration,(new Date).getTime()-kt),Ot=0;Ot<M;Ot++)Vt.push(u.effect.easing(1,Ht,c.from[Ot],D[Ot],c.duration));c.frame(1==M?Vt[0]:Vt),Ht==c.duration?(delete u.effect,nt.data(u),c.complete&&c.complete()):window.requestAnim(Tt)}},Lt=0;Lt<M;Lt++)D.push(c.to[Lt]-c.from[Lt]);u.effect=tt.extend({stop:function(){H=!1},easing:function(Vt,Ht,Ot,At,b){return At*Math.sqrt(1-(Ht=Ht/b-1)*Ht)+Ot}},c),this.data(u),Tt()}else delete u.effect}}),tt.isTouch=m,tt.mouseEvents=d,tt.cssPrefix=at,tt.cssTransitionEnd=function rt(){var c,u=document.createElement("fakeelement"),D={transition:"transitionend",OTransition:"oTransitionEnd",MSTransition:"transitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(c in D)if(void 0!==u.style[c])return D[c]},tt.findPos=qt}(jQuery);var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(tt,oe,P){tt instanceof String&&(tt=String(tt));for(var q=tt.length,r=0;r<q;r++){var x=tt[r];if(oe.call(P,x,r,tt))return{i:r,v:x}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(tt,oe,P){tt!=Array.prototype&&tt!=Object.prototype&&(tt[oe]=P.value)},$jscomp.getGlobal=function(tt){return typeof window<"u"&&window===tt?tt:typeof global<"u"&&null!=global?global:tt},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(tt,oe,P,q){if(oe){for(P=$jscomp.global,tt=tt.split("."),q=0;q<tt.length-1;q++){var r=tt[q];r in P||(P[r]={}),P=P[r]}(oe=oe(q=P[tt=tt[tt.length-1]]))!=q&&null!=oe&&$jscomp.defineProperty(P,tt,{configurable:!0,writable:!0,value:oe})}},$jscomp.polyfill("Array.prototype.find",function(tt){return tt||function(oe,P){return $jscomp.findInternal(this,oe,P).v}},"es6","es3"),$jscomp.polyfill("Math.sign",function(tt){return tt||function(oe){return 0===(oe=Number(oe))||isNaN(oe)?oe:0<oe?1:-1}},"es6","es3"),function(tt){function oe(i,o){return i[0]!=o[0]&&(!!i.attr("page")||!!i.parent()[0]&&oe(i.parent(),o))}function P(i){function o(l){this.name="TurnJsError",this.message=l}return(o.prototype=Error()).constructor=o,new o(i)}function q(i,o,l){return l?" translate3d("+i+"px,"+o+"px, 0px) ":" translate("+i+"px, "+o+"px) "}function r(i,o){return o?" scale3d("+i+", "+i+", 1) ":" scale("+i+") "}function x(i,o){return{x:i,y:o}}function C(i,o){return function(){return i.apply(o,arguments)}}var m={max:2,flipbook:null,easeFunction:"ease-in-out",duration:500,when:{}},d={init:function(i){var o=this,l=this.data();if(!(i=tt.extend({},m,i)).flipbook||!i.flipbook.turn("is"))throw P("options.flipbook is required");if("function"!=typeof i.max){var p=i.max;i.max=function(){return p}}for(var E in l.zoom={opts:i,axis:x(0,0),scrollPos:x(0,0),eventQueue:[],mouseupEvent:function(){return d._eMouseUp.apply(o,arguments)},eventTouchStart:C(d._eTouchStart,o),eventTouchMove:C(d._eTouchMove,o),eventTouchEnd:C(d._eTouchEnd,o),flipbookEvents:{zooming:C(d._eZoom,o),pressed:C(d._ePressed,o),released:C(d._eReleased,o),start:C(d._eStart,o),turning:C(d._eTurning,o),turned:C(d._eTurned,o),destroying:C(d._eDestroying,o)}},i.when)Object.prototype.hasOwnProperty.call(i.when,E)&&this.on("zoom."+E,i.when[E]);for(E in l.zoom.flipbookEvents)Object.prototype.hasOwnProperty.call(l.zoom.flipbookEvents,E)&&i.flipbook.on(E,l.zoom.flipbookEvents[E]);this.css({position:"relative",overflow:"hidden"}),tt.isTouch?(i.flipbook.on("touchstart",l.zoom.eventTouchStart).on("touchmove",l.zoom.eventTouchMove).on("touchend",l.zoom.eventTouchEnd),this.on("touchstart",d._tap)):this.on("mousedown",d._mousedown).on("click",d._tap)},_tap:function(i){var o=tt(this),l=o.data().zoom;l.draggingCorner||l.dragging||!oe(tt(i.target),o)||(d._addEvent.call(o,"tap",i),(i=d._eventSeq.call(o))&&o.trigger(i))},_addEvent:function(i,o){var l=this.data().zoom,p=(new Date).getTime();l.eventQueue.push({name:i,timestamp:p,event:o}),10<l.eventQueue.length&&l.eventQueue.splice(0,1)},_eventSeq:function(){var i=this.data().zoom.eventQueue,o=i.length-1;return 0<o&&"tap"==i[o].name&&"tap"==i[o-1].name&&i[o].event.pageX==i[o-1].event.pageX&&i[o].event.pageY==i[o-1].event.pageY&&200>i[o].timestamp-i[o-1].timestamp&&50<i[o].timestamp-i[o-1].timestamp?tt.extend(i[o].event,{type:"zoom.doubleTap"}):"tap"==i[o].name?tt.extend(i[o].event,{type:"zoom.tap"}):void 0},_prepareZoom:function(){var i=0,o=this.data().zoom,l=1/this.zoom("value"),p=o.opts.flipbook,E=p.turn("direction"),g=p.data(),v=p.offset(),S=this.offset(),f={height:p.height()},a=p.turn("view");if("double"==p.turn("display")&&p.data().opts.autoCenter?a[0]?a[1]?(f.width=p.width(),p=x(v.left-S.left,v.top-S.top)):(f.width=p.width()/2,i="ltr"==E?0:f.width,p=x("ltr"==E?v.left-S.left:v.left-S.left+f.width,v.top-S.top)):(f.width=p.width()/2,i="ltr"==E?f.width:0,p=x("ltr"==E?v.left-S.left+f.width:v.left-S.left,v.top-S.top)):(f.width=p.width(),p=x(v.left-S.left,v.top-S.top)),o.zoomer||(o.zoomer=tt("<div />",{class:"zoomer",css:{overflow:"hidden",position:"absolute",zIndex:"1000000"}}).on("mousedown",function(){return!1}).appendTo(this)),o.zoomer.css({top:p.y,left:p.x,width:f.width,height:f.height}),(E=a.join(","))!=o.zoomerView)for(o.zoomerView=E,o.zoomer.find("*").remove(),E=0;E<a.length;E++)if(a[E]){S=g.pageObjs[a[E]].offset();var _=tt(g.pageObjs[a[E]]);_.clone().transform("").css({width:_.width()*l,height:_.height()*l,position:"absolute",display:"",top:(S.top-v.top)*l,left:(S.left-v.left-i)*l}).appendTo(o.zoomer)}return{pos:p,size:f}},value:function(){return this.data().zoom.opts.flipbook.turn("zoom")},zoomIn:function(i){var o=this,l=this.data().zoom,p=l.opts.flipbook,E=l.opts.max();p.offset();var g=this.offset();if(l.zoomIn)return this;p.turn("stop");var v=tt.Event("zoom.change");if(this.trigger(v,[E]),v.isDefaultPrevented())return this;var S=d._prepareZoom.call(this);v=S.pos;var f=x(S.size.width/2,S.size.height/2),a=p.data().opts.autoCenter;l.scale=E,p.data().noCenter=!0,(0>(i=typeof i<"u"?"x"in i&&"y"in i?x(i.x-v.x,i.y-v.y):tt.isTouch?x(i.originalEvent.touches[0].pageX-v.x-g.left,i.originalEvent.touches[0].pageY-v.y-g.top):x(i.pageX-v.x-g.left,i.pageY-v.y-g.top):x(f.x,f.y)).x||0>i.y||i.x>S.width||i.y>S.height)&&(i.x=f.x,i.y=f.y);var _=x((i.x-f.x)*E+f.x,(i.y-f.y)*E+f.y);i=x(S.size.width*E>this.width()?i.x-_.x:0,S.size.height*E>this.height()?i.y-_.y:0),_=x(Math.abs(S.size.width*E-this.width()),Math.abs(S.size.height*E-this.height())),S=x(Math.min(0,S.size.width*E-this.width()),Math.min(0,S.size.height*E-this.height()));var j=x(f.x*E-f.x-v.x-i.x,f.y*E-f.y-v.y-i.y);return j.y>_.y?i.y=j.y-_.y+i.y:j.y<S.y&&(i.y=j.y-S.y+i.y),j.x>_.x?i.x=j.x-_.x+i.x:j.x<S.x&&(i.x=j.x-S.x+i.x),j=x(f.x*E-f.x-v.x-i.x,f.y*E-f.y-v.y-i.y),(v={}).transition="transform "+l.opts.easeFunction+" "+l.opts.duration+"ms",l.zoomer.css(v).show(),l.zoomer.on("transitionend",function(){tt(this).off("transitionend"),function(){o.trigger("zoom.zoomIn"),l.zoomIn=!0,l.flipPosition=x(p.css("left"),p.css("top")),p.turn("zoom",E).css({position:"absolute",margin:"",top:0,left:0});var e=p.offset();l.axis=x(e.left-g.left,e.top-g.top),a&&"double"==p.turn("display")&&("ltr"==p.turn("direction")&&!p.turn("view")[0]||"rtl"==p.turn("direction")&&!p.turn("view")[1])&&(l.axis.x+=p.width()/2),o.zoom("scroll",j),o.on(tt.mouseEvents.down,d._eMouseDown),o.on(tt.mouseEvents.move,d._eMouseMove),tt(document).on(tt.mouseEvents.up,l.mouseupEvent),o.on("wheel",d._eMouseWheel),setTimeout(function(){l.zoomer.hide(),l.zoomer.remove(),l.zoomer=null,l.zoomerView=null},50)}()}),l.zoomer.transform(q(i.x,i.y,!0)+r(E,!0)),this},zoomOut:function(i){var o=this,l=this.data().zoom,p=l.opts.flipbook,E=1/l.scale,g=this.offset();if(i=typeof i<"u"?i:l.opts.duration,l.zoomIn){var v=tt.Event("zoom.change");if(this.trigger(v,[1]),v.isDefaultPrevented())return this;l.zoomIn=!1,l.scale=1,p.data().noCenter=!1,o.off(tt.mouseEvents.down,d._eMouseDown),o.off(tt.mouseEvents.move,d._eMouseMove),tt(document).off(tt.mouseEvents.up,l.mouseupEvent),o.off("wheel",d._eMouseWheel),(v={}).transition="transform "+l.opts.easeFunction+" "+i+"ms",p.css(v);var S=tt("<div />",{css:{position:"relative",top:l.flipPosition.y,left:l.flipPosition.x,width:p.width()*E,height:p.height()*E,background:"blue"}}).appendTo(p.parent());v=x(S.offset().left-g.left,S.offset().top-g.top),S.remove();var f=p.data().opts.autoCenter;f&&"double"==p.turn("display")&&(p.turn("view")[0]?p.turn("view")[1]||(v.x="ltr"==p.turn("direction")?v.x+S.width()/4:v.x-S.width()/4):v.x="ltr"==p.turn("direction")?v.x-S.width()/4:v.x+S.width()/4);var a=tt.findPos(p[0]);g=x(-p.width()/2-a.left+S.width()/2+v.x+g.left,-p.height()/2-a.top+S.height()/2+v.y+g.top);var _=function(){p[0].style.removeProperty?(p[0].style.removeProperty("transition"),p.transform(p.turn("options").acceleration?q(0,0,!0):"").turn("zoom",1),p[0].style.removeProperty("margin"),p.css({position:"relative",top:l.flipPosition.y,left:l.flipPosition.x})):p.transform("none").turn("zoom",1).css({margin:"",top:l.flipPosition.y,left:l.flipPosition.x,position:"relative"}),f&&p.turn("center"),o.trigger("zoom.zoomOut")};return 0===i?_():(p.on("transitionend",function(){tt(this).off("transitionend"),_()}),p.transform(q(g.x,g.y,!0)+r(E,!0))),this}},flipbookWidth:function(){var i=this.data().zoom.opts.flipbook,o=i.turn("view");return"double"!=i.turn("display")||o[0]&&o[1]?i.width():i.width()/2},scroll:function(i,o,l){var p=this.data().zoom,E=p.opts.flipbook,g=this.zoom("flipbookWidth"),v={};if(v.transition=l?"transform 200ms":"none",E.css(v),E.transform(q(-p.axis.x-i.x,-p.axis.y-i.y,!0)),!o){if(o=x(Math.min(0,(g-this.width())/2),Math.min(0,(E.height()-this.height())/2)),E=x(g>this.width()?g-this.width():(g-this.width())/2,E.height()>this.height()?E.height()-this.height():(E.height()-this.height())/2),i.y<o.y){i.y=o.y;var S=!0}else i.y>E.y&&(i.y=E.y,S=!0);i.x<o.x?(i.x=o.x,S=!0):i.x>E.x&&(i.x=E.x,S=!0),S&&this.zoom("scroll",i,!0,!0)}p.scrollPos=x(i.x,i.y)},resize:function(){var i=this.data().zoom,o=i.opts.flipbook;if(1<this.zoom("value")){var l=o.offset(),p=this.offset();i.axis=x(l.left-p.left+(i.axis.x+i.scrollPos.x),l.top-p.top+(i.axis.y+i.scrollPos.y)),"double"!=o.turn("display")||"ltr"!=o.turn("direction")||o.turn("view")[0]||(i.axis.x+=o.width()/2),this.zoom("scroll",i.scrollPos)}},_eZoom:function(){for(var i=this.data().zoom,o=i.opts.flipbook,l=o.turn("view"),p=0;p<l.length;p++)l[p]&&this.trigger("zoom.resize",[i.scale,l[p],o.data().pageObjs[l[p]]])},_eStart:function(i,o){1!=this.zoom("value")&&i.preventDefault()},_eTurning:function(i,o,l){var p=this;i=this.zoom("value");var E=this.data().zoom;if(E.page=(o=E.opts.flipbook).turn("page"),1!=i){for(E=0;E<l.length;E++)l[E]&&this.trigger("zoom.resize",[i,l[E],o.data().pageObjs[l[E]]]);setTimeout(function(){p.zoom("resize")},0)}},_eTurned:function(i,o){if(1!=this.zoom("value")){var l=(i=this.data().zoom).opts.flipbook;o>i.page?this.zoom("scroll",x(0,i.scrollPos.y),!1,!0):o<i.page&&this.zoom("scroll",x(l.width(),i.scrollPos.y),!1,!0)}},_ePressed:function(){tt(this).data().zoom.draggingCorner=!0},_eReleased:function(){var i=tt(this).data().zoom;setTimeout(function(){i.draggingCorner=!1},1)},_eMouseDown:function(i){return tt(this).data().zoom.draggingCur=tt.isTouch?x(i.originalEvent.touches[0].pageX,i.originalEvent.touches[0].pageY):x(i.pageX,i.pageY),!1},_eMouseMove:function(i){var o=tt(this).data().zoom;if(o.draggingCur){o.dragging=!0,i=tt.isTouch?x(i.originalEvent.touches[0].pageX,i.originalEvent.touches[0].pageY):x(i.pageX,i.pageY);var l=x(i.x-o.draggingCur.x,i.y-o.draggingCur.y);return tt(this).zoom("scroll",x(o.scrollPos.x-l.x,o.scrollPos.y-l.y),!0),o.draggingCur=i,!1}},_eMouseUp:function(i){var o=tt(this).data().zoom;o.dragging&&tt(this).zoom("scroll",o.scrollPos),o.draggingCur=null,setTimeout(function(){o.dragging=!1},1)},_eMouseWheel:function(i){i=i.originalEvent;var o=tt(this).data().zoom;i=x(o.scrollPos.x-50*Math.sign(i.deltaX),o.scrollPos.y+50*Math.sign(i.deltaY)),tt(this).zoom("scroll",i,!1,!0)},_eTouchStart:function(i,o){o=tt(this).data().zoom,i=x(i.originalEvent.touches[0].pageX,i.originalEvent.touches[0].pageY),o.touch={},o.touch.initial=i,o.touch.last=i,o.touch.timestamp=(new Date).getTime(),o.touch.speed=x(0,0)},_eTouchMove:function(i){var o=tt(this).data().zoom,l=tt(this).zoom("value"),p=o.opts.flipbook,E=(new Date).getTime();i=x(i.originalEvent.touches[0].pageX,i.originalEvent.touches[0].pageY),o.touch&&1==l&&!p.data().mouseAction&&(o.touch.motion=x(i.x-o.touch.last.x,i.y-o.touch.last.y),o.touch.speed.x=0===o.touch.speed.x?o.touch.motion.x/(E-o.touch.timestamp):(o.touch.speed.x+o.touch.motion.x/(E-o.touch.timestamp))/2,o.touch.last=i,o.touch.timestamp=E)},_eTouchEnd:function(i){if((i=tt(this).data().zoom).touch&&1==tt(this).zoom("value")){var o=Math.abs(i.touch.initial.y-i.touch.last.y);50>o&&(-1>i.touch.speed.x||-100>i.touch.last.x-i.touch.initial.x)?this.trigger("zoom.swipeLeft"):50>o&&(1<i.touch.speed.x||100<i.touch.last.x-i.touch.initial.x)&&this.trigger("zoom.swipeRight")}},_eDestroying:function(){var i=this,o=this.data().zoom,l=o.opts.flipbook;for(var p in this.zoom("zoomOut",0),tt.each("tap doubleTap resize zoomIn zoomOut swipeLeft swipeRight".split(" "),function(E,g){i.off("zoom."+g)}),o.flipbookEvents)Object.prototype.hasOwnProperty.call(o.flipbookEvents,p)&&l.off(p,o.flipbookEvents[p]);l.off("touchstart",o.eventTouchStart).off("touchmove",o.eventTouchMove).off("touchend",o.eventTouchEnd),this.off("touchstart",d._tap).off("click",d._tap),o=null,this.data().zoom=null}};tt.extend(tt.fn,{zoom:function(){var i=arguments;if(i[0]&&"object"!=typeof i[0]){if(d[i[0]])return d[i[0]].apply(tt(this[0]),Array.prototype.slice.call(i,1));throw P(i[0]+" is not a method")}return d.init.apply(tt(this[0]),i)}})}(jQuery);
//# sourceMappingURL=scripts.ca75385580c52e64.js.map